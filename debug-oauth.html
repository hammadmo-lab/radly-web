<!DOCTYPE html>
<html>
<head>
    <title>OAuth Debug</title>
</head>
<body>
    <h1>OAuth Debug Information</h1>

    <h2>Current Environment:</h2>
    <p>Current URL: <span id="currentUrl"></span></p>
    <p>Origin: <span id="origin"></span></p>
    <p>Expected Callback URL: <span id="callbackUrl"></span></p>

    <h2>Test OAuth Redirect</h2>
    <p>Click the button below to simulate what should happen when you click "Continue with Google" or "Continue with Apple":</p>

    <button onclick="testOAuthRedirect()">Test OAuth Redirect</button>
    <div id="result"></div>

    <script>
        // Display current environment info
        document.getElementById('currentUrl').textContent = window.location.href;
        document.getElementById('origin').textContent = window.location.origin;
        document.getElementById('callbackUrl').textContent = window.location.origin + '/auth/callback';

        function testOAuthRedirect() {
            const redirectUrl = window.location.origin + '/auth/callback';

            // Simulate what should happen after OAuth provider redirects back
            const testUrl = redirectUrl + '?code=test_code_12345&state=test_state_12345';

            document.getElementById('result').innerHTML = `
                <h3>Test OAuth Redirect</h3>
                <p>Expected OAuth redirect URL: <strong>${testUrl}</strong></p>
                <p>This URL should match what's configured in your Supabase OAuth providers.</p>
                <a href="${testUrl}">Test with this URL</a>
            `;
        }
    </script>
</body>
</html>