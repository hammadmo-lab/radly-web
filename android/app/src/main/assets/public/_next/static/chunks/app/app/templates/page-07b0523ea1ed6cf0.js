(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1618,5656],{1877:(e,t,a)=>{Promise.resolve().then(a.bind(a,59952))},3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var s=a(95155),r=a(12115),l=a(32467),n=a(83101),i=a(64269);let o=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(o({variant:r,size:n,className:a})),ref:t,...c})});d.displayName="Button"},6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6259:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>u,_2:()=>p,lp:()=>x,mB:()=>f,rI:()=>c,ty:()=>m});var s=a(95155),r=a(12115),l=a(95736),n=a(27937),i=a(5917),o=a(99051),d=a(64269);let c=l.bL,m=r.forwardRef((e,t)=>(0,s.jsx)(l.l9,{ref:t,...e}));m.displayName=l.l9.displayName,l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,t)=>{let{className:a,inset:r,children:i,...o}=e;return(0,s.jsxs)(l.ZP,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...o,children:[i,(0,s.jsx)("span",{children:(0,s.jsx)(n.A,{className:"ml-auto h-4 w-4"})})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=l.G5.displayName;let u=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});u.displayName=l.UC.displayName;let p=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});p.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...o}=e;return(0,s.jsxs)(l.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName;let x=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});x.displayName=l.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});f.displayName=l.wv.displayName},10489:(e,t,a)=>{"use strict";a.d(t,{b:()=>i});var s=a(12115),r=a(97602),l=a(95155),n=s.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},20243:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(95155),r=a(64269);function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...a})}},25656:(e,t,a)=>{"use strict";a.d(t,{clearTokenCache:()=>d,lx:()=>m,yd:()=>p,zA:()=>u});var s=a(96648);let r="https://edge.radly.app",l="0f0a24adba9edfede4bc7413f85967224db6d1501c16f5213e901048cf4eb445",n=null,i=0;async function o(){try{let e=Date.now();if(n&&i>e+3e5)return n;let t=(0,s.createBrowserSupabase)(),{data:{session:a}}=await t.auth.getSession();return n=(null==a?void 0:a.access_token)||null,i=(null==a?void 0:a.expires_at)?1e3*a.expires_at:0,n}catch(e){return null}}function d(){n=null,i=0}async function c(e){if(!e.ok){let t=await e.text().catch(()=>""),a=Error("".concat(e.status," ").concat(e.statusText));throw a.status=e.status,a.body=t,a}if(204!==e.status)return await e.json()}async function m(e){let t=await o(),a={"x-client-key":l,"X-Request-Id":crypto.randomUUID()};return t&&(a.authorization="Bearer ".concat(t)),c(await fetch("".concat(r).concat(e),{method:"GET",headers:a,credentials:"include",cache:"no-store"}))}async function u(e,t){let a=await o(),s={"content-type":"application/json","x-client-key":l,"X-Request-Id":crypto.randomUUID()};return a&&(s.authorization="Bearer ".concat(a)),c(await fetch("".concat(r).concat(e),{method:"POST",headers:s,body:JSON.stringify(t),credentials:"include"}))}async function p(e,t){let a=await o(),s={"content-type":"application/json","x-client-key":l,"X-Request-Id":crypto.randomUUID()};return a&&(s.authorization="Bearer ".concat(a)),c(await fetch("".concat(r).concat(e),{method:"PUT",headers:s,body:JSON.stringify(t),credentials:"include"}))}},31120:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var s=a(95155),r=a(12115),l=a(64269);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});n.displayName="Textarea"},35299:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>p,Es:()=>f,L3:()=>h,c7:()=>x,lG:()=>o,rr:()=>g,zM:()=>d});var s=a(95155),r=a(12115),l=a(89511),n=a(65229),i=a(64269);let o=l.bL,d=r.forwardRef((e,t)=>(0,s.jsx)(l.l9,{ref:t,...e}));d.displayName=l.l9.displayName;let c=l.ZL,m=r.forwardRef((e,t)=>(0,s.jsx)(l.bm,{ref:t,...e}));m.displayName=l.bm.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=l.hJ.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(m,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=l.UC.displayName;let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});h.displayName=l.hE.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});g.displayName=l.VY.displayName},59952:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E,dynamic:()=>S});var s=a(95155),r=a(12115),l=a(20063),n=a(22454),i=a(6191),o=a(15870),d=a(86651);let c=(0,a(71847).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var m=a(24033),u=a(65229),p=a(3998),x=a(65142),f=a(86948),h=a(6259),g=a(25656);async function b(e){let t=await e("/v1/templates");return Array.isArray(t)?t.map(e=>(function(e){var t,a,s,r,l,n,i,o,d,c,m,u,p;let x=String(null!=(a=null!=(t=null==e?void 0:e.id)?t:null==e?void 0:e.template_id)?a:""),f=String(null!=(n=null!=(l=null!=(r=null!=(s=null==e?void 0:e.title)?s:null==e?void 0:e.name)?r:null==e?void 0:e.label)?l:null==e?void 0:e.display_name)?n:"").trim(),h=null!=(p=null!=(u=null!=(m=null!=(c=null!=(d=null!=(o=null!=(i=null==e?void 0:e.updatedAt)?i:null==e?void 0:e.updated_at)?o:null==e?void 0:e.modified_at)?d:null==e?void 0:e.modifiedAt)?c:null==e?void 0:e.version_updated)?m:null==e?void 0:e.created_at)?u:null==e?void 0:e.createdAt)?p:null,g=function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];if(!e)return{};let r={};return a.forEach(t=>{r[t]=e[t]}),r}(e,"modality","anatomy","version","description");return{id:x,title:f||"(Untitled Template)",updatedAt:h&&"string"==typeof h?new Date(h).toISOString():null,...g}})(e)):[]}var y=a(20243);function N(){return(0,s.jsxs)(f.Zp,{className:"overflow-hidden border-2",children:[(0,s.jsxs)(f.aR,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(y.E,{className:"h-5 w-16 rounded-full"}),(0,s.jsx)(y.E,{className:"h-5 w-20 rounded-full"})]}),(0,s.jsx)(y.E,{className:"h-6 w-3/4"})]}),(0,s.jsx)(y.E,{className:"w-12 h-12 rounded-full shrink-0"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.E,{className:"h-4 w-full"}),(0,s.jsx)(y.E,{className:"h-4 w-2/3"})]})]}),(0,s.jsx)(f.Wu,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(y.E,{className:"h-4 w-32"}),(0,s.jsx)(y.E,{className:"h-9 w-28 rounded-lg"})]})})]})}var j=a(51834),w=a(31120),v=a(76444),C=a(18720),A=a(95740),k=a(35299),F=a(6132);function R(e){let{templateId:t,templateName:a,isOpen:l,onClose:n,onSaved:i}=e,[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),b=(0,r.useCallback)(async()=>{x(!0);try{let e=await (0,g.lx)("/v1/templates/".concat(t,"/custom-instructions"));d(e.instructions||""),h(!1)}catch(e){d(""),h(!1)}finally{x(!1)}},[t]);(0,r.useEffect)(()=>{l&&t&&b()},[l,t,b]);let y=async()=>{m(!0);try{await (0,g.zA)("/v1/templates/".concat(t,"/custom-instructions"),{instructions:o}),C.oR.success("Custom instructions saved successfully!"),h(!1),null==i||i(),n()}catch(e){C.oR.error("Failed to save custom instructions")}finally{m(!1)}},N=()=>{f?confirm("You have unsaved changes. Are you sure you want to close?")&&n():n()};return(0,s.jsx)(j.lG,{open:l,onOpenChange:N,children:(0,s.jsxs)(j.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(j.c7,{children:[(0,s.jsxs)(j.L3,{className:"flex items-center gap-2 text-xl",children:[(0,s.jsx)(A.A,{className:"w-5 h-5 text-purple-600"}),"Customize Template: ",a]}),(0,s.jsx)(j.rr,{children:"Add custom instructions that will automatically apply every time you use this template"})]}),u?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(k.A,{className:"w-8 h-8 text-purple-600 animate-spin"})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(v.J,{htmlFor:"instructions",className:"text-base font-semibold",children:"Custom Instructions"}),(0,s.jsx)(w.T,{id:"instructions",value:o,onChange:e=>{d(e.target.value),h(!0)},placeholder:"Add custom instructions that will be applied every time you use this template. Example: 'Always include comparison with prior studies' or 'Use metric measurements only'",rows:10,className:"mt-2 font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"These instructions will be automatically included in the AI prompt when generating reports with this template"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 mb-3",children:[(0,s.jsx)(F.A,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:"Example Instructions:"})})]}),(0,s.jsxs)("ul",{className:"text-sm text-gray-700 space-y-2 ml-7",children:[(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,s.jsx)("span",{children:'"Always mention the presence or absence of lymphadenopathy in all scans"'})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,s.jsx)("span",{children:'"Include Fleischner Society recommendations for pulmonary nodules"'})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,s.jsx)("span",{children:'"Use concise language and bullet points for findings section"'})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,s.jsx)("span",{children:'"Compare all measurements with prior studies when relevant"'})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,s.jsx)("span",{children:'"Always include ACR appropriateness criteria references"'})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,s.jsx)("span",{children:'"Use teaching file format with detailed anatomical descriptions"'})]})]})]}),(0,s.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-3 rounded",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,s.jsx)("span",{className:"font-semibold text-green-700",children:"Tip:"})," Keep instructions specific and actionable. The AI will follow these preferences for every report generated with this template."]})})]}),(0,s.jsxs)(j.Es,{className:"flex gap-2",children:[(0,s.jsx)(p.$,{variant:"outline",onClick:N,disabled:c,children:"Cancel"}),(0,s.jsx)(p.$,{onClick:y,disabled:c||!f||u,className:"bg-purple-600 hover:bg-purple-700",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,s.jsx)(s.Fragment,{children:"Save Instructions"})})]})]})})}let S="force-dynamic";function E(){let e=(0,l.useRouter)(),[t,a]=(0,r.useState)(""),[y,j]=(0,r.useState)(null),[w,v]=(0,r.useState)(null),[C,A]=(0,r.useState)(!1),[k,F]=(0,r.useState)(null),S=e=>{j(e),e&&w&&(((null==E?void 0:E.filter(t=>t.modality===e).map(e=>e.anatomy))||[]).includes(w)||v(null))},{data:E,isLoading:I}=(0,n.I)({queryKey:["templates"],queryFn:async()=>await b(g.lx)}),{modalities:z,anatomies:_}=(0,r.useMemo)(()=>{if(!E)return{modalities:[],anatomies:[]};let e=new Set,t=new Set;return E.forEach(a=>{a.modality&&e.add(a.modality),a.anatomy&&(!y||a.modality===y)&&t.add(a.anatomy)}),{modalities:Array.from(e).sort(),anatomies:Array.from(t).sort()}},[E,y]),T=(0,r.useMemo)(()=>E?E.filter(e=>{let a=!t||e.title.toLowerCase().includes(t.toLowerCase())||e.modality&&e.modality.toLowerCase().includes(t.toLowerCase())||e.anatomy&&e.anatomy.toLowerCase().includes(t.toLowerCase()),s=!y||e.modality===y,r=!w||e.anatomy===w;return a&&s&&r}):[],[E,t,y,w]);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl font-semibold text-white",children:"Templates"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-[rgba(207,207,207,0.65)]",children:"Select a template to generate your medical report."})]}),(0,s.jsxs)(p.$,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"h-12 px-6 bg-[linear-gradient(90deg,#2653FF_0%,#4B8EFF_100%)] text-white shadow-[0_10px_24px_rgba(75,142,255,0.35)] hover:shadow-[0_16px_28px_rgba(75,142,255,0.45)]",children:[(0,s.jsx)(i.A,{className:"w-5 h-5 mr-2"}),"New Report"]})]}),(0,s.jsx)("div",{className:"aurora-card border border-[rgba(255,255,255,0.08)] p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[linear-gradient(135deg,#F8B74D,#FF6B6B)] shadow-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(o.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,s.jsxs)("div",{className:"space-y-2 min-w-0 flex-1",children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Save time with custom instructions"}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.75)] leading-relaxed",children:["Tap the"," ",(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md border border-[rgba(255,255,255,0.14)] bg-[rgba(255,255,255,0.08)] gap-1.5 align-middle",children:[(0,s.jsx)(o.A,{className:"w-3 h-3 text-[#8F82FF]"}),(0,s.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider text-[rgba(207,207,207,0.85)]",children:"Settings"})]})," ",'icon on any template to add preferences (e.g. "always mention lymphadenopathy"). The AI remembers them for every future report.']})]})]})}),(0,s.jsxs)("div",{className:"aurora-card border border-[rgba(255,255,255,0.08)] p-5 sm:p-6 md:p-7 space-y-5",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[rgba(207,207,207,0.45)]"}),(0,s.jsx)(x.p,{type:"search",placeholder:"Search templates by name, modality, or body system...",value:t,onChange:e=>a(e.target.value),className:"pl-12 h-12 sm:h-13 bg-[rgba(18,22,36,0.85)] border border-[rgba(255,255,255,0.08)] text-white placeholder:text-[rgba(207,207,207,0.45)] focus-visible:ring-[#4B8EFF]"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)(h.rI,{children:[(0,s.jsx)(h.ty,{asChild:!0,children:(0,s.jsxs)(p.$,{variant:"outline",className:"h-11 rounded-lg border-[rgba(255,255,255,0.12)] bg-[rgba(18,22,36,0.85)] text-white hover:border-[#4B8EFF]/40 hover:text-white ".concat(y?"border-[#4B8EFF]/40 bg-[rgba(75,142,255,0.12)]":""),children:[(0,s.jsx)(c,{className:"w-4 h-4 mr-2"}),"Modality",y&&(0,s.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-[rgba(75,142,255,0.2)] text-[#D7E3FF]",children:y}),(0,s.jsx)(m.A,{className:"w-4 h-4 ml-2"})]})}),(0,s.jsxs)(h.SQ,{align:"start",className:"w-56 bg-[rgba(12,14,24,0.95)] border border-[rgba(255,255,255,0.12)] text-white",children:[(0,s.jsxs)(h._2,{onClick:()=>S(null),children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Clear Filter"]}),z.map(e=>(0,s.jsx)(h._2,{onClick:()=>S(e),className:y===e?"bg-[rgba(75,142,255,0.18)] text-[#D7E3FF]":"",children:e},e))]})]}),(0,s.jsxs)(h.rI,{children:[(0,s.jsx)(h.ty,{asChild:!0,children:(0,s.jsxs)(p.$,{variant:"outline",className:"h-11 rounded-lg border-[rgba(255,255,255,0.12)] bg-[rgba(18,22,36,0.85)] text-white hover:border-[#4B8EFF]/40 hover:text-white ".concat(w?"border-[#4B8EFF]/40 bg-[rgba(75,142,255,0.12)]":""," ").concat(y?"":"opacity-60 cursor-not-allowed"),disabled:!y,children:[(0,s.jsx)(c,{className:"w-4 h-4 mr-2"}),"Body System",w&&(0,s.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-[rgba(143,130,255,0.2)] text-[#E0D9FF]",children:w}),(0,s.jsx)(m.A,{className:"w-4 h-4 ml-2"})]})}),(0,s.jsxs)(h.SQ,{align:"start",className:"w-56 bg-[rgba(12,14,24,0.95)] border border-[rgba(255,255,255,0.12)] text-white",children:[(0,s.jsxs)(h._2,{onClick:()=>v(null),children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Clear Filter"]}),_.map(e=>(0,s.jsx)(h._2,{onClick:()=>v(e),className:w===e?"bg-[rgba(143,130,255,0.18)] text-[#E0D9FF]":"",children:e},e))]})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:I?Array.from({length:6}).map((e,t)=>(0,s.jsx)(N,{},t)):0===T.length?(0,s.jsxs)("div",{className:"col-span-full aurora-card border border-[rgba(255,255,255,0.08)] py-12 text-center space-y-4",children:[(0,s.jsx)("div",{className:"text-[rgba(207,207,207,0.45)]",children:(0,s.jsx)(d.A,{className:"w-12 h-12 mx-auto"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"No templates found"}),(0,s.jsx)("p",{className:"text-sm text-[rgba(207,207,207,0.65)] max-w-md mx-auto",children:t||y||w?"Try adjusting your search or filters.":"Templates will appear here as soon as they are available."}),(t||y||w)&&(0,s.jsx)(p.$,{variant:"outline",onClick:()=>{a(""),S(null),v(null)},className:"mt-4 h-10 px-5 text-[rgba(207,207,207,0.85)] border-[rgba(255,255,255,0.12)] hover:text-white",children:"Clear all filters"})]}):T.map(t=>(0,s.jsxs)(f.Zp,{className:"aurora-card group relative border border-[rgba(255,255,255,0.08)] p-5 sm:p-6 cursor-pointer active:scale-[0.98] transition-transform duration-150",onClick:()=>e.push("/app/generate?templateId=".concat(t.id)),children:[(0,s.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),F({id:t.id,name:t.title||"Untitled Template"}),A(!0)},className:"absolute top-3 right-3 z-10 min-w-[44px] min-h-[44px] w-10 h-10 flex items-center justify-center rounded-lg bg-[rgba(18,22,36,0.95)] border border-[rgba(255,255,255,0.15)] text-[rgba(207,207,207,0.75)] hover:text-white hover:border-[rgba(143,130,255,0.45)] active:scale-95 transition-colors touch-manipulation","aria-label":"Customize template settings",children:(0,s.jsx)(o.A,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.modality&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-[rgba(75,142,255,0.18)] text-[#D7E3FF]",children:t.modality}),t.anatomy&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-[rgba(143,130,255,0.18)] text-[#E0D9FF]",children:t.anatomy})]}),(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:t.title||"Untitled Template"}),t.description&&(0,s.jsx)("p",{className:"text-sm text-[rgba(207,207,207,0.65)] line-clamp-2",children:t.description}),(0,s.jsx)(p.$,{className:"w-full h-10 sm:h-11 bg-[#2653FF] text-white hover:bg-[#4B8EFF]",onClick:a=>{a.stopPropagation(),e.push("/app/generate?templateId=".concat(t.id))},children:"Use Template"})]})]},t.id))}),k&&(0,s.jsx)(R,{templateId:k.id,templateName:k.name,isOpen:C,onClose:()=>{A(!1),F(null)},onSaved:()=>{}})]})}},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(2821),r=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var s=a(95155),r=a(12115),l=a(83101),n=a(64269);let i=(0,l.F)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),o=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)(i(),a),ref:t,...l})});o.displayName="Input"},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(12115);let r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:a,strokeWidth:o?24*Number(i)/Number(n):i,className:r("lucide",d),...u},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:i,...o}=a;return(0,s.createElement)(n,{ref:l,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...o})});return a.displayName="".concat(e),a}},76444:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var s=a(95155),r=a(12115),l=a(10489),n=a(83101),i=a(64269);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,i.cn)(o(),a),...r})});d.displayName=l.b.displayName},86651:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var s=a(95155),r=a(12115),l=a(64269);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},96648:(e,t,a)=>{"use strict";a.d(t,{createBrowserSupabase:()=>r});var s=a(16010);function r(){return(0,s.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{flowType:"pkce",detectSessionInUrl:!0,persistSession:!0}})}}},e=>{e.O(0,[5707,6010,8720,6743,2149,2454,8843,4336,8441,1255,7358],()=>e(e.s=1877)),_N_E=e.O()}]);