"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8510],{13077:(e,t,s)=>{s.d(t,{getSupabaseClient:()=>c});var i=s(11993),a=s(16010),r=s(32587),n=s(4077);class l{static getInstance(){return l.instance||(l.instance=new l),l.instance}async initialize(){if(!this.initialized)return this.initializationPromise||(this.initializationPromise=this._doInitialize()),this.initializationPromise}async _doInitialize(){try{if(!r.Capacitor.isNativePlatform()){this.initialized=!0;return}let{keys:e}=await n.Preferences.keys();for(let t of e.filter(e=>e.startsWith(this.STORAGE_PREFIX)))try{let{value:e}=await n.Preferences.get({key:t});if(e){let s=t.substring(this.STORAGE_PREFIX.length);this.cache.set(s,e)}}catch(e){}this.initialized=!0}catch(e){this.initialized=!0}}getItem(e){return this.initialized&&this.cache.get(e)||null}setItem(e,t){this.initialized&&(this.cache.set(e,t),this._persistToStorage(e,t).catch(e=>{}))}removeItem(e){this.initialized&&(this.cache.delete(e),this._removeFromStorage(e).catch(e=>{}))}async _persistToStorage(e,t){if(!r.Capacitor.isNativePlatform())return;let s=this.STORAGE_PREFIX+e;try{await n.Preferences.set({key:s,value:t})}catch(e){throw e}}async _removeFromStorage(e){if(!r.Capacitor.isNativePlatform())return;let t=this.STORAGE_PREFIX+e;try{await n.Preferences.remove({key:t})}catch(e){throw e}}async clear(){if(this.cache.clear(),r.Capacitor.isNativePlatform())try{let{keys:e}=await n.Preferences.keys();for(let t of e.filter(e=>e.startsWith(this.STORAGE_PREFIX)))await n.Preferences.remove({key:t})}catch(e){}}getDebugInfo(){return{initialized:this.initialized,cacheSize:this.cache.size,cachedKeys:Array.from(this.cache.keys()),platform:r.Capacitor.isNativePlatform()?"capacitor":"web",prefix:this.STORAGE_PREFIX}}constructor(){this.cache=new Map,this.initialized=!1,this.initializationPromise=null,this.STORAGE_PREFIX="sb-"}}async function c(){if(s.g.__supabase_client&&s.g.__supabase_client_initialized)return s.g.__supabase_client;if(s.g.__supabase_client_initialized){let e=0;for(;!s.g.__supabase_client&&e<50;)await new Promise(e=>setTimeout(e,100)),e++;if(s.g.__supabase_client)return s.g.__supabase_client;throw Error("Supabase client initialization timeout")}s.g.__supabase_client_initialized=!0;try{let e,t,r=(()=>{var e;let t=window.Capacitor;return!!(null==t||null==(e=t.isNativePlatform)?void 0:e.call(t))})();if(r){let e=l.getInstance();await e.initialize(),t=function(){let e=l.getInstance();return e.initialize().catch(e=>{}),{getItem:t=>e.getItem(t),setItem:(t,s)=>e.setItem(t,s),removeItem:t=>e.removeItem(t)}}()}return e=r?(0,i.UU)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{storage:t,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,debug:!0}}):(0,a.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,flowType:"pkce",debug:!1}}),s.g.__supabase_client=e,e.__isSingleton=!0,e.__createdAt=new Date().toISOString(),e.__platform=r?"capacitor":"web",e}catch(e){throw s.g.__supabase_client_initialized=!1,e}}void 0===s.g&&(globalThis.global=globalThis)},18510:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var i=s(95155),a=s(12115),r=s(20063),n=s(52619),l=s.n(n),c=s(1733),o=s(26497),d=s(89715),h=s(26983),m=s(78519),x=s(1524),u=s(95740),p=s(6132),b=s(9540),f=s(15870),w=s(6191),g=s(27937),j=s(65644),v=s(50906),N=s(65229),y=s(20508),F=s(84926),_=s(18927),I=s(31969),A=s(86487);function S(e){if(!e)return null;let t=new Date(e).getTime();return Number.isNaN(t)?null:Math.ceil(Math.max(0,t-Date.now())/864e5)}function C(){let e=(0,r.useRouter)(),{user:t,signOut:s}=(0,_.A)(),{data:n,isLoading:C,error:k}=(0,I.Rs)(),[z,B]=(0,a.useState)(!1),E=(0,a.useMemo)(()=>{var e,t;let s=null==n?void 0:n.subscription,i=null==n?void 0:n.usage_stats,a=(0,A.EL)(i),r=null!=a&&a>=.5,l=S(null==s?void 0:s.period_end);return[{label:"Reports used",value:s?"".concat(s.reports_used,"/").concat(s.reports_limit):"—",subtitle:s?"".concat(s.reports_remaining," left"):"",icon:d.A,color:"#4B8EFF",gradient:"from-[#4B8EFF]/20 via-[#2653FF]/10 to-transparent"},{label:"Avg. time",value:r?(0,A.Xo)(a):"—",subtitle:r?"Per report":"",icon:h.A,color:"#8F82FF",gradient:"from-[#8F82FF]/20 via-[#4B8EFF]/10 to-transparent"},{label:"Plan",value:null!=(e=null==s?void 0:s.tier_display_name)?e:"—",subtitle:null!=(t=null==s?void 0:s.status)?t:"",icon:m.A,color:"#3FBF8C",gradient:"from-[#3FBF8C]/20 via-[#8F82FF]/10 to-transparent"},{label:"Resets in",value:null!=l?"".concat(l," days"):"—",subtitle:(null==s?void 0:s.period_end)?new Date(s.period_end).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",icon:x.A,color:"#F8B74D",gradient:"from-[#F8B74D]/20 via-[#FF6B6B]/10 to-transparent"}]},[n]),P=(null==n?void 0:n.subscription)?n.subscription.reports_used/n.subscription.reports_limit*100:0,R=async()=>{await s(),B(!1)};return C?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0e1a] via-[#0c1018] to-[#0a0e1a] flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-[#4B8EFF] to-[#8F82FF] flex items-center justify-center animate-pulse",children:(0,i.jsx)(u.A,{className:"w-8 h-8 text-white"})}),(0,i.jsx)("p",{className:"text-white/60 text-sm",children:"Loading dashboard..."})]})}):k||!n?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0e1a] via-[#0c1018] to-[#0a0e1a] flex items-center justify-center p-6",children:(0,i.jsx)("div",{className:"w-full max-w-sm",children:(0,i.jsxs)("div",{className:"bg-[rgba(255,255,255,0.03)] backdrop-blur-xl border border-[rgba(255,255,255,0.08)] rounded-3xl p-8 text-center",children:[(0,i.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-[#FF6B6B]/20 to-[#F8B74D]/20 border border-[rgba(255,107,107,0.3)] flex items-center justify-center",children:(0,i.jsx)(p.A,{className:"w-8 h-8 text-[#FF6B6B]"})}),(0,i.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Unable to load"}),(0,i.jsx)("p",{className:"text-white/60 text-sm mb-6",children:t?"Unable to fetch subscription data":"Please sign in to view your dashboard"}),(0,i.jsx)("button",{onClick:()=>e.push("/auth/signin"),className:"w-full py-3 px-6 bg-gradient-to-r from-[#4B8EFF] to-[#2653FF] rounded-2xl text-white font-semibold",children:"Sign In"})]})})}):(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0e1a] via-[#0c1018] to-[#0a0e1a] text-white",children:[(0,i.jsx)("div",{className:"h-16 bg-[#0a0e1a]"}),(0,i.jsxs)(c.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-16 z-50 bg-gradient-to-b from-[#0a0e1a] to-transparent px-4 pb-4 pt-4 flex items-center justify-between border-b border-white/10",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("button",{onClick:()=>B(!0),className:"w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center active:scale-95 transition-transform touch-manipulation",children:(0,i.jsx)(b.A,{className:"w-6 h-6 text-white/80"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),(0,i.jsx)("p",{className:"text-sm text-white/60",children:"Welcome back"})]})]}),(0,i.jsx)("button",{onClick:()=>e.push("/app/settings"),className:"w-12 h-12 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center active:scale-95 transition-transform touch-manipulation",children:(0,i.jsx)(f.A,{className:"w-6 h-6 text-white/80"})})]}),(0,i.jsxs)("div",{className:"px-4 py-6 space-y-6 pb-32",children:[(0,i.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-[#4B8EFF]/15 via-[rgba(255,255,255,0.03)] to-transparent backdrop-blur-xl border border-white/10 rounded-3xl p-6 shadow-[0_8px_32px_rgba(0,0,0,0.4)]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#4B8EFF] to-[#2653FF] flex items-center justify-center shadow-lg",children:(0,i.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs text-white/50 uppercase tracking-wider font-medium",children:n.subscription.tier_display_name}),(0,i.jsxs)("p",{className:"text-sm font-semibold text-white",children:[n.subscription.reports_used," of ",n.subscription.reports_limit," used"]})]})]}),(0,i.jsx)(l(),{href:"/pricing",children:(0,i.jsx)("button",{className:"px-4 py-2 bg-white/10 border border-white/20 rounded-xl text-xs font-semibold text-white active:scale-95 transition-transform",children:"Upgrade"})})]}),(0,i.jsx)("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden mb-2",children:(0,i.jsx)(c.P.div,{initial:{width:0},animate:{width:"".concat(Math.min(P,100),"%")},transition:{duration:1,ease:"easeOut"},className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#4B8EFF] to-[#8F82FF] rounded-full"})}),(0,i.jsxs)("p",{className:"text-xs text-white/50 text-right",children:[n.subscription.reports_remaining," reports remaining"]})]}),(0,i.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"grid grid-cols-2 gap-3",children:E.map((e,t)=>(0,i.jsxs)(c.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1+.05*t},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-4 active:scale-95 transition-transform",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br ".concat(e.gradient," border border-white/10 flex items-center justify-center mb-3"),children:(0,i.jsx)(e.icon,{className:"w-5 h-5",style:{color:e.color}})}),(0,i.jsx)("p",{className:"text-xs text-white/50 font-medium mb-1",children:e.label}),(0,i.jsx)("p",{className:"text-xl font-bold text-white mb-0.5",children:e.value}),e.subtitle&&(0,i.jsx)("p",{className:"text-xs text-white/40",children:e.subtitle})]},e.label))}),(0,i.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[(0,i.jsx)("h2",{className:"text-base font-semibold text-white/90 px-1",children:"Quick Actions"}),(0,i.jsx)(l(),{href:"/app/templates",children:(0,i.jsx)("div",{className:"bg-gradient-to-br from-[#4B8EFF] to-[#2653FF] rounded-2xl p-5 active:scale-[0.98] transition-transform shadow-[0_8px_24px_rgba(75,142,255,0.3)]",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:(0,i.jsx)(w.A,{className:"w-6 h-6 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-bold text-white",children:"New Report"}),(0,i.jsx)("p",{className:"text-sm text-white/80",children:"Choose a template to start"})]})]}),(0,i.jsx)(g.A,{className:"w-5 h-5 text-white/60"})]})})}),(0,i.jsx)(l(),{href:"/app/templates",children:(0,i.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-4 active:scale-[0.98] transition-transform",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[#8F82FF]/20 to-transparent rounded-xl flex items-center justify-center border border-white/10",children:(0,i.jsx)(j.A,{className:"w-5 h-5 text-[#8F82FF]"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Browse Templates"}),(0,i.jsx)("p",{className:"text-xs text-white/50",children:"View all available templates"})]})]}),(0,i.jsx)(g.A,{className:"w-4 h-4 text-white/40"})]})})}),(0,i.jsx)(l(),{href:"/app/reports",children:(0,i.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-4 active:scale-[0.98] transition-transform",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[#3FBF8C]/20 to-transparent rounded-xl flex items-center justify-center border border-white/10",children:(0,i.jsx)(d.A,{className:"w-5 h-5 text-[#3FBF8C]"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-white",children:"My Reports"}),(0,i.jsx)("p",{className:"text-xs text-white/50",children:"Access your generated reports"})]})]}),(0,i.jsx)(g.A,{className:"w-4 h-4 text-white/40"})]})})})]}),P>=80&&(0,i.jsx)(c.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.25},className:"bg-gradient-to-br from-[#F8B74D]/15 via-[rgba(255,255,255,0.03)] to-transparent backdrop-blur-xl border border-[#F8B74D]/30 rounded-2xl p-4",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-[#F8B74D]/20 rounded-xl flex items-center justify-center shrink-0",children:(0,i.jsx)(p.A,{className:"w-5 h-5 text-[#F8B74D]"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-white mb-1",children:P>=100?"Limit reached":"Approaching limit"}),(0,i.jsx)("p",{className:"text-xs text-white/70 mb-3",children:P>=100?"Upgrade to continue or wait ".concat(S(n.subscription.period_end)," days"):"Consider upgrading for more reports"}),(0,i.jsx)(l(),{href:"/pricing",children:(0,i.jsx)("button",{className:"px-4 py-2 bg-[#F8B74D]/20 border border-[#F8B74D]/40 rounded-xl text-xs font-semibold text-[#F8B74D] active:scale-95 transition-transform",children:"View Plans"})})]})]})})]}),(0,i.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[rgba(10,14,26,0.95)] backdrop-blur-xl border-t border-white/10",style:{paddingBottom:"max(env(safe-area-inset-bottom), 0.5rem)"},children:(0,i.jsxs)("div",{className:"flex items-center justify-around px-2 pt-3 pb-2",children:[(0,i.jsxs)(l(),{href:"/app/dashboard",className:"flex flex-col items-center justify-center flex-1 gap-1 py-2 min-h-[44px] touch-manipulation",children:[(0,i.jsx)("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-[#4B8EFF] to-[#2653FF] flex items-center justify-center shadow-lg",children:(0,i.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,i.jsx)("span",{className:"text-[10px] font-semibold text-white",children:"Home"})]}),(0,i.jsxs)(l(),{href:"/app/templates",className:"flex flex-col items-center justify-center flex-1 gap-1 py-2 min-h-[44px] touch-manipulation",children:[(0,i.jsx)("div",{className:"w-11 h-11 rounded-xl bg-white/5 flex items-center justify-center",children:(0,i.jsx)(j.A,{className:"w-6 h-6 text-white/60"})}),(0,i.jsx)("span",{className:"text-[10px] font-medium text-white/50",children:"Templates"})]}),(0,i.jsxs)(l(),{href:"/app/reports",className:"flex flex-col items-center justify-center flex-1 gap-1 py-2 min-h-[44px] touch-manipulation",children:[(0,i.jsx)("div",{className:"w-11 h-11 rounded-xl bg-white/5 flex items-center justify-center",children:(0,i.jsx)(d.A,{className:"w-6 h-6 text-white/60"})}),(0,i.jsx)("span",{className:"text-[10px] font-medium text-white/50",children:"Reports"})]})]})}),(0,i.jsx)(o.N,{children:z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>B(!1),className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm"}),(0,i.jsxs)(c.P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-[85vw] max-w-sm bg-[rgba(10,14,26,0.98)] backdrop-blur-xl border-r border-white/10 shadow-2xl flex flex-col",style:{paddingTop:"max(env(safe-area-inset-top), 1.5rem)"},children:[(0,i.jsxs)("div",{className:"p-6 border-b border-white/10",style:{paddingTop:"max(env(safe-area-inset-top), 1.5rem)"},children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#4B8EFF] to-[#2653FF] flex items-center justify-center",children:(0,i.jsx)(u.A,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xs text-white/50 uppercase tracking-wider",children:"Radly"}),(0,i.jsx)("p",{className:"text-base font-bold text-white",children:"Assistant"})]})]}),(0,i.jsx)("button",{onClick:()=>B(!1),className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center active:scale-95 transition-transform",children:(0,i.jsx)(N.A,{className:"w-5 h-5 text-white/70"})})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl border border-white/10",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#4B8EFF] to-[#8F82FF] flex items-center justify-center",children:(0,i.jsx)(y.A,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-white truncate",children:(null==t?void 0:t.email)||"User"}),(0,i.jsx)("p",{className:"text-xs text-white/50",children:null==n?void 0:n.subscription.tier_display_name})]})]})]}),(0,i.jsxs)("div",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:[(0,i.jsx)(l(),{href:"/app/dashboard",onClick:()=>B(!1),children:(0,i.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 active:scale-95 transition-transform min-h-[56px] touch-manipulation",children:[(0,i.jsx)(v.A,{className:"w-5 h-5 text-[#4B8EFF]"}),(0,i.jsx)("span",{className:"text-base font-medium text-white",children:"Dashboard"})]})}),(0,i.jsx)(l(),{href:"/app/templates",onClick:()=>B(!1),children:(0,i.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl hover:bg-white/5 active:scale-95 transition-transform min-h-[56px] touch-manipulation",children:[(0,i.jsx)(j.A,{className:"w-5 h-5 text-white/60"}),(0,i.jsx)("span",{className:"text-base font-medium text-white/80",children:"Templates"})]})}),(0,i.jsx)(l(),{href:"/app/reports",onClick:()=>B(!1),children:(0,i.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl hover:bg-white/5 active:scale-95 transition-transform min-h-[56px] touch-manipulation",children:[(0,i.jsx)(d.A,{className:"w-5 h-5 text-white/60"}),(0,i.jsx)("span",{className:"text-base font-medium text-white/80",children:"Reports"})]})}),(0,i.jsx)(l(),{href:"/app/settings",onClick:()=>B(!1),children:(0,i.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl hover:bg-white/5 active:scale-95 transition-transform min-h-[56px] touch-manipulation",children:[(0,i.jsx)(f.A,{className:"w-5 h-5 text-white/60"}),(0,i.jsx)("span",{className:"text-base font-medium text-white/80",children:"Settings"})]})})]}),(0,i.jsx)("div",{className:"p-4 border-t border-white/10 bg-[#0a0e1a]",style:{paddingBottom:"max(env(safe-area-inset-bottom), 1rem)"},children:(0,i.jsxs)("button",{onClick:R,className:"w-full flex items-center justify-center gap-2 p-4 bg-white/5 border border-white/10 rounded-xl text-white/80 hover:bg-white/10 active:scale-95 transition-all min-h-[56px] touch-manipulation",children:[(0,i.jsx)(F.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-base font-medium",children:"Sign Out"})]})})]})]})})]})}},18927:(e,t,s)=>{s.d(t,{O:()=>h,A:()=>m});var i=s(95155),a=s(12115),r=s(32587),n=s(16010),l=s(90260);function c(){try{let e=(0,n.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,flowType:"pkce",debug:!1}});if((0,l.Wj)()){let t=(0,l.Ld)();return{...e,auth:{...e.auth,getSession:async()=>({data:{session:t},error:null}),getUser:async()=>({data:{user:(null==t?void 0:t.user)||null},error:null}),signOut:async()=>({error:null}),signInWithOAuth:async()=>({error:Error("Test mode: OAuth not available")}),exchangeCodeForSession:async()=>({error:Error("Test mode: Code exchange not available")}),onAuthStateChange:e=>(e("SIGNED_IN",t),{data:{subscription:{unsubscribe:()=>{}}}})}}}return e}catch(e){return{auth:{getSession:async()=>({data:{session:null},error:null}),getUser:async()=>({data:{user:null},error:null}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithOAuth:async()=>({error:Error("Mock client: OAuth not available")}),exchangeCodeForSession:async()=>({error:Error("Mock client: Code exchange not available")})}}}}var o=s(13077);let d=(0,a.createContext)(void 0);function h(e){let{children:t}=e,[n,l]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e;return(async()=>{try{var t;let s=r.Capacitor.isNativePlatform()?await (0,o.getSupabaseClient)():c(),{data:{session:i}}=await s.auth.getSession();m(i),l(null!=(t=null==i?void 0:i.user)?t:null),u(!1);let{data:{subscription:a}}=s.auth.onAuthStateChange((e,t)=>{var s;m(t),l(null!=(s=null==t?void 0:t.user)?s:null),u(!1)});e=()=>a.unsubscribe()}catch(e){m(null),l(null),u(!1)}})(),()=>{try{null==e||e()}catch(e){}}},[]);let p=async()=>{try{let e=r.Capacitor.isNativePlatform()?await (0,o.getSupabaseClient)():c();await e.auth.signOut();let{clearTokenCache:t}=await s.e(5656).then(s.bind(s,25656));t()}catch(e){}};return(0,i.jsx)(d.Provider,{value:{user:n,session:h,loading:x,signOut:p},children:t})}function m(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);