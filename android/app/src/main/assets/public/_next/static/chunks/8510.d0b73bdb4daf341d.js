"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8510],{9540:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},15870:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},18510:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var r=a(95155),s=a(12115),l=a(20063),i=a(52619),n=a.n(i),o=a(1733),c=a(50906),d=a(65644),x=a(89715),h=a(26983),m=a(78519),b=a(1524),g=a(6191),p=a(9540),u=a(95740),f=a(15870),v=a(52987),y=a(65229),j=a(20508),N=a(84926),w=a(3998),F=a(86948),C=a(11858),k=a(31969),A=a(18927),_=a(86487);function B(e){if(!e)return null;let t=new Date(e).getTime();return Number.isNaN(t)?null:Math.ceil(Math.max(0,t-Date.now())/864e5)}function S(){let e=(0,l.useRouter)(),{user:t,signOut:a}=(0,A.A)(),{data:i}=(0,k.Rs)(),[S,I]=(0,s.useState)(null),[E,z]=(0,s.useState)(!1),R=window.location.pathname,D=(null==t?void 0:t.email)||localStorage.getItem("user-email"),M=[{href:"/app/dashboard",icon:c.A,label:"Dashboard"},{href:"/app/templates",icon:d.A,label:"Templates"},{href:"/app/reports",icon:x.A,label:"Reports"}];(0,s.useEffect)(()=>{let e=localStorage.getItem("recent-template-id"),t=localStorage.getItem("recent-template-name");e&&I({id:e,name:t})},[]);let P=(0,s.useMemo)(()=>{var t;let a=null==i?void 0:i.subscription,r=null==i?void 0:i.usage_stats,s=(0,_.EL)(r),l=null!=s&&s>=.5,n=B(null==a?void 0:a.period_end);return[{label:"Reports used",value:a?"".concat(a.reports_used,"/").concat(a.reports_limit):"—",change:a?"".concat(a.reports_remaining," remaining"):"",icon:x.A,bgClass:"bg-gradient-to-br from-[#4B8EFF]/20 to-[#2653FF]/10",iconColor:"text-[#4B8EFF]",onClick:()=>e.push("/app/reports")},{label:"Avg. time",value:l?(0,_.Xo)(s):"—",change:l?"Last 30 days":r?"Data coming soon":"",icon:h.A,bgClass:"bg-gradient-to-br from-[#8F82FF]/20 to-[#4B8EFF]/10",iconColor:"text-[#8F82FF]",onClick:()=>{}},{label:"Plan",value:null!=(t=null==a?void 0:a.tier_display_name)?t:"—",change:a?a.status:"",icon:m.A,bgClass:"bg-gradient-to-br from-[#3FBF8C]/20 to-[#8F82FF]/10",iconColor:"text-[#3FBF8C]",onClick:()=>e.push("/app/settings?tab=subscription")},{label:"Resets in",value:null!=n?"".concat(n,"d"):"—",change:(null==a?void 0:a.period_end)?new Date(a.period_end).toLocaleDateString():"",icon:b.A,bgClass:"bg-gradient-to-br from-[#F8B74D]/20 to-[#FF6B6B]/10",iconColor:"text-[#F8B74D]",onClick:()=>{}}]},[i,e]),W=(0,s.useMemo)(()=>{let e=(null==S?void 0:S.name)?S.name.length>32?"".concat(S.name.slice(0,29),"…"):S.name:null;return[S?{icon:g.A,title:e?"Resume ".concat(e):"Resume recent draft",description:"Pick up where you left off",href:"/app/generate?templateId=".concat(encodeURIComponent(S.id)),gradient:"from-[#4B8EFF] to-[#8F82FF]",badge:"Draft saved",cta:"Continue"}:{icon:g.A,title:"Choose a Template",description:"Start a fresh report from our library",href:"/app/templates",gradient:"from-[#4B8EFF] to-[#3FBF8C]",cta:"Get started"},{icon:d.A,title:"Browse Templates",description:"View all available report templates",href:"/app/templates",gradient:"from-[#8F82FF] to-[#4B8EFF]",cta:"Browse"},{icon:c.A,title:"View Reports",description:"Access your generated reports",href:"/app/reports",gradient:"from-[#3FBF8C] to-[#4B8EFF]",cta:"Open reports"}]},[S]);return(0,r.jsxs)("div",{className:"flex flex-col h-screen w-full bg-[var(--ds-bg-gradient)] text-white",children:[(0,r.jsx)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"sticky top-0 z-40 border-b border-[rgba(255,255,255,0.08)] backdrop-blur-md bg-[rgba(8,12,22,0.75)]",style:{paddingTop:"max(var(--safe-area-top), 0px)"},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(w.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 text-[rgba(255,255,255,0.7)] hover:text-white hover:bg-[rgba(255,255,255,0.08)]",onClick:()=>z(!0),children:(0,r.jsx)(p.A,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-[#4B8EFF]/20 to-[#8F82FF]/20 border border-[rgba(75,142,255,0.3)]",children:(0,r.jsx)(u.A,{className:"w-6 h-6 text-[#4B8EFF]"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-xs text-[rgba(255,255,255,0.6)]",children:"Welcome back"})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(w.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 text-[rgba(255,255,255,0.7)] hover:text-white hover:bg-[rgba(255,255,255,0.08)]",onClick:()=>e.push("/app/settings"),children:(0,r.jsx)(f.A,{className:"w-5 h-5"})})})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6 pb-20 w-full",style:{WebkitOverflowScrolling:"touch",maxHeight:"calc(100dvh - 200px)"},children:[(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,r.jsx)(C.A,{})}),(null==i?void 0:i.subscription)&&(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"aurora-card rounded-2xl border border-[rgba(75,142,255,0.28)] bg-[rgba(38,83,255,0.12)] p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 text-[#4B8EFF]"}),(0,r.jsx)("span",{className:"text-xs font-medium text-[#4B8EFF] uppercase tracking-wide",children:i.subscription.tier_display_name})]}),(0,r.jsxs)("p",{className:"text-sm font-semibold text-white mb-1",children:[i.subscription.reports_remaining," reports remaining"]}),(0,r.jsxs)("p",{className:"text-xs text-[rgba(255,255,255,0.6)]",children:["Resets in ",B(i.subscription.period_end)," days"]})]}),(0,r.jsx)(w.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-xs font-semibold text-[#4B8EFF] border-[#4B8EFF]/40 hover:bg-[rgba(75,142,255,0.12)] shrink-0",onClick:()=>e.push("/pricing"),children:"Upgrade"})]})}),(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 gap-3",children:P.map((e,t)=>(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,r.jsx)(F.Zp,{className:"aurora-card rounded-xl border border-[rgba(255,255,255,0.06)] bg-[rgba(255,255,255,0.02)] overflow-hidden touch-manipulation",onClick:e.onClick,children:(0,r.jsxs)(F.Wu,{className:"p-4",children:[(0,r.jsx)("div",{className:"inline-flex p-2 rounded-lg mb-3 ".concat(e.bgClass),children:(0,r.jsx)(e.icon,{className:"w-5 h-5 ".concat(e.iconColor)})}),(0,r.jsx)("p",{className:"text-xs text-[rgba(255,255,255,0.6)] font-medium mb-1 truncate",children:e.label}),(0,r.jsx)("p",{className:"text-lg font-bold text-white",children:e.value}),e.change&&(0,r.jsx)("p",{className:"text-xs text-[rgba(255,255,255,0.4)] mt-1 truncate",children:e.change})]})})},e.label))}),(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:(0,r.jsx)("div",{className:"grid grid-cols-1 gap-3",children:W.map((e,t)=>(0,r.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,r.jsxs)(n(),{href:e.href,className:"group flex items-center justify-between rounded-2xl border border-[rgba(255,255,255,0.06)] bg-[rgba(255,255,255,0.02)] p-4 hover:border-[rgba(75,142,255,0.35)] hover:bg-[rgba(75,142,255,0.08)] transition-all",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br ".concat(e.gradient," text-white shadow-[0_18px_42px_rgba(31,64,175,0.22)]"),children:(0,r.jsx)(e.icon,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-base font-semibold text-white",children:e.title}),e.badge&&(0,r.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[rgba(255,255,255,0.12)] text-[rgba(255,255,255,0.8)] border border-[rgba(255,255,255,0.18)]",children:e.badge})]}),(0,r.jsx)("p",{className:"text-xs text-[rgba(255,255,255,0.6)]",children:e.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-[rgba(255,255,255,0.7)] group-hover:text-white",children:[(0,r.jsx)("span",{className:"text-xs font-semibold",children:e.cta}),(0,r.jsx)(v.A,{className:"w-4 h-4"})]})]})},e.title))})}),S&&(0,r.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl border border-[rgba(255,255,255,0.06)] bg-[rgba(255,255,255,0.02)] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Recent Template"}),(0,r.jsx)(n(),{href:"/app/generate?templateId=".concat(encodeURIComponent(S.id)),className:"text-xs text-[rgba(75,142,255,0.9)] hover:text-[#4B8EFF]",children:"Resume"})]}),(0,r.jsx)("p",{className:"text-sm text-[rgba(255,255,255,0.8)]",children:S.name||"Untitled template"})]})]}),(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-[rgba(255,255,255,0.08)] bg-[rgba(8,12,22,0.85)] backdrop-blur-sm",style:{paddingBottom:"max(var(--safe-area-bottom), 0px)"},children:(0,r.jsx)("div",{className:"flex items-center justify-around h-16",children:M.map(e=>{let t=R.startsWith(e.href);return(0,r.jsxs)(n(),{href:e.href,className:"flex flex-col items-center justify-center w-16 h-16 gap-1 ".concat(t?"text-white":"text-white/65 hover:text-white"),children:[(0,r.jsx)(e.icon,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"text-[11px] font-medium",children:e.label})]},e.href)})})}),E&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",onClick:()=>z(!1)}),(0,r.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 transform transition-transform duration-200 ease-out ".concat(E?"translate-x-0":"-translate-x-full"),style:{width:"min(80vw, 320px)",paddingTop:"max(12px, var(--safe-area-top, 0px))"},children:(0,r.jsxs)("div",{className:"relative h-full w-80 max-w-[88vw] bg-[rgba(8,12,22,0.96)] border-r border-[rgba(75,142,255,0.25)] shadow-[0_30px_80px_rgba(10,14,24,0.75)]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-[rgba(255,255,255,0.08)] p-4 safe-area-inset-top",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-[linear-gradient(135deg,#2653FF_0%,#4B8EFF_60%,#8F82FF_100%)] shadow-[0_18px_42px_rgba(31,64,175,0.42)]",children:(0,r.jsx)(x.A,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm uppercase tracking-[0.24em] text-[rgba(207,207,207,0.45)]",children:"Radly"}),(0,r.jsx)("span",{className:"text-xl font-semibold text-white",children:"Assistant"})]})]}),(0,r.jsx)(w.$,{variant:"ghost",size:"icon",onClick:()=>z(!1),"aria-label":"Close navigation menu",className:"text-[rgba(207,207,207,0.7)] hover:text-white",children:(0,r.jsx)(y.A,{className:"w-5 h-5"})})]}),(0,r.jsx)("nav",{className:"space-y-3 p-4",children:M.map(e=>(0,r.jsxs)(n(),{href:e.href,onClick:()=>z(!1),className:"flex items-center gap-3 rounded-xl border border-[rgba(255,255,255,0.08)] px-4 py-3 text-sm font-medium transition-all duration-200 min-h-[44px] touch-manipulation text-[rgba(207,207,207,0.7)] bg-[rgba(12,16,28,0.72)] hover:border-[rgba(75,142,255,0.32)] hover:bg-[rgba(75,142,255,0.12)] hover:text-white hover:shadow-[0_14px_30px_rgba(31,64,175,0.35)]",style:{borderColor:R.startsWith(e.href)?"rgba(75,142,255,0.45)":"rgba(255,255,255,0.08)",backgroundColor:R.startsWith(e.href)?"rgba(75,142,255,0.16)":"rgba(12,16,28,0.72)",color:R.startsWith(e.href)?"white":"rgba(207,207,207,0.7)"},children:[(0,r.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg border border-[rgba(255,255,255,0.08)] bg-[rgba(18,22,36,0.85)]",style:{borderColor:R.startsWith(e.href)?"rgba(75,142,255,0.35)":"rgba(255,255,255,0.08)",backgroundColor:R.startsWith(e.href)?"rgba(75,142,255,0.2)":"rgba(18,22,36,0.85)",color:R.startsWith(e.href)?"#D7E3FF":"rgba(207,207,207,0.7)"},children:(0,r.jsx)(e.icon,{className:"h-4.5 w-4.5"})}),(0,r.jsx)("span",{children:e.label})]},e.href))}),(0,r.jsxs)("div",{className:"absolute inset-x-0 bottom-0 border-t border-[rgba(255,255,255,0.08)] bg-[rgba(6,10,18,0.95)] p-4",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-[rgba(255,255,255,0.08)] bg-[rgba(18,22,36,0.85)] text-[rgba(207,207,207,0.7)]",children:(0,r.jsx)(j.A,{className:"h-4.5 w-4.5"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("p",{className:"truncate text-sm font-medium text-white",children:(null==t?void 0:t.email)||D||"Loading..."})})]}),(0,r.jsxs)(w.$,{variant:"ghost",onClick:async()=>{try{await a(),localStorage.removeItem("user-email"),localStorage.removeItem("recent-template-id"),localStorage.removeItem("recent-template-name"),e.push("/auth/signin"),z(!1)}catch(t){localStorage.clear(),e.push("/auth/signin"),z(!1)}},className:"w-full justify-center rounded-xl border border-[rgba(255,255,255,0.12)] bg-[rgba(18,22,36,0.72)] text-[rgba(207,207,207,0.75)] hover:border-[rgba(255,107,107,0.35)] hover:bg-[rgba(255,107,107,0.16)] hover:text-[#FFD1D1]",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})})]})}},18927:(e,t,a)=>{a.d(t,{O:()=>c,A:()=>d});var r=a(95155),s=a(12115),l=a(16010),i=a(90260);function n(){try{let e=(0,l.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs");if((0,i.Wj)()){let t=(0,i.Ld)();return{...e,auth:{...e.auth,getSession:async()=>({data:{session:t},error:null}),getUser:async()=>({data:{user:(null==t?void 0:t.user)||null},error:null}),signOut:async()=>({error:null}),onAuthStateChange:e=>(e("SIGNED_IN",t),{data:{subscription:{unsubscribe:()=>{}}}})}}}return e}catch(e){return{auth:{getSession:async()=>({data:{session:null},error:null}),getUser:async()=>({data:{user:null},error:null}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})}}}}let o=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[l,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[x,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=n();e.auth.getSession().then(e=>{var t;let{data:{session:a}}=e;d(a),i(null!=(t=null==a?void 0:a.user)?t:null),h(!1)}).catch(e=>{d(null),i(null),h(!1)});let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{var a;d(t),i(null!=(a=null==t?void 0:t.user)?a:null),h(!1)});return()=>t.unsubscribe()},[]);let m=async()=>{try{let e=n();await e.auth.signOut();let{clearTokenCache:t}=await a.e(5656).then(a.bind(a,25656));t()}catch(e){}};return(0,r.jsx)(o.Provider,{value:{user:l,session:c,loading:x,signOut:m},children:t})}function d(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},20508:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},65229:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},78519:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},84926:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(71847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}}]);