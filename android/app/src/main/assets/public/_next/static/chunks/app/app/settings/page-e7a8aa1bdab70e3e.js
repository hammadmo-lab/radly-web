(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5656,7442],{3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var a=t(95155),r=t(12115),i=t(32467),l=t(83101),n=t(64269);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:c=!1,...o}=e,m=c?i.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(d({variant:r,size:l,className:t})),ref:s,...o})});c.displayName="Button"},6259:(e,s,t)=>{"use strict";t.d(s,{SQ:()=>u,_2:()=>x,lp:()=>f,mB:()=>h,rI:()=>o,ty:()=>m});var a=t(95155),r=t(12115),i=t(95736),l=t(27937),n=t(5917),d=t(99051),c=t(64269);let o=i.bL,m=r.forwardRef((e,s)=>(0,a.jsx)(i.l9,{ref:s,...e}));m.displayName=i.l9.displayName,i.YJ,i.ZL,i.Pb,i.z6,r.forwardRef((e,s)=>{let{className:t,inset:r,children:n,...d}=e;return(0,a.jsxs)(i.ZP,{ref:s,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...d,children:[n,(0,a.jsx)("span",{children:(0,a.jsx)(l.A,{className:"ml-auto h-4 w-4"})})]})}).displayName=i.ZP.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.G5,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=i.G5.displayName;let u=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{ref:s,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});u.displayName=i.UC.displayName;let x=r.forwardRef((e,s)=>{let{className:t,inset:r,...l}=e;return(0,a.jsx)(i.q7,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...l})});x.displayName=i.q7.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:l,...d}=e;return(0,a.jsxs)(i.H_,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:l,...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}),r]})}).displayName=i.H_.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(i.hN,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=i.hN.displayName;let f=r.forwardRef((e,s)=>{let{className:t,inset:r,...l}=e;return(0,a.jsx)(i.JU,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...l})});f.displayName=i.JU.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});h.displayName=i.wv.displayName},11186:(e,s,t)=>{"use strict";t.d(s,{bq:()=>u,eb:()=>p,gC:()=>h,l6:()=>o,yv:()=>m});var a=t(95155),r=t(12115),i=t(18261),l=t(24033),n=t(12108),d=t(5917),c=t(64269);let o=i.bL;i.YJ;let m=i.WT,u=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(i.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})})]})});u.displayName=i.l9.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});x.displayName=i.PP.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=i.wn.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:[(0,a.jsx)(x,{}),(0,a.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(f,{})]})})});h.displayName=i.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=i.JU.displayName;let p=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(i.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:r})]})});p.displayName=i.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=i.wv.displayName},11647:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(95155);t(12115);var r=t(83101),i=t(64269);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:t}),s),...r})}},18927:(e,s,t)=>{"use strict";t.d(s,{O:()=>c,A:()=>o});var a=t(95155),r=t(12115),i=t(16010),l=t(90260);function n(){try{let e=(0,i.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs");if((0,l.Wj)()){let s=(0,l.Ld)();return{...e,auth:{...e.auth,getSession:async()=>({data:{session:s},error:null}),getUser:async()=>({data:{user:(null==s?void 0:s.user)||null},error:null}),signOut:async()=>({error:null}),onAuthStateChange:e=>(e("SIGNED_IN",s),{data:{subscription:{unsubscribe:()=>{}}}})}}}return e}catch(e){return{auth:{getSession:async()=>({data:{session:null},error:null}),getUser:async()=>({data:{user:null},error:null}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})}}}}let d=(0,r.createContext)(void 0);function c(e){let{children:s}=e,[i,l]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=n();e.auth.getSession().then(e=>{var s;let{data:{session:t}}=e;o(t),l(null!=(s=null==t?void 0:t.user)?s:null),u(!1)}).catch(e=>{o(null),l(null),u(!1)});let{data:{subscription:s}}=e.auth.onAuthStateChange((e,s)=>{var t;o(s),l(null!=(t=null==s?void 0:s.user)?t:null),u(!1)});return()=>s.unsubscribe()},[]);let x=async()=>{try{let e=n();await e.auth.signOut();let{clearTokenCache:s}=await t.e(5656).then(t.bind(t,25656));s()}catch(e){}};return(0,a.jsx)(d.Provider,{value:{user:i,session:c,loading:m,signOut:x},children:s})}function o(){let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},20243:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(95155),r=t(64269);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...t})}},21787:(e,s,t)=>{Promise.resolve().then(t.bind(t,78153))},25656:(e,s,t)=>{"use strict";t.d(s,{clearTokenCache:()=>c,lx:()=>m,yd:()=>x,zA:()=>u});var a=t(96648);let r="https://edge.radly.app",i="0f0a24adba9edfede4bc7413f85967224db6d1501c16f5213e901048cf4eb445",l=null,n=0;async function d(){try{let e=Date.now();if(l&&n>e+3e5)return l;let s=(0,a.createBrowserSupabase)(),{data:{session:t}}=await s.auth.getSession();return l=(null==t?void 0:t.access_token)||null,n=(null==t?void 0:t.expires_at)?1e3*t.expires_at:0,l}catch(e){return null}}function c(){l=null,n=0}async function o(e){if(!e.ok){let s=await e.text().catch(()=>""),t=Error("".concat(e.status," ").concat(e.statusText));throw t.status=e.status,t.body=s,t}if(204!==e.status)return await e.json()}async function m(e){let s=await d(),t={"x-client-key":i,"X-Request-Id":crypto.randomUUID()};return s&&(t.authorization="Bearer ".concat(s)),o(await fetch("".concat(r).concat(e),{method:"GET",headers:t,credentials:"include",cache:"no-store"}))}async function u(e,s){let t=await d(),a={"content-type":"application/json","x-client-key":i,"X-Request-Id":crypto.randomUUID()};return t&&(a.authorization="Bearer ".concat(t)),o(await fetch("".concat(r).concat(e),{method:"POST",headers:a,body:JSON.stringify(s),credentials:"include"}))}async function x(e,s){let t=await d(),a={"content-type":"application/json","x-client-key":i,"X-Request-Id":crypto.randomUUID()};return t&&(a.authorization="Bearer ".concat(t)),o(await fetch("".concat(r).concat(e),{method:"PUT",headers:a,body:JSON.stringify(s),credentials:"include"}))}},31969:(e,s,t)=>{"use strict";t.d(s,{JO:()=>n,Rs:()=>l});var a=t(22454),r=t(25656),i=t(85578);function l(){let{isAuthed:e,mounted:s}=(0,i.Q)();return(0,a.I)({queryKey:["subscription-usage"],queryFn:()=>(0,r.lx)("/v1/subscription/usage"),refetchInterval:6e4,enabled:s&&e,retry:(e,s)=>{if(s&&"object"==typeof s&&"status"in s){let e=s.status;if(401===e||403===e||404===e)return!1}return e<3},staleTime:3e4})}function n(){let{data:e}=l();return(null==e?void 0:e.subscription.tier)||"free"}},51834:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>h,L3:()=>p,c7:()=>f,lG:()=>d,rr:()=>g,zM:()=>c});var a=t(95155),r=t(12115),i=t(89511),l=t(65229),n=t(64269);let d=i.bL,c=r.forwardRef((e,s)=>(0,a.jsx)(i.l9,{ref:s,...e}));c.displayName=i.l9.displayName;let o=i.ZL,m=r.forwardRef((e,s)=>(0,a.jsx)(i.bm,{ref:s,...e}));m.displayName=i.bm.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});u.displayName=i.hJ.displayName;let x=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(i.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(m,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.UC.displayName;let f=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};f.displayName="DialogHeader";let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};h.displayName="DialogFooter";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});p.displayName=i.hE.displayName;let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});g.displayName=i.VY.displayName},62890:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(96648);function r(){return(0,a.createBrowserSupabase)()}},64269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(2821),r=t(75889);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},65142:(e,s,t)=>{"use strict";t.d(s,{p:()=>d});var a=t(95155),r=t(12115),i=t(83101),l=t(64269);let n=(0,i.F)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),d=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)(n(),t),ref:s,...i})});d.displayName="Input"},76444:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var a=t(95155),r=t(12115),i=t(10489),l=t(83101),n=t(64269);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.b,{ref:s,className:(0,n.cn)(d(),t),...r})});c.displayName=i.b.displayName},78153:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ev,dynamic:()=>eb});var a=t(95155),r=t(12115),i=t(99776),l=t(22454),n=t(3998),d=t(86948),c=t(65142),o=t(76444),m=t(64269);let u=r.forwardRef((e,s)=>{let{className:t,checked:r=!1,onCheckedChange:i,disabled:l,...n}=e;return(0,a.jsx)("button",{type:"button",role:"switch","aria-checked":r,"data-state":r?"checked":"unchecked",disabled:l,className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",r?"bg-primary":"bg-input",t),onClick:()=>null==i?void 0:i(!r),ref:s,...n,children:(0,a.jsx)("span",{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",r?"translate-x-5":"translate-x-0")})})});u.displayName="Switch";var x=t(11186),f=t(11647),h=t(80991),p=t(18927),g=t(91162),j=t(18720),y=t(1733),N=t(26497),b=t(42529),v=t(6132),w=t(26983),_=t(15870),S=t(46046),A=t(20508),C=t(57828),k=t(39926),R=t(50906),D=t(3166),P=t(99708),U=t(39867),Y=t(21786),I=t(89715),F=t(6259),T=t(20243),E=t(95740),M=t(39347),z=t(20017),B=t(21190),J=t(71360),Z=t(80549),O=t(25656);async function L(e,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new FormData;r.append("file",e),r.append("profile_name",s),r.append("is_default",String(a));let{createBrowserSupabase:i}=await Promise.resolve().then(t.bind(t,96648)),l=i(),{data:{session:n}}=await l.auth.getSession(),d=null==n?void 0:n.access_token,c={"x-client-key":"0f0a24adba9edfede4bc7413f85967224db6d1501c16f5213e901048cf4eb445","X-Request-Id":crypto.randomUUID()};d&&(c.authorization="Bearer ".concat(d));let o=await fetch("".concat("https://edge.radly.app","/v1/formatting/upload"),{method:"POST",headers:c,body:r,credentials:"include"});if(!o.ok){let e=await o.text().catch(()=>"");throw Error("Upload failed: ".concat(o.status," ").concat(e))}return o.json()}async function q(){return(0,O.lx)("/v1/formatting/profiles")}async function $(e,s){return(0,O.yd)("/v1/formatting/profiles/".concat(e),s)}async function W(e){let{createBrowserSupabase:s}=await Promise.resolve().then(t.bind(t,96648)),a=s(),{data:{session:r}}=await a.auth.getSession(),i=null==r?void 0:r.access_token,l={"x-client-key":"0f0a24adba9edfede4bc7413f85967224db6d1501c16f5213e901048cf4eb445","X-Request-Id":crypto.randomUUID()};i&&(l.authorization="Bearer ".concat(i));let n=await fetch("".concat("https://edge.radly.app","/v1/formatting/profiles/").concat(e),{method:"DELETE",headers:l,credentials:"include"});if(!n.ok){let e=await n.text().catch(()=>"");throw Error("Delete failed: ".concat(n.status," ").concat(e))}return n.json()}async function X(e){return(0,O.zA)("/v1/formatting/profiles/".concat(e,"/set-default"),{})}let Q={all:["formatting"],profiles:()=>[...Q.all,"profiles"],profile:e=>[...Q.all,"profile",e],default:()=>[...Q.all,"default"]};var G=t(51834);function V(e){let{open:s,onOpenChange:t,onSuccess:l}=e,[d,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(""),[f,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),w=(0,r.useRef)(null),_=function(){let e=(0,i.jE)();return(0,Z.n)({mutationFn:async e=>{let{file:s,profileName:t,isDefault:a}=e;if(s.size>5242880)throw Error("File size must be less than 5MB");if(!s.name.endsWith(".docx"))throw Error("Only DOCX files are accepted");return L(s,t,a)},onSuccess:s=>{e.invalidateQueries({queryKey:Q.profiles()}),s.is_default&&e.invalidateQueries({queryKey:Q.default()}),j.oR.success('Profile "'.concat(s.profile_name,'" created successfully'))},onError:e=>{let s=e.message||"Failed to upload template";j.oR.error(s)}})}(),S=async()=>{if(!d)return void g("Please select a file");if(!u.trim())return void g("Please enter a profile name");if(u.length>255)return void g("Profile name must be less than 255 characters");try{await _.mutateAsync({file:d,profileName:u.trim(),isDefault:f}),m(null),x(""),h(!1),g(null),w.current&&(w.current.value=""),t(!1),null==l||l()}catch(e){}};return(0,a.jsx)(G.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(G.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(G.c7,{children:[(0,a.jsxs)(G.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,a.jsx)(Y.A,{className:"w-4 h-4 text-white"})}),"Upload Template"]}),(0,a.jsx)(G.rr,{children:"Upload a DOCX template to create a custom formatting profile for your reports."})]}),(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"file-upload",children:"DOCX Template"}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(c.p,{id:"file-upload",ref:w,type:"file",accept:".docx",onChange:e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(g(null),!t)return void m(null);if(!t.name.endsWith(".docx")){g("Only DOCX files are accepted"),m(null);return}if(t.size>5242880){g("File size must be less than 5MB"),m(null);return}m(t)},className:"cursor-pointer file:cursor-pointer file:mr-4 file:px-4 file:py-2 file:rounded-md file:border-0 file:bg-emerald-500 file:text-white file:font-semibold hover:file:bg-emerald-600"})}),(0,a.jsx)(N.N,{children:d&&(0,a.jsxs)(y.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-start gap-3 p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[(0,a.jsx)(I.A,{className:"w-5 h-5 text-emerald-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-emerald-900 truncate",children:d.name}),(0,a.jsx)("p",{className:"text-xs text-emerald-700",children:(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB"][s]})(d.size)})]}),(0,a.jsx)(b.A,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"})]})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Maximum file size: 5MB. Accepted format: .docx"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"profile-name",children:"Profile Name"}),(0,a.jsx)(c.p,{id:"profile-name",value:u,onChange:e=>x(e.target.value),placeholder:"e.g., General Hospital Format",maxLength:255,className:"border-2 focus:border-emerald-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Give your formatting profile a descriptive name (1-255 characters)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{id:"is-default",type:"checkbox",checked:f,onChange:e=>h(e.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,a.jsx)(o.J,{htmlFor:"is-default",className:"cursor-pointer text-sm font-normal",children:"Set as default formatting profile"})]}),_.isPending&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Uploading and processing..."}),(0,a.jsx)("span",{className:"font-medium text-emerald-600",children:"Processing"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-emerald-600 h-2 rounded-full animate-pulse",style:{width:"50%"}})})]}),(0,a.jsx)(N.N,{children:p&&(0,a.jsxs)(y.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:p})]})}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"Template Guidelines"}),(0,a.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,a.jsx)("li",{children:"• Use a properly formatted DOCX file with styles defined"}),(0,a.jsx)("li",{children:"• The system will extract formatting from headings, paragraphs, and lists"}),(0,a.jsx)("li",{children:"• Font names, sizes, colors, and spacing will be preserved"}),(0,a.jsx)("li",{children:"• You can have up to 10 formatting profiles"})]})]})]}),(0,a.jsxs)(G.Es,{children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>{m(null),x(""),h(!1),g(null),w.current&&(w.current.value=""),t(!1)},disabled:_.isPending,children:"Cancel"}),(0,a.jsx)(n.$,{onClick:S,disabled:!d||!u.trim()||_.isPending,className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:_.isPending?(0,a.jsx)(a.Fragment,{children:"Processing..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"w-4 h-4 mr-2"}),"Upload Template"]})})]})]})})}var K=t(57268);let H=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(K.b,{ref:s,decorative:i,orientation:r,className:(0,m.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...l})});H.displayName=K.b.displayName;var ee=t(5917),es=t(65229),et=t(40583),ea=t(3538),er=t(80003),ei=t(37107);function el(e){let{profile:s,onClose:t}=e,[l,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(s.profile_name),[h,p]=(0,r.useState)(!1),g=function(){let e=(0,i.jE)();return(0,Z.n)({mutationFn:async e=>{let{profileId:s,data:t}=e;return $(s,t)},onSuccess:s=>{e.invalidateQueries({queryKey:Q.profiles()}),e.invalidateQueries({queryKey:Q.profile(s.profile_id)}),s.is_default&&e.invalidateQueries({queryKey:Q.default()}),j.oR.success("Profile updated successfully")},onError:e=>{j.oR.error(e.message||"Failed to update profile")}})}(),y=function(){let e=(0,i.jE)();return(0,Z.n)({mutationFn:W,onSuccess:(s,t)=>{e.invalidateQueries({queryKey:Q.profiles()}),e.invalidateQueries({queryKey:Q.default()}),e.removeQueries({queryKey:Q.profile(t)}),j.oR.success("Profile deleted successfully")},onError:e=>{j.oR.error(e.message||"Failed to delete profile")}})}(),N=function(){let e=(0,i.jE)();return(0,Z.n)({mutationFn:X,onSuccess:s=>{e.invalidateQueries({queryKey:Q.profiles()}),e.invalidateQueries({queryKey:Q.default()}),e.setQueryData(Q.profile(s.profile_id),s),j.oR.success('"'.concat(s.profile_name,'" is now your default profile'))},onError:e=>{j.oR.error(e.message||"Failed to set default profile")}})}(),b=async()=>u.trim()?u.trim()===s.profile_name?void m(!1):void(await g.mutateAsync({profileId:s.profile_id,data:{profile_name:u.trim()}}),m(!1)):void j.oR.error("Profile name cannot be empty"),v=async()=>{await y.mutateAsync(s.profile_id),p(!1),null==t||t()},w=async()=>{await N.mutateAsync(s.profile_id)},_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=(e,s,t)=>{if(!t||0===Object.keys(t).length)return null;let r=t.font_name,i=t.font_size,l=t.bold,n=t.italic,d=t.uppercase,c=t.alignment,m=t.spacing_before,u=t.spacing_after,x=t.bullet_character,f=t.numbering_format,h=t.indent,p=t.style;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s,(0,a.jsx)("h4",{className:"font-semibold text-sm",children:e})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 pl-6",children:[r&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Font"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:r})]}),i&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Size"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:[i,"pt"]})]}),void 0!==l&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Bold"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l?"Yes":"No"})]}),void 0!==n&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Italic"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:n?"Yes":"No"})]}),void 0!==d&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Uppercase"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:d?"Yes":"No"})]}),c&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Alignment"}),(0,a.jsx)("p",{className:"text-sm font-medium capitalize",children:c})]}),void 0!==m&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Spacing Before"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:[m,"pt"]})]}),void 0!==u&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Spacing After"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:[u,"pt"]})]}),x&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Bullet"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:x})]}),f&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Numbering"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:f})]}),void 0!==h&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Indent"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:[h,"pt"]})]}),p&&(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(o.J,{className:"text-xs text-gray-500",children:"Style Name"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:p})]})]})]})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.Zp,{className:"border-2",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:l?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:u,onChange:e=>x(e.target.value),className:"max-w-xs",autoFocus:!0}),(0,a.jsx)(n.$,{size:"sm",onClick:b,disabled:g.isPending,children:(0,a.jsx)(ee.A,{className:"w-4 h-4"})}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>{x(s.profile_name),m(!1)},children:(0,a.jsx)(es.A,{className:"w-4 h-4"})})]}):(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(I.A,{className:"w-8 h-8 text-emerald-600"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[s.profile_name,s.is_default&&(0,a.jsxs)(f.E,{className:"bg-emerald-100 text-emerald-700",children:[(0,a.jsx)(M.A,{className:"w-3 h-3 mr-1 fill-emerald-700"}),"Default"]})]}),(0,a.jsxs)(d.BT,{className:"mt-1",children:["Created: ",_(s.created_at),s.updated_at!==s.created_at&&(0,a.jsxs)(a.Fragment,{children:[" • Updated: ",_(s.updated_at)]})]})]})]})}),!l&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>m(!0),children:[(0,a.jsx)(B.A,{className:"w-4 h-4 mr-1"}),"Rename"]}),!s.is_default&&(0,a.jsxs)(n.$,{size:"sm",variant:"outline",onClick:w,disabled:N.isPending,children:[(0,a.jsx)(M.A,{className:"w-4 h-4 mr-1"}),"Set Default"]}),(0,a.jsx)(n.$,{size:"sm",variant:"destructive",onClick:()=>p(!0),children:(0,a.jsx)(J.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsx)(H,{}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Formatting Configuration"}),(0,a.jsxs)("div",{className:"grid gap-6",children:[S("Patient Information",(0,a.jsx)(et.A,{className:"w-4 h-4 text-blue-600"}),s.formatting_config.patient_info),S("Report Title",(0,a.jsx)(ea.A,{className:"w-4 h-4 text-violet-600"}),s.formatting_config.report_title),S("Section Headers",(0,a.jsx)(ea.A,{className:"w-4 h-4 text-emerald-600"}),s.formatting_config.section_headers),S("Findings",(0,a.jsx)(er.A,{className:"w-4 h-4 text-orange-600"}),s.formatting_config.findings),S("Impression",(0,a.jsx)(ei.A,{className:"w-4 h-4 text-red-600"}),s.formatting_config.impression),S("Recommendations",(0,a.jsx)(er.A,{className:"w-4 h-4 text-teal-600"}),s.formatting_config.recommendations),S("Signature",(0,a.jsx)(et.A,{className:"w-4 h-4 text-gray-600"}),s.formatting_config.signature)]})]}),t&&(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsx)(n.$,{variant:"outline",onClick:t,children:"Close"})})]})]}),(0,a.jsx)(G.lG,{open:h,onOpenChange:p,children:(0,a.jsxs)(G.Cf,{children:[(0,a.jsxs)(G.c7,{children:[(0,a.jsx)(G.L3,{children:"Delete Formatting Profile?"}),(0,a.jsxs)(G.rr,{children:['Are you sure you want to delete "',s.profile_name,'"? This action cannot be undone.']})]}),(0,a.jsxs)(G.Es,{children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,a.jsx)(n.$,{variant:"destructive",onClick:v,disabled:y.isPending,children:y.isPending?"Deleting...":"Delete Profile"})]})]})})]})}function en(){let[e,s]=(0,r.useState)(!1),[t,i]=(0,r.useState)(null),{data:c,isLoading:o,error:m,refetch:u}=(0,l.I)({queryKey:Q.profiles(),queryFn:q,staleTime:3e5,retry:(e,s)=>!(s.status&&[401,403,404].includes(s.status))&&e<3}),x=(null==c?void 0:c.profiles)||[],h=(null==c?void 0:c.total)||0;if(o)return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(T.E,{className:"h-10 w-64"}),(0,a.jsx)(T.E,{className:"h-10 w-40"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,a.jsx)(T.E,{className:"h-40"},e))})]});if(m){let e=403===m.status;return(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)(d.Zp,{className:"border-2 border-red-200 bg-red-50",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-red-900",children:[(0,a.jsx)(v.A,{className:"w-6 h-6"}),e?"Upgrade Required":"Error Loading Profiles"]}),(0,a.jsx)(d.BT,{className:"text-red-700",children:e?"Custom formatting is available for Professional and Premium tier users.":m.message||"Failed to load formatting profiles. Please try again."})]}),(0,a.jsx)(d.Wu,{children:e?(0,a.jsxs)(n.$,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",onClick:()=>window.location.href="/pricing",children:[(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"View Pricing"]}):(0,a.jsx)(n.$,{onClick:()=>u(),children:"Try Again"})})]})})}return t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>i(null),children:"← Back to Profiles"}),(0,a.jsx)(el,{profile:t,onClose:()=>i(null)})]}):0===h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:(0,a.jsxs)(d.Zp,{className:"border-2 border-dashed border-gray-300 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[(0,a.jsxs)(d.aR,{className:"text-center pb-4",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,a.jsx)(I.A,{className:"w-8 h-8 text-white"})})}),(0,a.jsx)(d.ZB,{className:"text-2xl",children:"No Formatting Profiles Yet"}),(0,a.jsx)(d.BT,{className:"text-base",children:"Upload a DOCX template to create your first custom formatting profile"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,a.jsxs)(n.$,{size:"lg",onClick:()=>s(!0),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,a.jsx)(Y.A,{className:"w-5 h-5 mr-2"}),"Upload Your First Template"]})}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"Getting Started"}),(0,a.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,a.jsx)("li",{children:"• Prepare a DOCX file with your desired formatting styles"}),(0,a.jsx)("li",{children:"• Upload the template to extract formatting configuration"}),(0,a.jsx)("li",{children:"• Set a profile as default to use it for all exports"}),(0,a.jsx)("li",{children:"• Create up to 10 different formatting profiles"})]})]})]})]})}),(0,a.jsx)(V,{open:e,onOpenChange:s,onSuccess:()=>u()})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Custom Formatting Profiles"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Manage your report formatting templates (",h," / 10)"]})]}),(0,a.jsxs)(n.$,{onClick:()=>s(!0),disabled:h>=10,className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4 mr-2"}),"Upload Template"]})]}),h>=10&&(0,a.jsxs)(y.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"Profile Limit Reached"}),(0,a.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"You've reached the maximum of 10 formatting profiles. Delete an existing profile to upload a new one."})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,a.jsx)(N.N,{mode:"popLayout",children:x.map((e,s)=>(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:.05*s},children:(0,a.jsxs)(d.Zp,{className:"border-2 hover:border-emerald-500 transition-all hover:shadow-lg group",children:[(0,a.jsx)(d.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(I.A,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"}),e.is_default&&(0,a.jsxs)(f.E,{className:"bg-emerald-100 text-emerald-700",children:[(0,a.jsx)(M.A,{className:"w-3 h-3 mr-1 fill-emerald-700"}),"Default"]})]}),(0,a.jsx)(d.ZB,{className:"text-lg truncate",children:e.profile_name}),(0,a.jsxs)(d.BT,{className:"text-xs",children:["Created: ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),(0,a.jsxs)(F.rI,{children:[(0,a.jsx)(F.ty,{asChild:!0,children:(0,a.jsxs)(n.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Actions"})]})}),(0,a.jsxs)(F.SQ,{align:"end",children:[(0,a.jsxs)(F._2,{onClick:()=>i(e),children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"View Details"]}),(0,a.jsx)(F.mB,{}),(0,a.jsxs)(F._2,{onClick:()=>{i(e)},children:[(0,a.jsx)(B.A,{className:"w-4 h-4 mr-2"}),"Rename"]}),!e.is_default&&(0,a.jsxs)(F._2,{onClick:()=>{i(e)},children:[(0,a.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Set as Default"]}),(0,a.jsx)(F.mB,{}),(0,a.jsxs)(F._2,{className:"text-red-600",onClick:()=>{i(e)},children:[(0,a.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})}),(0,a.jsx)(d.Wu,{className:"pt-0",children:(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i(e),children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},e.profile_id))})})]}),(0,a.jsx)(V,{open:e,onOpenChange:s,onSuccess:()=>u()})]})}var ed=t(31969);let ec={free:"bg-gray-100 text-gray-700",starter:"bg-blue-100 text-blue-700",professional:"bg-emerald-100 text-emerald-700",premium:"bg-violet-100 text-violet-700"},eo={free:["Basic report generation","5 reports per month","Standard templates"],starter:["All Free features","50 reports per month","Priority support"],professional:["All Starter features","Unlimited reports","Custom formatting","Advanced templates","Team collaboration"],premium:["All Professional features","Dedicated support","Custom integrations","Advanced analytics","White-label option"]};function em(e){let{requiredTiers:s,currentTier:t,featureName:r,children:i,upgradeMessage:l}=e,c=(0,ed.JO)(),o=null!=t?t:c;if(s.includes(o))return(0,a.jsx)(a.Fragment,{children:i});let m=s.includes("professional")?"professional":s.includes("premium")?"premium":s.includes("starter")?"starter":"free";return(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:(0,a.jsxs)(d.Zp,{className:"border-2 border-dashed border-gray-300 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[(0,a.jsxs)(d.aR,{className:"text-center pb-4",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-emerald-500 to-violet-500 flex items-center justify-center",children:(0,a.jsx)(P.A,{className:"w-8 h-8 text-white"})})}),(0,a.jsxs)(d.ZB,{className:"text-3xl font-bold mb-2",children:["Unlock ",r]}),(0,a.jsx)(d.BT,{className:"text-base",children:l||"".concat(r," is available for ").concat("professional"===m?"Professional":"Premium"," tier users")}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,a.jsxs)(f.E,{className:ec[o],children:["Current: ",o.charAt(0).toUpperCase()+o.slice(1)]}),(0,a.jsxs)(f.E,{className:ec[m],children:[(0,a.jsx)(E.A,{className:"w-3 h-3 mr-1"}),"Required: ",m.charAt(0).toUpperCase()+m.slice(1)]})]})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-600 uppercase tracking-wide",children:"Your Plan"}),(0,a.jsx)("div",{className:"space-y-2",children:eo[o].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(ee.A,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-gray-600",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm bg-gradient-to-r from-emerald-600 to-violet-600 bg-clip-text text-transparent uppercase tracking-wide",children:[m.charAt(0).toUpperCase()+m.slice(1)," Plan"]}),(0,a.jsx)("div",{className:"space-y-2",children:eo[m].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(ee.A,{className:"w-4 h-4 text-emerald-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-gray-900 font-medium",children:e})]},s))})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[(0,a.jsxs)(n.$,{size:"lg",className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",onClick:()=>{window.location.href="/pricing"},children:[(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Upgrade to ",m.charAt(0).toUpperCase()+m.slice(1)]}),(0,a.jsx)(n.$,{variant:"outline",size:"lg",onClick:()=>window.history.back(),children:"Go Back"})]}),(0,a.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["Questions about pricing?"," ",(0,a.jsx)("a",{href:"/contact",className:"text-emerald-600 hover:underline",children:"Contact us"})]})]})]})})})}var eu=t(87025),ex=t(78519),ef=t(55136),eh=t(39068),ep=t(52508),eg=t(93499),ej=t(52619),ey=t.n(ej);function eN(){let{platform:e,storeName:s,shouldShowWebSubscriptions:t,shouldShowMobileSubscriptions:r,subscriptionManagementUrl:i,isReady:l}=(0,eu.Vj)(),{data:c,isLoading:o}=(0,ed.Rs)(),m=null==c?void 0:c.subscription;if(!l||o)return(0,a.jsxs)(d.Zp,{className:"animate-pulse",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)("div",{className:"h-6 w-40 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-4 w-60 bg-muted rounded mt-2"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"})]})})]});if(!m)return(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(ex.A,{className:"w-5 h-5"}),"Subscription"]}),(0,a.jsx)(d.BT,{children:"No active subscription found"})]}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"You don't have an active subscription yet."}),t&&(0,a.jsx)(n.$,{asChild:!0,children:(0,a.jsx)(ey(),{href:"/pricing",children:"View Plans"})}),r&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Subscribe through the ",s," to unlock premium features."]}),i&&(0,a.jsx)(n.$,{asChild:!0,children:(0,a.jsxs)("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(ef.A,{className:"w-4 h-4 mr-2"}),"Open ",s]})})]})]})]});let u=Math.min(100,m.reports_used/m.reports_limit*100),x="web"===e,p="ios"===e||"android"===e;return(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[x?(0,a.jsx)(eh.A,{className:"w-5 h-5"}):(0,a.jsx)(ep.A,{className:"w-5 h-5"}),"Subscription"]}),(0,a.jsx)(f.E,{variant:"active"===m.status?"default":"secondary",children:m.status})]}),(0,a.jsxs)(d.BT,{children:[m.tier_display_name||m.tier," Plan"]})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[p&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(ef.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Managed by"," ","ios"===e?"App Store":"Google Play"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Reports Used"}),(0,a.jsxs)("span",{className:"font-medium",children:[m.reports_used," / ",m.reports_limit]})]}),(0,a.jsx)(h.k,{value:u})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[0!==m.price_monthly&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Price"}),(0,a.jsxs)("span",{className:"font-medium",children:[m.price_monthly," ",m.currency,"/month"]})]}),m.period_end&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"active"===m.status?"Renews on":"Expires on"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(m.period_end).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[t&&x&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,a.jsxs)(ey(),{href:"/pricing",children:[(0,a.jsx)(ex.A,{className:"w-4 h-4 mr-2"}),"Change Plan"]})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Manage your web subscription"})]}),r&&p&&i&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,a.jsxs)("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(ef.A,{className:"w-4 h-4 mr-2"}),"Manage in ",s,(0,a.jsx)(eg.A,{className:"w-3 h-3 ml-auto"})]})}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Subscription managed through ",s]})]}),r&&x&&(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You have a web subscription. To use mobile app subscriptions, please subscribe through the ",s," on your mobile device."]})}),t&&p&&(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You have a mobile subscription managed through ",s,". To change your plan, please use your device's app store."]})})]})]})]})}let eb="force-dynamic";function ev(){let{user:e}=(0,p.A)(),s=(0,i.jE)(),t=(0,ed.JO)(),[m,F]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[M,z]=(0,r.useState)(!1),[B,J]=(0,r.useState)("checking"),[Z,O]=(0,r.useState)(!1),[L,q]=(0,r.useState)(!0),[$,W]=(0,r.useState)(!0),[X,Q]=(0,r.useState)(!1),[G,V]=(0,r.useState)(!1),[K,H]=(0,r.useState)(null),{data:ee}=(0,l.I)({queryKey:["profile",null==e?void 0:e.id],queryFn:async()=>e?{...await (0,g.Sk)(e.id),email:e.email||""}:null,enabled:!!e,...g.eU});(0,r.useEffect)(()=>{ee&&(F(ee.default_signature_name||""),E(ee.default_signature_date_format||"MM/DD/YYYY"),H(ee.updated_at?new Date(ee.updated_at):null))},[ee]);let es=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){z(!0);try{await (0,g.b6)(e.id,{default_signature_name:m,default_signature_date_format:T}),await s.invalidateQueries({queryKey:["profile",e.id]}),H(new Date),O(!1),t||j.oR.success("Settings saved successfully!")}catch(e){t||j.oR.error("Failed to save settings: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{z(!1)}}},[e,m,T,s]);return(0,r.useEffect)(()=>{if(!L||!Z)return;let e=setTimeout(()=>{es(!0)},2e3);return()=>clearTimeout(e)},[m,T,L,Z,es]),(0,r.useEffect)(()=>{O(m!==((null==ee?void 0:ee.default_signature_name)||"")||T!==((null==ee?void 0:ee.default_signature_date_format)||"MM/DD/YYYY"))},[m,T,ee]),(0,r.useEffect)(()=>{(async()=>{try{let e="https://edge.radly.app";if(!e)return void J("error");(await fetch("".concat(e,"/health"),{headers:{"X-Request-Id":crypto.randomUUID(),"Content-Type":"application/json"}})).ok?J("connected"):J("error")}catch(e){J("error")}})()},[]),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-24 md:pb-8",children:[(0,a.jsxs)(y.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-50 via-white to-violet-50 p-8 border-2 border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(_.A,{className:"w-8 h-8 text-primary animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Configuration"})]}),(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:(0,a.jsx)("span",{className:"text-gradient-brand",children:"Smart Settings"})}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl",children:"Customize your Radly experience with intelligent defaults and preferences"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,a.jsx)(N.N,{children:Z&&(0,a.jsxs)(y.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),"Unsaved changes"]})}),K&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 text-emerald-500"}),"Last saved: ",K.toLocaleTimeString()]})]})]}),(0,a.jsxs)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap gap-4",children:[(0,a.jsxs)(n.$,{onClick:()=>es(),disabled:M||!Z,className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 mr-2"}),M?"Saving...":"Save Changes"]}),(0,a.jsxs)(n.$,{variant:"outline",onClick:()=>V(!G),className:"border-2",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 mr-2"}),G?"Hide":"Show"," Advanced"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(y.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15},children:(0,a.jsx)(eN,{})}),(0,a.jsx)(y.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,a.jsxs)(d.Zp,{className:"h-full border-2 border-gray-200 hover:border-emerald-500 transition-colors",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,a.jsx)(A.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{children:"Account Information"})]}),(0,a.jsx)(d.BT,{children:"Your account details and profile information"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium text-gray-600",children:"Email Address"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:(null==e?void 0:e.email)||"",disabled:!0,className:"bg-gray-50"}),(0,a.jsx)(f.E,{variant:"secondary",className:"bg-emerald-100 text-emerald-700",children:"Verified"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium text-gray-600",children:"User ID"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{value:(null==e?void 0:e.id)||"",disabled:!0,className:"bg-gray-50 font-mono text-sm"}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:(0,a.jsx)(C.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium text-gray-600",children:"Member Since"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(null==e?void 0:e.created_at)?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]})}),(0,a.jsx)(y.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,a.jsxs)(d.Zp,{className:"h-full border-2 border-gray-200 hover:border-violet-500 transition-colors",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center",children:(0,a.jsx)(k.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{children:"Preferences"})]}),(0,a.jsx)(d.BT,{children:"Customize your experience and interface"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium",children:"Auto-save Settings"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Automatically save changes after 2 seconds"})]}),(0,a.jsx)(u,{checked:L,onCheckedChange:q,className:"data-[state=checked]:bg-emerald-500"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium",children:"Notifications"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Receive updates about your reports"})]}),(0,a.jsx)(u,{checked:$,onCheckedChange:W,className:"data-[state=checked]:bg-emerald-500"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium",children:"Dark Mode"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Switch to dark theme (coming soon)"})]}),(0,a.jsx)(u,{checked:X,onCheckedChange:Q,disabled:!0,className:"data-[state=checked]:bg-emerald-500"})]})]})]})}),(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,a.jsxs)(d.Zp,{className:"border-2 border-gray-200 hover:border-blue-500 transition-colors",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,a.jsx)(_.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{children:"Report Defaults"})]}),(0,a.jsx)(d.BT,{children:"Set default values for new medical reports"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"default-signature-name",className:"text-sm font-medium",children:"Default Signature Name"}),(0,a.jsx)(c.p,{id:"default-signature-name",value:m,onChange:e=>F(e.target.value),placeholder:"Dr. Jane Smith",className:"border-2 focus:border-emerald-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"This will be pre-filled when creating new reports"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"default-date-format",className:"text-sm font-medium",children:"Default Date Format"}),(0,a.jsxs)(x.l6,{value:T,onValueChange:E,children:[(0,a.jsx)(x.bq,{className:"border-2 focus:border-emerald-500",children:(0,a.jsx)(x.yv,{placeholder:"Select date format"})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (US Format)"}),(0,a.jsx)(x.eb,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (EU Format)"}),(0,a.jsx)(x.eb,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (ISO Format)"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Choose your preferred date format for reports"})]})]})]})}),(0,a.jsx)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,a.jsxs)(d.Zp,{className:"border-2 border-gray-200 hover:border-orange-500 transition-colors",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center",children:(0,a.jsx)(R.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{children:"System Status"})]}),(0,a.jsx)(d.BT,{children:"Monitor system health and connectivity"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-gray-500"}),(0,a.jsx)("span",{className:"font-medium",children:"API Connectivity"})]}),(0,a.jsx)(f.E,{className:(e=>{switch(e){case"connected":return"text-emerald-600 bg-emerald-50";case"error":return"text-red-600 bg-red-50";default:return"text-yellow-600 bg-yellow-50"}})(B),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"connected":return(0,a.jsx)(b.A,{className:"w-4 h-4"});case"error":return(0,a.jsx)(v.A,{className:"w-4 h-4"});default:return(0,a.jsx)(w.A,{className:"w-4 h-4"})}})(B),B.charAt(0).toUpperCase()+B.slice(1)]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Response Time"}),(0,a.jsx)("span",{className:"font-medium",children:"connected"===B?"< 100ms":"N/A"})]}),(0,a.jsx)(h.k,{value:100*("connected"===B)})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Last Profile Update"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(null==ee?void 0:ee.updated_at)?new Date(ee.updated_at).toLocaleString():"Never"})]})})]})]})})]}),(0,a.jsx)(N.N,{children:G&&(0,a.jsx)(y.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6",children:(0,a.jsxs)(d.Zp,{className:"border-2 border-gray-200",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-500 to-gray-700 flex items-center justify-center",children:(0,a.jsx)(P.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{children:"Advanced Settings"})]}),(0,a.jsx)(d.BT,{children:"Advanced configuration options for power users"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Advanced Settings Overview"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"These settings are designed for power users who need additional control over their data and preferences."})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium",children:"Data Export"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Download your profile data, settings, and preferences as a JSON file for backup or migration purposes."}),(0,a.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>{let e=new Blob([JSON.stringify({profile:ee,settings:{defaultSignatureName:m,defaultDateFormat:T,autoSave:L,notifications:$,darkMode:X},exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="radly-settings-".concat(new Date().toISOString().split("T")[0],".json"),t.click(),URL.revokeObjectURL(s),j.oR.success("Settings exported successfully!")},children:[(0,a.jsx)(U.A,{className:"w-4 h-4 mr-2"}),"Export Profile Data"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium",children:"Data Import"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Import previously exported settings to restore your configuration or migrate from another account."}),(0,a.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{var s,t,a,r;let i=null==(s=e.target.files)?void 0:s[0];if(i)try{let e=await i.text(),s=JSON.parse(e);s.settings?(F(s.settings.defaultSignatureName||""),E(s.settings.defaultDateFormat||"MM/DD/YYYY"),q(null==(t=s.settings.autoSave)||t),W(null==(a=s.settings.notifications)||a),Q(null!=(r=s.settings.darkMode)&&r),j.oR.success("Settings imported successfully!")):j.oR.error("Invalid settings file format")}catch(e){j.oR.error("Failed to parse settings file")}},e.click()},children:[(0,a.jsx)(Y.A,{className:"w-4 h-4 mr-2"}),"Import Settings"]})]})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(o.J,{className:"text-sm font-medium",children:"Reset to Defaults"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Reset all settings to their default values. This action cannot be undone."})]}),(0,a.jsx)(n.$,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to reset all settings to defaults? This action cannot be undone.")&&(F(""),E("MM/DD/YYYY"),q(!0),W(!0),Q(!1),j.oR.success("Settings reset to defaults"))},children:"Reset All"})]})})]})]})})}),(0,a.jsxs)(y.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,a.jsx)(I.A,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Custom Report Formatting"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Upload and manage DOCX templates for custom report formatting"})]})]}),(0,a.jsx)(em,{requiredTiers:["professional","premium"],currentTier:t,featureName:"Custom Report Formatting",children:(0,a.jsx)(en,{})})]})]})}},80991:(e,s,t)=>{"use strict";t.d(s,{k:()=>r});var a=t(95155);function r(e){let{value:s}=e,t=Math.max(0,Math.min(100,null!=s?s:0));return(0,a.jsxs)("div",{className:"relative w-full h-2 rounded-full border border-[rgba(255,255,255,0.12)] bg-[rgba(255,255,255,0.06)] overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-40 bg-[linear-gradient(90deg,rgba(255,255,255,0.12)0%,transparent 45%,rgba(255,255,255,0.12)90%)]"}),(0,a.jsx)("div",{className:"relative h-full rounded-full bg-[linear-gradient(90deg,#2653FF_0%,#4B8EFF_45%,#8F82FF_100%)] shadow-[0_0_18px_rgba(75,142,255,0.55)] transition-all duration-500",style:{width:"".concat(t,"%")}})]})}t(12115)},85578:(e,s,t)=>{"use strict";t.d(s,{Q:()=>l});var a=t(12115),r=t(96648),i=t(90260);function l(){let e=(0,a.useMemo)(()=>(0,r.createBrowserSupabase)(),[]),[s,t]=(0,a.useState)(!1),[l,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if((0,i.Wj)()){n((0,i.Ld)()),t(!0);return}let s=()=>{};e.auth.getSession().then(e=>{let{data:s}=e;return n(s.session)});let{data:a}=e.auth.onAuthStateChange((e,s)=>n(s));return s=()=>{var e,s;return null==a||null==(s=a.subscription)||null==(e=s.unsubscribe)?void 0:e.call(s)},t(!0),()=>s()},[e]),{session:l,isAuthed:!!l,mounted:s}}},86948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n});var a=t(95155),r=t(12115),i=t(64269);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},87025:(e,s,t)=>{"use strict";t.d(s,{Vj:()=>c});var a=t(12115);function r(){if(window.Capacitor){let e=window.Capacitor.getPlatform();if("ios"===e)return"ios";if("android"===e)return"android"}return"web"}function i(){let e=r();return"ios"===e||"android"===e}function l(){return"web"===r()}function n(){let e=r();return"ios"===e?"apple":"android"===e?"google":"web"}function d(){return{platform:r(),store:n(),isNative:i(),isWeb:l(),displayName:function(){let e=r();return"ios"===e?"iOS":"android"===e?"Android":"Web"}(),storeName:function(){let e=n();return"apple"===e?"App Store":"google"===e?"Google Play":"Web"}(),shouldShowWebSubscriptions:l(),shouldShowMobileSubscriptions:i(),supportsPushNotifications:i(),subscriptionManagementUrl:function(){let e=r();return"ios"===e?"https://apps.apple.com/account/subscriptions":"android"===e?"https://play.google.com/store/account/subscriptions":null}()}}function c(){let[e,s]=(0,a.useState)(!1),[t,r]=(0,a.useState)(()=>d());return(0,a.useEffect)(()=>{r(d()),s(!0)},[]),{...t,isReady:e}}},90260:(e,s,t)=>{"use strict";t.d(s,{Ld:()=>i,Wj:()=>r});var a=t(95704);function r(){return"true"===a.env.NEXT_PUBLIC_TEST_MODE||"true"===a.env.NEXT_PUBLIC_BYPASS_AUTH||"true"===new URLSearchParams(window.location.search).get("test")}function i(){if(!r())return null;let e=r()?{id:"test-user-id-12345",email:"test@radly.test",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z",aud:"authenticated",role:"authenticated",app_metadata:{},user_metadata:{full_name:"Test User"},identities:[],factors:[],is_anonymous:!1,phone:"",email_confirmed_at:"2024-01-01T00:00:00Z",phone_confirmed_at:void 0,confirmed_at:"2024-01-01T00:00:00Z",last_sign_in_at:"2024-01-01T00:00:00Z",is_sso_user:!1,provider:"email",providers:["email"]}:null;return e?{access_token:"test-access-token",refresh_token:"test-refresh-token",expires_in:3600,expires_at:Math.floor(Date.now()/1e3)+3600,token_type:"bearer",user:e}:null}},91162:(e,s,t)=>{"use strict";t.d(s,{Sk:()=>r,b6:()=>i,eU:()=>l});var a=t(62890);async function r(e){try{var s,t,r;let i=(0,a.A)(),{data:{user:l},error:n}=await i.auth.getUser();if(n||!l)throw Error("User not found");return{id:e,email:l.email||"",default_signature_name:(null==(s=l.user_metadata)?void 0:s.default_signature_name)||"",default_signature_date_format:(null==(t=l.user_metadata)?void 0:t.default_signature_date_format)||"MM/DD/YYYY",accepted_terms_at:null==(r=l.user_metadata)?void 0:r.accepted_terms_at,subscription:null,updated_at:l.updated_at||new Date().toISOString()}}catch(s){return{id:e,email:"",default_signature_name:"",default_signature_date_format:"MM/DD/YYYY",subscription:null,updated_at:new Date().toISOString()}}}async function i(e,s){try{let e=(0,a.A)(),{error:t}=await e.auth.updateUser({data:{default_signature_name:s.default_signature_name,default_signature_date_format:s.default_signature_date_format,accepted_terms_at:s.accepted_terms_at}});if(t)throw Error("Failed to update user data: ".concat(t.message))}catch(e){throw e}}let l={retry:(e,s)=>!(s.message.includes("401")||s.message.includes("403")||s.message.includes("404"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:3e5}},96648:(e,s,t)=>{"use strict";t.d(s,{createBrowserSupabase:()=>r});var a=t(16010);function r(){return(0,a.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{flowType:"pkce",detectSessionInUrl:!0,persistSession:!0}})}}},e=>{e.O(0,[5707,2619,6010,6559,8720,6743,2149,2454,6692,8843,4336,3944,4892,8441,1255,7358],()=>e(e.s=21787)),_N_E=e.O()}]);