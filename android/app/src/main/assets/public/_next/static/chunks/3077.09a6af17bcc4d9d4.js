"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3077],{4077:(e,i,t)=>{t.d(i,{Preferences:()=>a});let a=(0,t(32587).registerPlugin)("Preferences",{web:()=>t.e(3903).then(t.bind(t,13903)).then(e=>new e.PreferencesWeb)})},13077:(e,i,t)=>{t.d(i,{getSupabaseClient:()=>l});var a=t(11993),s=t(16010),r=t(32587),n=t(4077);class c{static getInstance(){return c.instance||(c.instance=new c),c.instance}async initialize(){if(!this.initialized)return this.initializationPromise||(this.initializationPromise=this._doInitialize()),this.initializationPromise}async _doInitialize(){try{if(!r.Capacitor.isNativePlatform()){this.initialized=!0;return}let{keys:e}=await n.Preferences.keys();for(let i of e.filter(e=>e.startsWith(this.STORAGE_PREFIX)))try{let{value:e}=await n.Preferences.get({key:i});if(e){let t=i.substring(this.STORAGE_PREFIX.length);this.cache.set(t,e)}}catch(e){}this.initialized=!0}catch(e){this.initialized=!0}}getItem(e){return this.initialized&&this.cache.get(e)||null}setItem(e,i){this.initialized&&(this.cache.set(e,i),this._persistToStorage(e,i).catch(e=>{}))}removeItem(e){this.initialized&&(this.cache.delete(e),this._removeFromStorage(e).catch(e=>{}))}async _persistToStorage(e,i){if(!r.Capacitor.isNativePlatform())return;let t=this.STORAGE_PREFIX+e;try{await n.Preferences.set({key:t,value:i})}catch(e){throw e}}async _removeFromStorage(e){if(!r.Capacitor.isNativePlatform())return;let i=this.STORAGE_PREFIX+e;try{await n.Preferences.remove({key:i})}catch(e){throw e}}async clear(){if(this.cache.clear(),r.Capacitor.isNativePlatform())try{let{keys:e}=await n.Preferences.keys();for(let i of e.filter(e=>e.startsWith(this.STORAGE_PREFIX)))await n.Preferences.remove({key:i})}catch(e){}}getDebugInfo(){return{initialized:this.initialized,cacheSize:this.cache.size,cachedKeys:Array.from(this.cache.keys()),platform:r.Capacitor.isNativePlatform()?"capacitor":"web",prefix:this.STORAGE_PREFIX}}constructor(){this.cache=new Map,this.initialized=!1,this.initializationPromise=null,this.STORAGE_PREFIX="sb-"}}async function l(){if(t.g.__supabase_client&&t.g.__supabase_client_initialized)return t.g.__supabase_client;if(t.g.__supabase_client_initialized){let e=0;for(;!t.g.__supabase_client&&e<50;)await new Promise(e=>setTimeout(e,100)),e++;if(t.g.__supabase_client)return t.g.__supabase_client;throw Error("Supabase client initialization timeout")}t.g.__supabase_client_initialized=!0;try{let e,i,r=(()=>{var e;let i=window.Capacitor;return!!(null==i||null==(e=i.isNativePlatform)?void 0:e.call(i))})();if(r){let e=c.getInstance();await e.initialize(),i=function(){let e=c.getInstance();return e.initialize().catch(e=>{}),{getItem:i=>e.getItem(i),setItem:(i,t)=>e.setItem(i,t),removeItem:i=>e.removeItem(i)}}()}return e=r?(0,a.UU)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{storage:i,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,debug:!0}}):(0,s.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,flowType:"pkce",debug:!1}}),t.g.__supabase_client=e,e.__isSingleton=!0,e.__createdAt=new Date().toISOString(),e.__platform=r?"capacitor":"web",e}catch(e){throw t.g.__supabase_client_initialized=!1,e}}void 0===t.g&&(globalThis.global=globalThis)}}]);