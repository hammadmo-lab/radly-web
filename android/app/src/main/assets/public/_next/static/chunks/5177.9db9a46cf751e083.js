"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5177,5656,8927],{3998:(e,t,r)=>{r.d(t,{$:()=>l});var n=r(95155),i=r(12115),a=r(32467),s=r(83101),o=r(64269);let c=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:l=!1,...u}=e,d=l?a.DX:"button";return(0,n.jsx)(d,{className:(0,o.cn)(c({variant:i,size:s,className:r})),ref:t,...u})});l.displayName="Button"},8971:(e,t,r)=>{r.d(t,{L:()=>s});var n=r(12115),i=r(96648),a=r(90260);function s(){let[e,t]=(0,n.useState)("loading"),[r,s]=(0,n.useState)(null),[o,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{if((0,a.Wj)()){var e;let r=(0,a.Ld)();s((null==r?void 0:r.access_token)||"test-access-token"),c((null==r||null==(e=r.user)?void 0:e.id)||"test-user-id-12345"),t("authenticated");return}let r=!1,n=(0,i.createBrowserSupabase)();(async()=>{var e,i,a,o,l;let{data:u}=await n.auth.getSession();if(r)return;let d=null!=(o=null==(e=u.session)?void 0:e.access_token)?o:null;s(d),c(null!=(l=null==(a=u.session)||null==(i=a.user)?void 0:i.id)?l:null),t(d?"authenticated":"signed_out")})();let{data:o}=n.auth.onAuthStateChange((e,n)=>{var i,a,o;if(r)return;let l=null!=(a=null==n?void 0:n.access_token)?a:null;s(l),c(null!=(o=null==n||null==(i=n.user)?void 0:i.id)?o:null),t(l?"authenticated":"signed_out")});return()=>{r=!0,o.subscription.unsubscribe()}},[]);let l=(0,n.useCallback)(()=>r?{Authorization:"Bearer ".concat(r)}:{},[r]);return(0,n.useMemo)(()=>({status:e,token:r,userId:o,getAuthHeader:l}),[e,r,o,l])}},13077:(e,t,r)=>{r.d(t,{getSupabaseClient:()=>c});var n=r(11993),i=r(16010),a=r(32587),s=r(4077);class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}async initialize(){if(!this.initialized)return this.initializationPromise||(this.initializationPromise=this._doInitialize()),this.initializationPromise}async _doInitialize(){try{if(!a.Capacitor.isNativePlatform()){this.initialized=!0;return}let{keys:e}=await s.Preferences.keys();for(let t of e.filter(e=>e.startsWith(this.STORAGE_PREFIX)))try{let{value:e}=await s.Preferences.get({key:t});if(e){let r=t.substring(this.STORAGE_PREFIX.length);this.cache.set(r,e)}}catch(e){}this.initialized=!0}catch(e){this.initialized=!0}}getItem(e){return this.initialized&&this.cache.get(e)||null}setItem(e,t){this.initialized&&(this.cache.set(e,t),this._persistToStorage(e,t).catch(e=>{}))}removeItem(e){this.initialized&&(this.cache.delete(e),this._removeFromStorage(e).catch(e=>{}))}async _persistToStorage(e,t){if(!a.Capacitor.isNativePlatform())return;let r=this.STORAGE_PREFIX+e;try{await s.Preferences.set({key:r,value:t})}catch(e){throw e}}async _removeFromStorage(e){if(!a.Capacitor.isNativePlatform())return;let t=this.STORAGE_PREFIX+e;try{await s.Preferences.remove({key:t})}catch(e){throw e}}async clear(){if(this.cache.clear(),a.Capacitor.isNativePlatform())try{let{keys:e}=await s.Preferences.keys();for(let t of e.filter(e=>e.startsWith(this.STORAGE_PREFIX)))await s.Preferences.remove({key:t})}catch(e){}}getDebugInfo(){return{initialized:this.initialized,cacheSize:this.cache.size,cachedKeys:Array.from(this.cache.keys()),platform:a.Capacitor.isNativePlatform()?"capacitor":"web",prefix:this.STORAGE_PREFIX}}constructor(){this.cache=new Map,this.initialized=!1,this.initializationPromise=null,this.STORAGE_PREFIX="sb-"}}async function c(){if(r.g.__supabase_client&&r.g.__supabase_client_initialized)return r.g.__supabase_client;if(r.g.__supabase_client_initialized){let e=0;for(;!r.g.__supabase_client&&e<50;)await new Promise(e=>setTimeout(e,100)),e++;if(r.g.__supabase_client)return r.g.__supabase_client;throw Error("Supabase client initialization timeout")}r.g.__supabase_client_initialized=!0;try{let e,t,a=(()=>{var e;let t=window.Capacitor;return!!(null==t||null==(e=t.isNativePlatform)?void 0:e.call(t))})();if(a){let e=o.getInstance();await e.initialize(),t=function(){let e=o.getInstance();return e.initialize().catch(e=>{}),{getItem:t=>e.getItem(t),setItem:(t,r)=>e.setItem(t,r),removeItem:t=>e.removeItem(t)}}()}return e=a?(0,n.UU)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{storage:t,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,debug:!0}}):(0,i.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,flowType:"pkce",debug:!1}}),r.g.__supabase_client=e,e.__isSingleton=!0,e.__createdAt=new Date().toISOString(),e.__platform=a?"capacitor":"web",e}catch(e){throw r.g.__supabase_client_initialized=!1,e}}void 0===r.g&&(globalThis.global=globalThis)},16421:(e,t,r)=>{r.d(t,{z:()=>f});var n=r(95155),i=r(12115),a=r(35299),s=r(18098),o=r(39142),c=r(32587),l=r(18927);class u{connect(){var e;if((null==(e=this.ws)?void 0:e.readyState)!==WebSocket.OPEN){this.isClosedManually=!1;try{let e,t=(this.config.url||"https://api.radly.app").trim(),r=t.match(/^https?:|^wss?:/)?t:"https://".concat(t);try{e=new URL(r)}catch(t){e=new URL("https://api.radly.app")}"edge.radly.app"===e.hostname&&(e.hostname="api.radly.app"),e.protocol="http:"===e.protocol?"ws:":"wss:";let n=e.pathname.replace(/\/+$/,""),i="".concat(e.origin).concat(n),a="".concat(i,"/v1/transcribe/stream?token=").concat(encodeURIComponent(this.config.token));this.ws=new WebSocket(a),this.ws.onopen=()=>{this.reconnectAttempts=0,this.config.onOpen()},this.ws.onmessage=e=>{try{let t=JSON.parse(e.data);this.config.onMessage(t)}catch(e){this.config.onError(Error("Failed to parse WebSocket message"))}},this.ws.onerror=e=>{setTimeout(()=>{var e;(null==(e=this.ws)?void 0:e.readyState)===WebSocket.CLOSED&&this.config.onError(Error("WebSocket connection error"))},100)},this.ws.onclose=e=>{if(e.code,this.config.onClose(e.code,e.reason),1008===e.code){this.isClosedManually=!0;return}if(!this.isClosedManually&&this.config.reconnect&&this.reconnectAttempts<(this.config.maxReconnectAttempts||3)){this.reconnectAttempts++;let e=this.config.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);this.reconnectTimer=setTimeout(()=>{this.connect()},e)}}}catch(e){this.config.onError(e instanceof Error?e:Error("Failed to create WebSocket connection"))}}}send(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return!1;try{return this.ws.send(e),!0}catch(e){return this.config.onError(e instanceof Error?e:Error("Failed to send data")),!1}}close(){if(this.isClosedManually=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws){if(this.ws.readyState===WebSocket.OPEN)try{this.ws.send("close")}catch(e){}this.ws.close(),this.ws=null}this.reconnectAttempts=0}get isOpen(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.OPEN}get isConnecting(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.CONNECTING}get isClosed(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.CLOSED}constructor(e){this.ws=null,this.reconnectAttempts=0,this.reconnectTimer=null,this.isClosedManually=!1,this.config={reconnect:!0,maxReconnectAttempts:3,reconnectDelay:2e3,...e}}}function d(e,t,r){return new u({url:e,token:t,...r})}let h=(0,c.registerPlugin)("AudioStreamer",{web:()=>r.e(3785).then(r.bind(r,3785)).then(e=>new e.AudioStreamerWeb)});var p=r(3998),m=r(64269);function f(e){let{onTranscript:t,onError:r,onUpgradeRequired:u,disabled:f=!1,className:g}=e,{state:v,interimTranscript:b,error:y,isRecording:w,duration:S,maxDuration:I,timeRemaining:_,tier:x,startRecording:k,stopRecording:C,clearError:N}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{session:t}=(0,l.A)(),[r,n]=(0,i.useState)("idle"),[a,s]=(0,i.useState)(""),[o,u]=(0,i.useState)(""),[p,m]=(0,i.useState)(null),[f,g]=(0,i.useState)(0),[v,b]=(0,i.useState)(0),[y,w]=(0,i.useState)(null),S=(0,i.useRef)(null),I=(0,i.useRef)(null),_=(0,i.useRef)(null),x=(0,i.useRef)(null),k=(0,i.useRef)(null),C=c.Capacitor.isNativePlatform()&&"ios"===c.Capacitor.getPlatform(),N=e.apiBase||"https://edge.radly.app";(0,i.useEffect)(()=>()=>{M(),C&&h.removeAllListeners()},[C]);let E=(0,i.useCallback)(()=>{g(0),x.current=setInterval(()=>{g(e=>e+1)},1e3)},[]),T=(0,i.useCallback)(()=>{x.current&&(clearInterval(x.current),x.current=null)},[]),z=(0,i.useCallback)(()=>{k.current=setInterval(()=>{var e;(null==(e=I.current)?void 0:e.state)==="recording"&&I.current.requestData()},1e3)},[]),A=(0,i.useCallback)(()=>{k.current&&(clearInterval(k.current),k.current=null)},[]),R=(0,i.useCallback)(t=>{m("string"==typeof t?t:t.message),n("error"),A(),e.onError&&e.onError("string"==typeof t?Error(t):t),M()},[e,A]),O=(0,i.useCallback)(t=>{switch(t.type){case"connection_established":w(t.tier),b(t.max_duration_seconds),n("recording"),E();break;case"transcript":t.is_final?(s(r=>{let n=r+(r?" ":"")+t.transcript;return e.onTranscript&&e.onTranscript(t.transcript,!0),n}),u("")):(u(t.transcript),e.onTranscript&&e.onTranscript(t.transcript,!1));break;case"duration_limit_reached":e.onLimitReached&&e.onLimitReached(t.message),R(t.message);break;case"error":R(t.message)}},[e,E,R]),P=(0,i.useCallback)(async()=>{try{if(!(null==t?void 0:t.access_token))throw Error("Authentication required");if(m(null),s(""),u(""),g(0),n("connecting"),C){await h.addListener("audioChunk",e=>{let t=atob(e.chunk),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=new Blob([r],{type:"audio/l16"}),i=S.current;i&&i.isOpen&&i.send(n)}),await h.addListener("audioError",e=>{R(e.error)});let e=d(N,t.access_token,{onOpen:()=>{},onMessage:e=>{O(e),"connection_established"===e.type&&h.startRecording().then(()=>{}).catch(e=>{R("Failed to start native audio recording")})},onError:e=>{R(e)},onClose:(e,t)=>{1008===e?R(t||"Access denied. Please check your subscription plan."):1e3!==e&&"recording"===r&&R("Connection lost")},reconnect:!1});S.current=e,e.connect()}else{var e,i;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw Error("Browser does not support audio recording");if(!window.MediaRecorder)throw Error("Browser does not support MediaRecorder");let n=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});_.current=n;let a=n.getAudioTracks();if(0===a.length)throw Error("No audio tracks found in media stream");if(!(null==(e=a[0])?void 0:e.enabled)||(null==(i=a[0])?void 0:i.readyState)!=="live")throw Error("Audio track is not enabled or not live");let s="audio/webm";MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?s="audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?s="audio/webm":MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")&&(s="audio/ogg;codecs=opus");let o=new MediaRecorder(n,{mimeType:s});I.current=o,o.ondataavailable=e=>{var t;let r=e.data.size;e.data.type;let n=S.current;null==(t=I.current)||t.state,n&&n.isOpen&&n.isOpen&&r>0&&n.send(e.data)},o.onerror=e=>{R("Recording error occurred")};let c=d(N,t.access_token,{onOpen:()=>{},onMessage:e=>{if(O(e),"connection_established"===e.type){var t;(null==(t=I.current)?void 0:t.state)==="inactive"&&(I.current.start(250),z())}},onError:e=>{R(e)},onClose:(e,t)=>{1008===e?R(t||"Access denied. Please check your subscription plan."):1e3!==e&&"recording"===r&&R("Connection lost")},reconnect:!1});S.current=c,c.connect()}}catch(e){e instanceof Error?"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?R("Microphone permission denied. Please allow microphone access."):"NotFoundError"===e.name?R("No microphone found. Please connect a microphone."):R(e):R("Failed to start recording")}},[t,N,r,O,R,z,C]),M=(0,i.useCallback)(()=>{T(),A(),C?h.stopRecording().catch(e=>{}):(I.current&&"inactive"!==I.current.state&&I.current.stop(),_.current&&(_.current.getTracks().forEach(e=>e.stop()),_.current=null)),S.current&&(S.current.close(),S.current=null),"error"!==r&&n("idle"),I.current=null},[r,T,A,C]),j=(0,i.useCallback)(()=>{s(""),u("")},[]),U=(0,i.useCallback)(()=>{m(null),"error"===r&&n("idle")},[r]);return{state:r,transcript:a,interimTranscript:o,error:p,isRecording:"recording"===r,duration:f,maxDuration:v,timeRemaining:v-f,tier:y,startRecording:P,stopRecording:M,clearTranscript:j,clearError:U}}({onTranscript:(e,r)=>{if(r){let r=()=>t(e);"function"==typeof queueMicrotask?queueMicrotask(r):Promise.resolve().then(r)}},onError:e=>{r&&r(e.message)},onLimitReached:e=>{r&&r(e)}});(0,i.useEffect)(()=>{y&&(r&&r(y),(y.includes("Starter tier")||y.includes("trial")||y.includes("upgrade"))&&u&&x&&u(x))},[y,x,r,u]);let E=e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))},T=w&&_<=30&&_>0,z=w&&_<=10&&_>0;return(0,n.jsxs)("div",{className:(0,m.cn)("flex flex-col gap-2",g),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(p.$,{type:"button",variant:y?"destructive":w?"default":"outline",size:"sm",onClick:()=>{if(y)return void N();w?C():k()},disabled:f||"connecting"===v||"processing"===v,title:y?"Click to retry":w?"Stop recording":"connecting"===v?"Connecting...":"Start voice dictation",className:(0,m.cn)("relative",w&&"animate-pulse",y&&"border-destructive"),children:["connecting"===v||"processing"===v?(0,n.jsx)(a.A,{className:"h-4 w-4 animate-spin"}):y?(0,n.jsx)(s.A,{className:"h-4 w-4"}):(0,n.jsx)(o.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"ml-2",children:y?"Retry":w?"Stop":"Voice Dictation"}),w&&(0,n.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[(0,n.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,n.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),w&&(0,n.jsxs)("div",{className:(0,m.cn)("flex items-center gap-2 text-sm font-mono",z&&"text-destructive font-bold",T&&!z&&"text-yellow-600 dark:text-yellow-500"),children:[(0,n.jsx)("span",{children:E(S)}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,n.jsx)("span",{className:(0,m.cn)(z&&"animate-pulse"),children:E(I)})]})]}),(w||"connecting"===v)&&(0,n.jsx)("div",{className:"flex items-start gap-2 text-sm min-h-[2rem]",children:"connecting"===v?(0,n.jsx)("div",{className:"text-muted-foreground italic",children:"Connecting to transcription service..."}):b?(0,n.jsx)("div",{className:"text-muted-foreground italic border-l-2 border-primary pl-2",children:b}):(0,n.jsx)("div",{className:"text-muted-foreground italic",children:"Listening..."})}),y&&(0,n.jsx)("div",{className:"text-sm text-destructive bg-destructive/10 border border-destructive/20 rounded-md p-2",children:y}),!w&&!y&&(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Tip: Press"," ",(0,n.jsx)("kbd",{className:"px-1 py-0.5 text-xs font-semibold border border-border rounded",children:"Ctrl+Shift+V"})," ","to start/stop"]})]})}},18927:(e,t,r)=>{r.d(t,{O:()=>d,A:()=>h});var n=r(95155),i=r(12115),a=r(32587),s=r(16010),o=r(90260);function c(){try{let e=(0,s.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,flowType:"pkce",debug:!1}});if((0,o.Wj)()){let t=(0,o.Ld)();return{...e,auth:{...e.auth,getSession:async()=>({data:{session:t},error:null}),getUser:async()=>({data:{user:(null==t?void 0:t.user)||null},error:null}),signOut:async()=>({error:null}),signInWithOAuth:async()=>({error:Error("Test mode: OAuth not available")}),exchangeCodeForSession:async()=>({error:Error("Test mode: Code exchange not available")}),onAuthStateChange:e=>(e("SIGNED_IN",t),{data:{subscription:{unsubscribe:()=>{}}}})}}}return e}catch(e){return{auth:{getSession:async()=>({data:{session:null},error:null}),getUser:async()=>({data:{user:null},error:null}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signInWithOAuth:async()=>({error:Error("Mock client: OAuth not available")}),exchangeCodeForSession:async()=>({error:Error("Mock client: Code exchange not available")})}}}}var l=r(13077);let u=(0,i.createContext)(void 0);function d(e){let{children:t}=e,[s,o]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[p,m]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e;return(async()=>{try{var t;let r=a.Capacitor.isNativePlatform()?await (0,l.getSupabaseClient)():c(),{data:{session:n}}=await r.auth.getSession();h(n),o(null!=(t=null==n?void 0:n.user)?t:null),m(!1);let{data:{subscription:i}}=r.auth.onAuthStateChange((e,t)=>{var r;h(t),o(null!=(r=null==t?void 0:t.user)?r:null),m(!1)});e=()=>i.unsubscribe()}catch(e){h(null),o(null),m(!1)}})(),()=>{try{null==e||e()}catch(e){}}},[]);let f=async()=>{try{let e=a.Capacitor.isNativePlatform()?await (0,l.getSupabaseClient)():c();await e.auth.signOut();let{clearTokenCache:t}=await r.e(5656).then(r.bind(r,25656));t()}catch(e){}};return(0,n.jsx)(u.Provider,{value:{user:s,session:d,loading:p,signOut:f},children:t})}function h(){let e=(0,i.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},25656:(e,t,r)=>{r.d(t,{clearTokenCache:()=>u,lx:()=>h,yd:()=>m,zA:()=>p});var n=r(96648),i=r(32587);let a="https://edge.radly.app",s="0f0a24adba9edfede4bc7413f85967224db6d1501c16f5213e901048cf4eb445",o=null,c=0;async function l(){try{let e=Date.now();if(o&&c>e+3e5)return o;let t=null,a=0;if(i.Capacitor.isNativePlatform()){let{getSupabaseClient:e}=await r.e(3077).then(r.bind(r,13077)),n=await e(),{data:{session:i}}=await n.auth.getSession();t=(null==i?void 0:i.access_token)||null,a=(null==i?void 0:i.expires_at)?1e3*i.expires_at:0}else{let e=(0,n.createBrowserSupabase)(),{data:{session:r}}=await e.auth.getSession();t=(null==r?void 0:r.access_token)||null,a=(null==r?void 0:r.expires_at)?1e3*r.expires_at:0}return o=t,c=a,o}catch(e){return null}}function u(){o=null,c=0}async function d(e){if(!e.ok){let t=await e.text().catch(()=>""),r=Error("".concat(e.status," ").concat(e.statusText));throw r.status=e.status,r.body=t,r}if(204!==e.status)return await e.json()}async function h(e){let t=await l(),r={"x-client-key":s,"X-Request-Id":crypto.randomUUID()};return t&&(r.authorization="Bearer ".concat(t)),d(await fetch("".concat(a).concat(e),{method:"GET",headers:r,credentials:"include",cache:"no-store"}))}async function p(e,t){let r=await l(),n={"content-type":"application/json","x-client-key":s,"X-Request-Id":crypto.randomUUID()};return r&&(n.authorization="Bearer ".concat(r)),d(await fetch("".concat(a).concat(e),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}))}async function m(e,t){let r=await l(),n={"content-type":"application/json","x-client-key":s,"X-Request-Id":crypto.randomUUID()};return r&&(n.authorization="Bearer ".concat(r)),d(await fetch("".concat(a).concat(e),{method:"PUT",headers:n,body:JSON.stringify(t),credentials:"include"}))}},51056:(e,t,r)=>{r.d(t,{Ix:()=>a,ax:()=>s});var n=r(25656);function i(e){if(!e)return null;let t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString().slice(0,10);let r=e.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/);if(r){let[,e,t,n]=r,i=parseInt(e,10)>12?t:e,a=parseInt(e,10)>12?e:t,s=2===n.length?"20".concat(n):n;return"".concat(s.padStart(4,"0"),"-").concat(i.padStart(2,"0"),"-").concat(a.padStart(2,"0"))}return null}async function a(e){var t,r,a,s,o,c,l;let u={template_id:e.templateId,findings:e.findings};if((null==(t=e.indication)?void 0:t.trim())&&(u.indication=e.indication.trim()),(null==(r=e.impression)?void 0:r.trim())&&(u.impression=e.impression.trim()),(null==(a=e.technique)?void 0:a.trim())&&(u.technique=e.technique.trim()),e.patient){let t={};(null==(s=e.patient.name)?void 0:s.trim())&&(t.name=e.patient.name.trim()),null!=e.patient.age&&(t.age=Number(e.patient.age)),e.patient.sex&&(t.sex=e.patient.sex),(null==(o=e.patient.mrn)?void 0:o.trim())&&(t.mrn=e.patient.mrn.trim());let r=i(e.patient.dob||null);r&&(t.dob=r),(null==(c=e.patient.history)?void 0:c.trim())&&(t.history=e.patient.history.trim()),Object.keys(t).length&&(u.patient=t)}if(e.signature){let t={};(null==(l=e.signature.name)?void 0:l.trim())&&(t.name=e.signature.name.trim());let r=i(e.signature.date||null);r&&(t.date=r),Object.keys(t).length&&(u.signature=t)}return(0,n.zA)("/v1/generate/async",u)}let s=e=>(0,n.lx)("/v1/jobs/".concat(encodeURIComponent(e)))},64269:(e,t,r)=>{r.d(t,{cn:()=>a});var n=r(2821),i=r(75889);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,n.$)(t))}},73272:(e,t,r)=>{r.d(t,{L:()=>i});var n=r(71708);function i(){let e={origin:{y:.7},zIndex:9999};function t(t,r){(0,n.A)({...e,...r,particleCount:Math.floor(200*t)})}t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:.8}),t(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),t(.1,{spread:120,startVelocity:45})}},90260:(e,t,r)=>{r.d(t,{Ld:()=>a,Wj:()=>i});var n=r(95704);function i(){return"true"===n.env.NEXT_PUBLIC_TEST_MODE||"true"===n.env.NEXT_PUBLIC_BYPASS_AUTH||"true"===new URLSearchParams(window.location.search).get("test")}function a(){if(!i())return null;let e=i()?{id:"test-user-id-12345",email:"test@radly.test",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z",aud:"authenticated",role:"authenticated",app_metadata:{},user_metadata:{full_name:"Test User"},identities:[],factors:[],is_anonymous:!1,phone:"",email_confirmed_at:"2024-01-01T00:00:00Z",phone_confirmed_at:void 0,confirmed_at:"2024-01-01T00:00:00Z",last_sign_in_at:"2024-01-01T00:00:00Z",is_sso_user:!1,provider:"email",providers:["email"]}:null;return e?{access_token:"test-access-token",refresh_token:"test-refresh-token",expires_in:3600,expires_at:Math.floor(Date.now()/1e3)+3600,token_type:"bearer",user:e}:null}},96648:(e,t,r)=>{r.d(t,{createBrowserSupabase:()=>i});var n=r(16010);function i(){return(0,n.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{flowType:"pkce",detectSessionInUrl:!0,persistSession:!0}})}}}]);