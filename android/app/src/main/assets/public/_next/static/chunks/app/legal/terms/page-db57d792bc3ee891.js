(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3592],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(95155),s=r(12115),n=r(32467),i=r(83101),d=r(64269);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...o}=e,u=l?n.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(c({variant:s,size:i,className:r})),ref:t,...o})});l.displayName="Button"},7797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),s=r(12115),n=r(20063),i=r(3998),d=r(86948),c=r(91162),l=r(62890),o=r(18720),u=r(6504),m=r(22133),f=r(89715),p=r(42529);function h(){let[e,t]=(0,s.useState)(""),[r,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),b=(0,n.useRouter)();(0,s.useEffect)(()=>{fetch("/content/terms.md",{headers:{"X-Request-Id":crypto.randomUUID()}}).then(e=>{if(!e.ok)throw Error("HTTP ".concat(e.status));return e.text()}).then(e=>t(e)).catch(e=>{t("# Terms of Use\nLast updated: 2025-01-08\n\nBy using Radly you agree to the Terms of Use. (Full text to be inserted.)\n\nThis is a placeholder. Please contact support if you need the complete terms.")})},[]);let v=async()=>{g(!0);try{let e=(0,l.A)(),{data:{user:t}}=await e.auth.getUser();if(!t){o.oR.error("You must be signed in to accept terms"),b.push("/login");return}await (0,c.b6)(t.id,{accepted_terms_at:new Date().toISOString()}),o.oR.success("Terms accepted successfully!"),b.push("/app/templates")}catch(e){o.oR.error("Failed to accept terms")}finally{g(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-muted to-background",children:[(0,a.jsx)("header",{className:"border-b border-border bg-card/80 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,a.jsx)(f.A,{className:"w-5 h-5 text-primary-foreground"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-primary",children:"Radly"})]})})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-2xl",children:"Terms of Service"}),(0,a.jsx)(d.BT,{children:"Please read and accept our terms of service to continue using Radly"})]}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsx)("div",{className:"prose prose-sm max-w-none mb-8",children:(0,a.jsx)(u.oz,{remarkPlugins:[m.A],children:e})}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("input",{type:"checkbox",id:"accept-terms",checked:r,onChange:e=>h(e.target.checked),className:"w-4 h-4 text-primary border-border rounded focus:ring-ring"}),(0,a.jsx)("label",{htmlFor:"accept-terms",className:"text-sm font-medium text-foreground",children:"I have read and agree to the Terms of Service"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)(i.$,{onClick:v,disabled:!r||x,variant:"default",className:"flex items-center space-x-2",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"I Accept"})]}),(0,a.jsx)(i.$,{variant:"outline",onClick:()=>b.push("/login"),children:"Cancel"})]})]})]})]})})]})}},62643:(e,t,r)=>{Promise.resolve().then(r.bind(r,7797))},62890:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(96648);function s(){return(0,a.createBrowserSupabase)()}},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2821),s=r(75889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>d});var a=r(95155),s=r(12115),n=r(64269);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},91162:(e,t,r)=>{"use strict";r.d(t,{Sk:()=>s,b6:()=>n,eU:()=>i});var a=r(62890);async function s(e){try{var t,r,s;let n=(0,a.A)(),{data:{user:i},error:d}=await n.auth.getUser();if(d||!i)throw Error("User not found");return{id:e,email:i.email||"",default_signature_name:(null==(t=i.user_metadata)?void 0:t.default_signature_name)||"",default_signature_date_format:(null==(r=i.user_metadata)?void 0:r.default_signature_date_format)||"MM/DD/YYYY",accepted_terms_at:null==(s=i.user_metadata)?void 0:s.accepted_terms_at,subscription:null,updated_at:i.updated_at||new Date().toISOString()}}catch(t){return{id:e,email:"",default_signature_name:"",default_signature_date_format:"MM/DD/YYYY",subscription:null,updated_at:new Date().toISOString()}}}async function n(e,t){try{let e=(0,a.A)(),{error:r}=await e.auth.updateUser({data:{default_signature_name:t.default_signature_name,default_signature_date_format:t.default_signature_date_format,accepted_terms_at:t.accepted_terms_at}});if(r)throw Error("Failed to update user data: ".concat(r.message))}catch(e){throw e}}let i={retry:(e,t)=>!(t.message.includes("401")||t.message.includes("403")||t.message.includes("404"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:3e5}},96648:(e,t,r)=>{"use strict";r.d(t,{createBrowserSupabase:()=>s});var a=r(16010);function s(){return(0,a.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{flowType:"pkce",detectSessionInUrl:!0,persistSession:!0}})}}},e=>{e.O(0,[5707,6010,8720,7403,8441,1255,7358],()=>e(e.s=62643)),_N_E=e.O()}]);