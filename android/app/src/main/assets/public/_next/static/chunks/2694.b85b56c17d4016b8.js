"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2694,5656],{3998:(e,t,a)=>{a.d(t,{$:()=>c});var s=a(95155),r=a(12115),n=a(32467),l=a(83101),i=a(64269);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:l,className:a})),ref:t,...d})});c.displayName="Button"},6191:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8971:(e,t,a)=>{a.d(t,{L:()=>l});var s=a(12115),r=a(96648),n=a(90260);function l(){let[e,t]=(0,s.useState)("loading"),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{if((0,n.Wj)()){var e;let a=(0,n.Ld)();l((null==a?void 0:a.access_token)||"test-access-token"),o((null==a||null==(e=a.user)?void 0:e.id)||"test-user-id-12345"),t("authenticated");return}let a=!1,s=(0,r.createBrowserSupabase)();(async()=>{var e,r,n,i,c;let{data:d}=await s.auth.getSession();if(a)return;let u=null!=(i=null==(e=d.session)?void 0:e.access_token)?i:null;l(u),o(null!=(c=null==(n=d.session)||null==(r=n.user)?void 0:r.id)?c:null),t(u?"authenticated":"signed_out")})();let{data:i}=s.auth.onAuthStateChange((e,s)=>{var r,n,i;if(a)return;let c=null!=(n=null==s?void 0:s.access_token)?n:null;l(c),o(null!=(i=null==s||null==(r=s.user)?void 0:r.id)?i:null),t(c?"authenticated":"signed_out")});return()=>{a=!0,i.subscription.unsubscribe()}},[]);let c=(0,s.useCallback)(()=>a?{Authorization:"Bearer ".concat(a)}:{},[a]);return(0,s.useMemo)(()=>({status:e,token:a,userId:i,getAuthHeader:c}),[e,a,i,c])}},11186:(e,t,a)=>{a.d(t,{bq:()=>m,eb:()=>x,gC:()=>f,l6:()=>d,yv:()=>u});var s=a(95155),r=a(12115),n=a(18261),l=a(24033),i=a(12108),o=a(5917),c=a(64269);let d=n.bL;n.YJ;let u=n.WT,m=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(n.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)("span",{children:(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})})]})});m.displayName=n.l9.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=n.wn.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,s.jsx)(h,{}),(0,s.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});f.displayName=n.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=n.JU.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(n.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:r})]})});x.displayName=n.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=n.wv.displayName},18024:(e,t,a)=>{a.d(t,{Ap:()=>r});var s=a(12115);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{baseInterval:a=12e3,maxInterval:r=6e4,pauseWhenHidden:n=!0,immediate:l=!0,cleanupOnError:i=!0,backoffMultiplier:o=1.5,resetBackoffOnSuccess:c=!0}=t,[d,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)(!0),[p,f]=(0,s.useState)(a),x=(0,s.useRef)(null),b=(0,s.useRef)(0),g=(0,s.useRef)(!0),v=(0,s.useCallback)(()=>{x.current&&(clearTimeout(x.current),x.current=null)},[]),y=(0,s.useCallback)(()=>{g.current&&d&&(m||!n)&&(v(),x.current=setTimeout(async()=>{if(g.current)try{await e(),c&&(b.current=0,f(a)),y()}catch(e){if(b.current++,f(Math.min(a*Math.pow(o,b.current),r)),i)return void u(!1);y()}},p))},[e,d,m,n,p,a,r,o,c,i,v]);(0,s.useEffect)(()=>{if(!n)return;let e=()=>{let e=!document.hidden;h(e),e&&d?y():e||v()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[n,d,y,v]),(0,s.useEffect)(()=>(g.current=!0,()=>{g.current=!1,v()}),[v]),(0,s.useEffect)(()=>(d&&(m||!n)?(l&&Promise.resolve(e()).catch(console.error),y()):v(),v),[d,m,n,l,e,y,v]);let j=(0,s.useCallback)(async()=>{try{await e(),c&&(b.current=0,f(a))}catch(e){}},[e,c,a]);return{isPolling:d,isVisible:m,currentInterval:p,triggerPoll:j,pause:(0,s.useCallback)(()=>{u(!1),v()},[v]),resume:(0,s.useCallback)(()=>{u(!0)},[])}}(e,{baseInterval:1e4,maxInterval:12e4,backoffMultiplier:2,...t})}},20063:(e,t,a)=>{var s=a(47260);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},20243:(e,t,a)=>{a.d(t,{E:()=>n});var s=a(95155),r=a(64269);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...a})}},25656:(e,t,a)=>{a.d(t,{clearTokenCache:()=>d,lx:()=>m,yd:()=>p,zA:()=>h});var s=a(96648),r=a(32587);let n="https://edge.radly.app",l="0f0a24adba9edfede4bc7413f85967224db6d1501c16f5213e901048cf4eb445",i=null,o=0;async function c(){try{let e=Date.now();if(i&&o>e+3e5)return i;let t=null,n=0;if(r.Capacitor.isNativePlatform()){let{getSupabaseClient:e}=await a.e(3077).then(a.bind(a,13077)),s=await e(),{data:{session:r}}=await s.auth.getSession();t=(null==r?void 0:r.access_token)||null,n=(null==r?void 0:r.expires_at)?1e3*r.expires_at:0}else{let e=(0,s.createBrowserSupabase)(),{data:{session:a}}=await e.auth.getSession();t=(null==a?void 0:a.access_token)||null,n=(null==a?void 0:a.expires_at)?1e3*a.expires_at:0}return i=t,o=n,i}catch(e){return null}}function d(){i=null,o=0}async function u(e){if(!e.ok){let t=await e.text().catch(()=>""),a=Error("".concat(e.status," ").concat(e.statusText));throw a.status=e.status,a.body=t,a}if(204!==e.status)return await e.json()}async function m(e){let t=await c(),a={"x-client-key":l,"X-Request-Id":crypto.randomUUID()};return t&&(a.authorization="Bearer ".concat(t)),u(await fetch("".concat(n).concat(e),{method:"GET",headers:a,credentials:"include",cache:"no-store"}))}async function h(e,t){let a=await c(),s={"content-type":"application/json","x-client-key":l,"X-Request-Id":crypto.randomUUID()};return a&&(s.authorization="Bearer ".concat(a)),u(await fetch("".concat(n).concat(e),{method:"POST",headers:s,body:JSON.stringify(t),credentials:"include"}))}async function p(e,t){let a=await c(),s={"content-type":"application/json","x-client-key":l,"X-Request-Id":crypto.randomUUID()};return a&&(s.authorization="Bearer ".concat(a)),u(await fetch("".concat(n).concat(e),{method:"PUT",headers:s,body:JSON.stringify(t),credentials:"include"}))}},27937:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},32694:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E,dynamic:()=>I});var s=a(95155),r=a(12115),n=a(3998),l=a(65142),i=a(11186),o=a(89715),c=a(6191),d=a(86651),u=a(57828),m=a(90368),h=a(27937),p=a(52619),f=a.n(p),x=a(20063),b=a(51056),g=a(57667),v=a(8971),y=a(18024),j=a(62785),w=a(20243),N=a(35299),k=a(89559),_=a(1733);function S(e){let{onRefresh:t,children:a,enabled:n=!0,threshold:l=80}=e,{containerRef:i,isPulling:o,isRefreshing:c,pullDistance:d,progress:u}=function(e){let{onRefresh:t,threshold:a=80,enabled:s=!0}=e,[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(0),u=(0,r.useRef)(0),m=(0,r.useRef)(null),h=(0,r.useCallback)(e=>{s&&!i&&0===window.scrollY&&(u.current=e.touches[0].clientY)},[s,i]),p=(0,r.useCallback)(e=>{if(!s||i||0===u.current)return;let t=e.touches[0].clientY-u.current;t>0&&0===window.scrollY&&(d(Math.min(t,1.5*a)),t>a?l(!0):l(!1),t>10&&e.preventDefault())},[s,i,a]),f=(0,r.useCallback)(async()=>{if(s&&!i){if(n&&c>a){o(!0);try{await t()}catch(e){}finally{o(!1)}}l(!1),d(0),u.current=0}},[s,n,i,c,a,t]);return(0,r.useEffect)(()=>{let e=m.current;if(e&&s)return e.addEventListener("touchstart",h,{passive:!0}),e.addEventListener("touchmove",p,{passive:!1}),e.addEventListener("touchend",f,{passive:!0}),()=>{e.removeEventListener("touchstart",h),e.removeEventListener("touchmove",p),e.removeEventListener("touchend",f)}},[s,h,p,f]),{containerRef:m,isPulling:n,isRefreshing:i,pullDistance:c,progress:Math.min(c/a,1)}}({onRefresh:t,enabled:n,threshold:l});return(0,s.jsxs)("div",{ref:i,className:"relative min-h-screen",children:[(o||c)&&(0,s.jsx)(_.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-0 left-0 right-0 flex justify-center items-center",style:{transform:"translateY(".concat(Math.min(d-40,40),"px)")},children:(0,s.jsx)("div",{className:"bg-background/90 backdrop-blur-sm rounded-full p-3 shadow-lg border",children:c?(0,s.jsx)(N.A,{className:"w-6 h-6 animate-spin text-primary"}):(0,s.jsx)(_.P.div,{animate:{rotate:180*u},children:(0,s.jsx)(k.A,{className:"w-6 h-6 text-primary"})})})}),(0,s.jsx)("div",{style:{transform:c?"translateY(60px)":"translateY(".concat(Math.min(.4*d,60),"px)"),transition:c||!o?"transform 0.3s ease":"none"},children:a})]})}let C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";if("vibrate"in navigator)try{navigator.vibrate({light:10,medium:20,heavy:30,success:[10,50,10],warning:[20,100,20],error:[30,50,30,50,30]}[e])}catch(e){}},I="force-dynamic",A={done:{label:"Completed",badgeClass:"bg-[rgba(63,191,140,0.18)] border border-[rgba(63,191,140,0.32)] text-[#C8F3E2]"},running:{label:"Generating",badgeClass:"bg-[rgba(75,142,255,0.16)] border border-[rgba(75,142,255,0.35)] text-[#D7E3FF]"},queued:{label:"Queued",badgeClass:"bg-[rgba(248,183,77,0.16)] border border-[rgba(248,183,77,0.35)] text-[#FBE3B5]"},error:{label:"Failed",badgeClass:"bg-[rgba(255,107,107,0.18)] border border-[rgba(255,107,107,0.28)] text-[#FFD1D1]"}};function E(){let e=(0,x.useRouter)(),{userId:t}=(0,v.L)(),[a,p]=(0,r.useState)(!0),[N,k]=(0,r.useState)([]),[_,I]=(0,r.useState)(null),[E,R]=(0,r.useState)(0),[M,z]=(0,r.useState)(""),[F,L]=(0,r.useState)("newest"),[T,P]=(0,r.useState)(1);(0,r.useEffect)(()=>{(0,g.l)().auth.getSession().then(t=>{let{data:a}=t;a.session||e.push("/login")})},[e]);let B=(0,r.useCallback)(()=>t?"radly_recent_jobs_local_".concat(t):null,[t]),J=(0,r.useCallback)(async()=>{try{if(p(!0),I(null),!t){k([]),I(null);return}let e=B();if(!e){k([]),I(null);return}let a=JSON.parse(localStorage.getItem(e)||"[]");if(a.length>0){let e=a.map(e=>({job_id:e.job_id,status:e.status||"queued",template_id:e.template_id||e.title||"—"}));k(e),I(null)}else k([]),I(null)}catch(e){e instanceof Error&&e.message,k([]),I(null)}finally{p(!1)}},[t,B]),U=(0,r.useCallback)(async(e,t)=>{try{let a=B();if(!a)return;let s=JSON.parse(localStorage.getItem(a)||"[]").map(a=>a.job_id===e?{...a,status:t}:a);localStorage.setItem(a,JSON.stringify(s)),k(a=>a.map(a=>a.job_id===e?{...a,status:t}:a))}catch(e){}},[B]);(0,r.useEffect)(()=>{J()},[J]),(0,y.Ap)(async()=>{let e=N.filter(e=>"queued"===e.status||"running"===e.status);if(e.length>0){let t=await Promise.allSettled(e.map(e=>(0,b.ax)(e.job_id))),a=!1;t.forEach((t,s)=>{let r=e[s];if("fulfilled"===t.status){let e=t.value;e.status!==r.status&&U(r.job_id,e.status)}else a=!0}),a?R(e=>e+1):R(0)}},{immediate:!1});let{filteredAndSortedRows:Z,totalPages:Y,paginatedRows:q}=(0,r.useMemo)(()=>{let e=N.filter(e=>{var t;if(!M)return!0;let a=M.toLowerCase();return e.job_id.toLowerCase().includes(a)||(null==(t=e.template_id)?void 0:t.toLowerCase().includes(a))||e.status.toLowerCase().includes(a)});e.sort((e,t)=>{if("newest"===F)return t.job_id.localeCompare(e.job_id);if("oldest"===F)return e.job_id.localeCompare(t.job_id);if("status"===F){var a,s;let r={running:0,queued:1,done:2,error:3};return(null!=(a=r[e.status])?a:999)-(null!=(s=r[t.status])?s:999)}return 0});let t=Math.ceil(e.length/20),a=(T-1)*20,s=e.slice(a,a+20);return{filteredAndSortedRows:e,totalPages:t,paginatedRows:s}},[N,M,F,T,20]),O=(0,r.useCallback)(async()=>{C("light"),await J(),C("success")},[J]);return a?(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)(w.E,{className:"h-4 w-32 mb-4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(w.E,{className:"h-7 w-48"}),(0,s.jsx)(w.E,{className:"h-9 w-20"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,s.jsx)(w.E,{className:"h-10 flex-1"}),(0,s.jsx)(w.E,{className:"h-10 w-full sm:w-[180px]"})]}),(0,s.jsx)("ul",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,s.jsx)("li",{className:"rounded-lg border p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(w.E,{className:"h-5 w-64"}),(0,s.jsx)(w.E,{className:"h-4 w-40"}),(0,s.jsx)(w.E,{className:"h-3 w-72"})]}),(0,s.jsx)(w.E,{className:"h-9 w-32"})]})},e))})]}):_?(0,s.jsxs)("div",{className:"p-6 text-red-600",children:[_,(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(n.$,{variant:"outline",onClick:J,children:"Retry"})})]}):N.length?(0,s.jsx)(S,{onRefresh:O,enabled:!a,children:(0,s.jsxs)("div",{className:"neon-shell space-y-6 p-5 sm:p-8 md:p-10",children:[(0,s.jsx)(j.Q,{items:[{label:"Reports"}]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold text-white",children:"Your Recent Reports"}),(0,s.jsx)("p",{className:"text-sm text-[rgba(207,207,207,0.65)] mt-1",children:"Track generated studies, monitor statuses, and jump back into results instantly."})]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",className:"h-10 px-4 text-[#4B8EFF] border-[#4B8EFF]/40 hover:bg-[rgba(75,142,255,0.12)]",onClick:()=>{C("light"),J()},"aria-label":"Refresh reports list",children:"Refresh"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[rgba(207,207,207,0.5)]","aria-hidden":"true"}),(0,s.jsx)(l.p,{placeholder:"Search by job ID, template, or status...",value:M,onChange:e=>{z(e.target.value),P(1)},className:"pl-9 bg-[rgba(18,22,36,0.8)] border border-[rgba(255,255,255,0.08)] text-white placeholder:text-[rgba(207,207,207,0.45)] focus-visible:ring-[#4B8EFF]","aria-label":"Search reports"})]}),(0,s.jsxs)(i.l6,{value:F,onValueChange:e=>L(e),children:[(0,s.jsx)(i.bq,{className:"w-full sm:w-[200px] bg-[rgba(18,22,36,0.8)] border border-[rgba(255,255,255,0.08)] text-white","aria-label":"Sort reports",children:(0,s.jsx)(i.yv,{placeholder:"Sort by..."})}),(0,s.jsxs)(i.gC,{className:"bg-[rgba(10,12,20,0.95)] border border-[rgba(255,255,255,0.08)] text-white",children:[(0,s.jsx)(i.eb,{value:"newest",children:"Newest First"}),(0,s.jsx)(i.eb,{value:"oldest",children:"Oldest First"}),(0,s.jsx)(i.eb,{value:"status",children:"By Status"})]})]})]}),M&&(0,s.jsxs)("div",{className:"text-sm text-[rgba(207,207,207,0.6)]",children:["Found ",Z.length," ",1===Z.length?"report":"reports"]}),E>=3&&(0,s.jsx)("div",{className:"aurora-card border border-[rgba(248,183,77,0.28)] bg-[rgba(54,42,22,0.65)] p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"mt-0.5 text-[#F8B74D]",children:"⚠️"}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Status updates delayed"}),(0,s.jsx)("p",{className:"text-sm text-[rgba(248,183,77,0.85)]",children:"We're having trouble fetching the latest job status. Reports are still processing; try refreshing to sync again."})]})]})}),(0,s.jsx)("ul",{className:"space-y-4",children:q.map(e=>{var t,a;let r=null!=(t=A[e.status])?t:A.queued;return(0,s.jsx)("li",{className:"aurora-card border border-[rgba(255,255,255,0.05)] p-5 sm:p-6 transition-all duration-300 hover:-translate-y-1 hover:border-[rgba(75,142,255,0.35)] hover:shadow-[0_18px_42px_rgba(20,28,45,0.55)]",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg font-semibold text-white tracking-tight",children:(null!=(a=e.template_id)?a:"Untitled Report").replace(/_/g," ")}),(0,s.jsx)("span",{className:"text-xs font-medium px-3 py-1 rounded-full ".concat(r.badgeClass),children:r.label})]}),(0,s.jsxs)("div",{className:"text-xs text-[rgba(207,207,207,0.55)]",children:[(0,s.jsx)("span",{className:"uppercase tracking-[0.28em] text-[rgba(207,207,207,0.4)] mr-2",children:"Job ID"}),(0,s.jsx)("span",{className:"font-mono text-[rgba(207,207,207,0.75)] truncate block sm:inline",children:e.job_id})]})]}),(0,s.jsxs)(f(),{href:"/app/report/".concat(e.job_id),className:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-lg bg-[linear-gradient(90deg,#2653FF_0%,#4B8EFF_100%)] text-white shadow-[0_10px_24px_rgba(75,142,255,0.35)] hover:shadow-[0_16px_28px_rgba(75,142,255,0.45)] transition-all touch-target",onClick:()=>C("light"),children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"View Report"})]})]})},e.job_id)})}),Y>1&&(0,s.jsxs)("div",{className:"flex flex-col gap-4 border-t border-[rgba(255,255,255,0.06)] pt-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-[rgba(207,207,207,0.6)]",children:["Page ",T," of ",Y," (",Z.length," total ",1===Z.length?"report":"reports",")"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-[rgba(207,207,207,0.8)] border-[rgba(255,255,255,0.12)] hover:text-white",onClick:()=>P(e=>Math.max(1,e-1)),disabled:1===T,"aria-label":"Go to previous page",children:(0,s.jsx)(m.A,{className:"h-4 w-4"})}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-[rgba(207,207,207,0.8)] border-[rgba(255,255,255,0.12)] hover:text-white",onClick:()=>P(e=>Math.min(Y,e+1)),disabled:T===Y,"aria-label":"Go to next page",children:(0,s.jsx)(h.A,{className:"h-4 w-4"})})]})]})]})}):(0,s.jsxs)("div",{className:"p-6 text-center space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"w-8 h-8 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"text-muted-foreground",children:[(0,s.jsx)("p",{className:"text-lg font-semibold mb-2",children:"No reports yet"}),(0,s.jsx)("p",{className:"text-sm max-w-md mx-auto",children:"Your generated reports will appear here after generation completes. Start by selecting a template and generating your first report."})]})]}),(0,s.jsxs)(n.$,{onClick:()=>e.push("/app/templates"),className:"gap-2",children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),"Generate Your First Report"]})]})}},35299:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},51056:(e,t,a)=>{a.d(t,{Ix:()=>n,ax:()=>l});var s=a(25656);function r(e){if(!e)return null;let t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString().slice(0,10);let a=e.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})$/);if(a){let[,e,t,s]=a,r=parseInt(e,10)>12?t:e,n=parseInt(e,10)>12?e:t,l=2===s.length?"20".concat(s):s;return"".concat(l.padStart(4,"0"),"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))}return null}async function n(e){var t,a,n,l,i,o,c;let d={template_id:e.templateId,findings:e.findings};if((null==(t=e.indication)?void 0:t.trim())&&(d.indication=e.indication.trim()),(null==(a=e.impression)?void 0:a.trim())&&(d.impression=e.impression.trim()),(null==(n=e.technique)?void 0:n.trim())&&(d.technique=e.technique.trim()),e.patient){let t={};(null==(l=e.patient.name)?void 0:l.trim())&&(t.name=e.patient.name.trim()),null!=e.patient.age&&(t.age=Number(e.patient.age)),e.patient.sex&&(t.sex=e.patient.sex),(null==(i=e.patient.mrn)?void 0:i.trim())&&(t.mrn=e.patient.mrn.trim());let a=r(e.patient.dob||null);a&&(t.dob=a),(null==(o=e.patient.history)?void 0:o.trim())&&(t.history=e.patient.history.trim()),Object.keys(t).length&&(d.patient=t)}if(e.signature){let t={};(null==(c=e.signature.name)?void 0:c.trim())&&(t.name=e.signature.name.trim());let a=r(e.signature.date||null);a&&(t.date=a),Object.keys(t).length&&(d.signature=t)}return(0,s.zA)("/v1/generate/async",d)}let l=e=>(0,s.lx)("/v1/jobs/".concat(encodeURIComponent(e)))},57667:(e,t,a)=>{a.d(t,{l:()=>r});var s=a(16010);function r(){return(0,s.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs")}},57828:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},62785:(e,t,a)=>{a.d(t,{Q:()=>c});var s=a(95155),r=a(12115),n=a(52619),l=a.n(n),i=a(65993),o=a(27937);function c(e){let{items:t}=e;return(0,s.jsxs)("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[(0,s.jsx)(l(),{href:"/app/dashboard",className:"flex items-center justify-center hover:text-foreground transition-colors","aria-label":"Go to dashboard",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),t.map((e,a)=>{let n=a===t.length-1;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(o.A,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),e.href&&!n?(0,s.jsx)(l(),{href:e.href,className:"hover:text-foreground transition-colors whitespace-nowrap leading-none flex items-center",children:e.label}):(0,s.jsx)("span",{className:"whitespace-nowrap leading-none flex items-center ".concat(n?"text-foreground font-medium":""),"aria-current":n?"page":void 0,children:e.label})]},a)})]})}},64269:(e,t,a)=>{a.d(t,{cn:()=>n});var s=a(2821),r=a(75889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},65142:(e,t,a)=>{a.d(t,{p:()=>o});var s=a(95155),r=a(12115),n=a(83101),l=a(64269);let i=(0,n.F)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),o=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)(i(),a),ref:t,...n})});o.displayName="Input"},65993:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},86651:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},89559:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},89715:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},90260:(e,t,a)=>{a.d(t,{Ld:()=>n,Wj:()=>r});var s=a(95704);function r(){return"true"===s.env.NEXT_PUBLIC_TEST_MODE||"true"===s.env.NEXT_PUBLIC_BYPASS_AUTH||"true"===new URLSearchParams(window.location.search).get("test")}function n(){if(!r())return null;let e=r()?{id:"test-user-id-12345",email:"test@radly.test",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z",aud:"authenticated",role:"authenticated",app_metadata:{},user_metadata:{full_name:"Test User"},identities:[],factors:[],is_anonymous:!1,phone:"",email_confirmed_at:"2024-01-01T00:00:00Z",phone_confirmed_at:void 0,confirmed_at:"2024-01-01T00:00:00Z",last_sign_in_at:"2024-01-01T00:00:00Z",is_sso_user:!1,provider:"email",providers:["email"]}:null;return e?{access_token:"test-access-token",refresh_token:"test-refresh-token",expires_in:3600,expires_at:Math.floor(Date.now()/1e3)+3600,token_type:"bearer",user:e}:null}},90368:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(71847).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},96648:(e,t,a)=>{a.d(t,{createBrowserSupabase:()=>r});var s=a(16010);function r(){return(0,s.createBrowserClient)("https://bsldtgivgtyzacwyvcfh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbGR0Z2l2Z3R5emFjd3l2Y2ZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MzQ1NzMsImV4cCI6MjA3NTUxMDU3M30.vjHPo6WEASxYBOAGYmZ93o5n9RhZvANSlLhaT-wagTs",{auth:{flowType:"pkce",detectSessionInUrl:!0,persistSession:!0}})}}}]);