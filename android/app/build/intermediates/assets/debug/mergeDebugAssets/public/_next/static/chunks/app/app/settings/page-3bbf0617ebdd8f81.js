(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7442],{21787:(e,s,a)=>{Promise.resolve().then(a.bind(a,87392))},62890:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(96648);function r(){return(0,t.createBrowserSupabase)()}},65142:(e,s,a)=>{"use strict";a.d(s,{p:()=>c});var t=a(95155),r=a(12115),i=a(83101),l=a(64269);let n=(0,i.F)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),c=r.forwardRef((e,s)=>{let{className:a,type:r,...i}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)(n(),a),ref:s,...i})});c.displayName="Input"},80991:(e,s,a)=>{"use strict";a.d(s,{k:()=>r});var t=a(95155);function r(e){let{value:s}=e,a=Math.max(0,Math.min(100,null!=s?s:0));return(0,t.jsxs)("div",{className:"relative w-full h-2 rounded-full border border-[rgba(255,255,255,0.12)] bg-[rgba(255,255,255,0.06)] overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-40 bg-[linear-gradient(90deg,rgba(255,255,255,0.12)0%,transparent 45%,rgba(255,255,255,0.12)90%)]"}),(0,t.jsx)("div",{className:"relative h-full rounded-full bg-[linear-gradient(90deg,#2653FF_0%,#4B8EFF_45%,#8F82FF_100%)] shadow-[0_0_18px_rgba(75,142,255,0.55)] transition-all duration-500",style:{width:"".concat(a,"%")}})]})}a(12115)},87025:(e,s,a)=>{"use strict";a.d(s,{Vj:()=>d});var t=a(12115);function r(){if(window.Capacitor){let e=window.Capacitor.getPlatform();if("ios"===e)return"ios";if("android"===e)return"android"}if("undefined"!=typeof navigator){let e=navigator.userAgent||navigator.vendor||window.opera||"";if(/iPad|iPhone|iPod/.test(e)&&!window.MSStream)return"ios";if(/android/i.test(e))return"android"}return"web"}function i(){let e=r();return"ios"===e||"android"===e}function l(){return"web"===r()}function n(){let e=r();return"ios"===e?"apple":"android"===e?"google":"web"}function c(){return{platform:r(),store:n(),isNative:i(),isWeb:l(),displayName:function(){let e=r();return"ios"===e?"iOS":"android"===e?"Android":"Web"}(),storeName:function(){let e=n();return"apple"===e?"App Store":"google"===e?"Google Play":"Web"}(),shouldShowWebSubscriptions:l(),shouldShowMobileSubscriptions:i(),supportsPushNotifications:i(),subscriptionManagementUrl:function(){let e=r();return"ios"===e?"https://apps.apple.com/account/subscriptions":"android"===e?"https://play.google.com/store/account/subscriptions":null}()}}function d(){let[e,s]=(0,t.useState)(!1),[a,r]=(0,t.useState)(()=>c());return(0,t.useEffect)(()=>{r(c()),s(!0)},[]),{...a,isReady:e}}},87392:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ey,dynamic:()=>eN});var t=a(95155),r=a(12115),i=a(99776),l=a(22454),n=a(3998),c=a(86948),d=a(65142),o=a(76444),m=a(64269);let x=r.forwardRef((e,s)=>{let{className:a,checked:r=!1,onCheckedChange:i,disabled:l,...n}=e;return(0,t.jsx)("button",{type:"button",role:"switch","aria-checked":r,"data-state":r?"checked":"unchecked",disabled:l,className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",r?"bg-primary":"bg-input",a),onClick:()=>null==i?void 0:i(!r),ref:s,...n,children:(0,t.jsx)("span",{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",r?"translate-x-5":"translate-x-0")})})});x.displayName="Switch";var h=a(11186),u=a(11647),p=a(80991),f=a(18927),j=a(91162),g=a(18720),N=a(1733),y=a(26497),v=a(42529),b=a(6132),w=a(26983),_=a(15870),A=a(46046),S=a(20508),C=a(57828),k=a(39926),D=a(50906),P=a(3166),Y=a(99708),R=a(39867),M=a(21786),F=a(89715),U=a(6259),B=a(20243),T=a(95740),E=a(39347),J=a(20017),O=a(21190),$=a(71360),z=a(16023),Z=a(51834);function I(e){let{open:s,onOpenChange:a,onSuccess:i}=e,[l,c]=(0,r.useState)(null),[m,x]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),j=(0,r.useRef)(null),g=(0,z.hp)(),w=async()=>{if(!l)return void f("Please select a file");if(!m.trim())return void f("Please enter a profile name");if(m.length>255)return void f("Profile name must be less than 255 characters");try{await g.mutateAsync({file:l,profileName:m.trim(),isDefault:h}),c(null),x(""),u(!1),f(null),j.current&&(j.current.value=""),a(!1),null==i||i()}catch(e){}};return(0,t.jsx)(Z.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(Z.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(Z.c7,{children:[(0,t.jsxs)(Z.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,t.jsx)(M.A,{className:"w-4 h-4 text-white"})}),"Upload Template"]}),(0,t.jsx)(Z.rr,{children:"Upload a DOCX template to create a custom formatting profile for your reports."})]}),(0,t.jsxs)("div",{className:"space-y-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"file-upload",children:"DOCX Template"}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(d.p,{id:"file-upload",ref:j,type:"file",accept:".docx",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(f(null),!a)return void c(null);if(!a.name.endsWith(".docx")){f("Only DOCX files are accepted"),c(null);return}if(a.size>5242880){f("File size must be less than 5MB"),c(null);return}c(a)},className:"cursor-pointer file:cursor-pointer file:mr-4 file:px-4 file:py-2 file:rounded-md file:border-0 file:bg-emerald-500 file:text-white file:font-semibold hover:file:bg-emerald-600"})}),(0,t.jsx)(y.N,{children:l&&(0,t.jsxs)(N.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-start gap-3 p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[(0,t.jsx)(F.A,{className:"w-5 h-5 text-emerald-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm text-emerald-900 truncate",children:l.name}),(0,t.jsx)("p",{className:"text-xs text-emerald-700",children:(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB"][s]})(l.size)})]}),(0,t.jsx)(v.A,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"})]})})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Maximum file size: 5MB. Accepted format: .docx"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"profile-name",children:"Profile Name"}),(0,t.jsx)(d.p,{id:"profile-name",value:m,onChange:e=>x(e.target.value),placeholder:"e.g., General Hospital Format",maxLength:255,className:"border-2 focus:border-emerald-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Give your formatting profile a descriptive name (1-255 characters)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{id:"is-default",type:"checkbox",checked:h,onChange:e=>u(e.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,t.jsx)(o.J,{htmlFor:"is-default",className:"cursor-pointer text-sm font-normal",children:"Set as default formatting profile"})]}),g.isPending&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Uploading and processing..."}),(0,t.jsx)("span",{className:"font-medium text-emerald-600",children:"Processing"})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-emerald-600 h-2 rounded-full animate-pulse",style:{width:"50%"}})})]}),(0,t.jsx)(y.N,{children:p&&(0,t.jsxs)(N.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,t.jsx)(b.A,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-red-700",children:p})]})}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"Template Guidelines"}),(0,t.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Use a properly formatted DOCX file with styles defined"}),(0,t.jsx)("li",{children:"• The system will extract formatting from headings, paragraphs, and lists"}),(0,t.jsx)("li",{children:"• Font names, sizes, colors, and spacing will be preserved"}),(0,t.jsx)("li",{children:"• You can have up to 10 formatting profiles"})]})]})]}),(0,t.jsxs)(Z.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>{c(null),x(""),u(!1),f(null),j.current&&(j.current.value=""),a(!1)},disabled:g.isPending,children:"Cancel"}),(0,t.jsx)(n.$,{onClick:w,disabled:!l||!m.trim()||g.isPending,className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:g.isPending?(0,t.jsx)(t.Fragment,{children:"Processing..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Upload Template"]})})]})]})})}var L=a(57268);let W=r.forwardRef((e,s)=>{let{className:a,orientation:r="horizontal",decorative:i=!0,...l}=e;return(0,t.jsx)(L.b,{ref:s,decorative:i,orientation:r,className:(0,m.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...l})});W.displayName=L.b.displayName;var q=a(5917),G=a(65229),V=a(40583),X=a(3538),K=a(80003),Q=a(37107);function H(e){let{profile:s,onClose:a}=e,[i,l]=(0,r.useState)(!1),[m,x]=(0,r.useState)(s.profile_name),[h,p]=(0,r.useState)(!1),f=(0,z.Sn)(),j=(0,z.OK)(),N=(0,z.M4)(),y=async()=>m.trim()?m.trim()===s.profile_name?void l(!1):void(await f.mutateAsync({profileId:s.profile_id,data:{profile_name:m.trim()}}),l(!1)):void g.oR.error("Profile name cannot be empty"),v=async()=>{await j.mutateAsync(s.profile_id),p(!1),null==a||a()},b=async()=>{await N.mutateAsync(s.profile_id)},w=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=(e,s,a)=>{if(!a||0===Object.keys(a).length)return null;let r=a.font_name,i=a.font_size,l=a.bold,n=a.italic,c=a.uppercase,d=a.alignment,m=a.spacing_before,x=a.spacing_after,h=a.bullet_character,u=a.numbering_format,p=a.indent,f=a.style;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s,(0,t.jsx)("h4",{className:"font-semibold text-sm",children:e})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 pl-6",children:[r&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Font"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:r})]}),i&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Size"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:[i,"pt"]})]}),void 0!==l&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Bold"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:l?"Yes":"No"})]}),void 0!==n&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Italic"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:n?"Yes":"No"})]}),void 0!==c&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Uppercase"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:c?"Yes":"No"})]}),d&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Alignment"}),(0,t.jsx)("p",{className:"text-sm font-medium capitalize",children:d})]}),void 0!==m&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Spacing Before"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:[m,"pt"]})]}),void 0!==x&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Spacing After"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:[x,"pt"]})]}),h&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Bullet"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:h})]}),u&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Numbering"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:u})]}),void 0!==p&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Indent"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:[p,"pt"]})]}),f&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)(o.J,{className:"text-xs text-gray-500",children:"Style Name"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:f})]})]})]})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Zp,{className:"border-2",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)("div",{className:"flex-1",children:i?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.p,{value:m,onChange:e=>x(e.target.value),className:"max-w-xs",autoFocus:!0}),(0,t.jsx)(n.$,{size:"sm",onClick:y,disabled:f.isPending,children:(0,t.jsx)(q.A,{className:"w-4 h-4"})}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>{x(s.profile_name),l(!1)},children:(0,t.jsx)(G.A,{className:"w-4 h-4"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(F.A,{className:"w-8 h-8 text-emerald-600"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[s.profile_name,s.is_default&&(0,t.jsxs)(u.E,{className:"bg-emerald-100 text-emerald-700",children:[(0,t.jsx)(E.A,{className:"w-3 h-3 mr-1 fill-emerald-700"}),"Default"]})]}),(0,t.jsxs)(c.BT,{className:"mt-1",children:["Created: ",w(s.created_at),s.updated_at!==s.created_at&&(0,t.jsxs)(t.Fragment,{children:[" • Updated: ",w(s.updated_at)]})]})]})]})}),!i&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[(0,t.jsx)(O.A,{className:"w-4 h-4 mr-1"}),"Rename"]}),!s.is_default&&(0,t.jsxs)(n.$,{size:"sm",variant:"outline",onClick:b,disabled:N.isPending,children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-1"}),"Set Default"]}),(0,t.jsx)(n.$,{size:"sm",variant:"destructive",onClick:()=>p(!0),children:(0,t.jsx)($.A,{className:"w-4 h-4"})})]})]})}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsx)(W,{}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Formatting Configuration"}),(0,t.jsxs)("div",{className:"grid gap-6",children:[_("Patient Information",(0,t.jsx)(V.A,{className:"w-4 h-4 text-blue-600"}),s.formatting_config.patient_info),_("Report Title",(0,t.jsx)(X.A,{className:"w-4 h-4 text-violet-600"}),s.formatting_config.report_title),_("Section Headers",(0,t.jsx)(X.A,{className:"w-4 h-4 text-emerald-600"}),s.formatting_config.section_headers),_("Findings",(0,t.jsx)(K.A,{className:"w-4 h-4 text-orange-600"}),s.formatting_config.findings),_("Impression",(0,t.jsx)(Q.A,{className:"w-4 h-4 text-red-600"}),s.formatting_config.impression),_("Recommendations",(0,t.jsx)(K.A,{className:"w-4 h-4 text-teal-600"}),s.formatting_config.recommendations),_("Signature",(0,t.jsx)(V.A,{className:"w-4 h-4 text-gray-600"}),s.formatting_config.signature)]})]}),a&&(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsx)(n.$,{variant:"outline",onClick:a,children:"Close"})})]})]}),(0,t.jsx)(Z.lG,{open:h,onOpenChange:p,children:(0,t.jsxs)(Z.Cf,{children:[(0,t.jsxs)(Z.c7,{children:[(0,t.jsx)(Z.L3,{children:"Delete Formatting Profile?"}),(0,t.jsxs)(Z.rr,{children:['Are you sure you want to delete "',s.profile_name,'"? This action cannot be undone.']})]}),(0,t.jsxs)(Z.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,t.jsx)(n.$,{variant:"destructive",onClick:v,disabled:j.isPending,children:j.isPending?"Deleting...":"Delete Profile"})]})]})})]})}function ee(){let[e,s]=(0,r.useState)(!1),[a,i]=(0,r.useState)(null),{data:l,isLoading:d,error:o,refetch:m}=(0,z.F2)(),x=(null==l?void 0:l.profiles)||[],h=(null==l?void 0:l.total)||0;if(d)return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(B.E,{className:"h-10 w-64"}),(0,t.jsx)(B.E,{className:"h-10 w-40"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)(B.E,{className:"h-40"},e))})]});if(o){let e=403===o.status;return(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(c.Zp,{className:"border-2 border-red-200 bg-red-50",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2 text-red-900",children:[(0,t.jsx)(b.A,{className:"w-6 h-6"}),e?"Upgrade Required":"Error Loading Profiles"]}),(0,t.jsx)(c.BT,{className:"text-red-700",children:e?"Custom formatting is available for Professional and Premium tier users.":o.message||"Failed to load formatting profiles. Please try again."})]}),(0,t.jsx)(c.Wu,{children:e?(0,t.jsxs)(n.$,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",onClick:()=>window.location.href="/pricing",children:[(0,t.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"View Pricing"]}):(0,t.jsx)(n.$,{onClick:()=>m(),children:"Try Again"})})]})})}return a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>i(null),children:"← Back to Profiles"}),(0,t.jsx)(H,{profile:a,onClose:()=>i(null)})]}):0===h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:(0,t.jsxs)(c.Zp,{className:"border-2 border-dashed border-gray-300 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[(0,t.jsxs)(c.aR,{className:"text-center pb-4",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,t.jsx)(F.A,{className:"w-8 h-8 text-white"})})}),(0,t.jsx)(c.ZB,{className:"text-2xl",children:"No Formatting Profiles Yet"}),(0,t.jsx)(c.BT,{className:"text-base",children:"Upload a DOCX template to create your first custom formatting profile"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,t.jsxs)(n.$,{size:"lg",onClick:()=>s(!0),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,t.jsx)(M.A,{className:"w-5 h-5 mr-2"}),"Upload Your First Template"]})}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"Getting Started"}),(0,t.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Prepare a DOCX file with your desired formatting styles"}),(0,t.jsx)("li",{children:"• Upload the template to extract formatting configuration"}),(0,t.jsx)("li",{children:"• Set a profile as default to use it for all exports"}),(0,t.jsx)("li",{children:"• Create up to 10 different formatting profiles"})]})]})]})]})}),(0,t.jsx)(I,{open:e,onOpenChange:s,onSuccess:()=>m()})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Custom Formatting Profiles"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Manage your report formatting templates (",h," / 10)"]})]}),(0,t.jsxs)(n.$,{onClick:()=>s(!0),disabled:h>=10,className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,t.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Upload Template"]})]}),h>=10&&(0,t.jsxs)(N.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-3",children:[(0,t.jsx)(b.A,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"Profile Limit Reached"}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"You've reached the maximum of 10 formatting profiles. Delete an existing profile to upload a new one."})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(0,t.jsx)(y.N,{mode:"popLayout",children:x.map((e,s)=>(0,t.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:.05*s},children:(0,t.jsxs)(c.Zp,{className:"border-2 hover:border-emerald-500 transition-all hover:shadow-lg group",children:[(0,t.jsx)(c.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(F.A,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"}),e.is_default&&(0,t.jsxs)(u.E,{className:"bg-emerald-100 text-emerald-700",children:[(0,t.jsx)(E.A,{className:"w-3 h-3 mr-1 fill-emerald-700"}),"Default"]})]}),(0,t.jsx)(c.ZB,{className:"text-lg truncate",children:e.profile_name}),(0,t.jsxs)(c.BT,{className:"text-xs",children:["Created: ",new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),(0,t.jsxs)(U.rI,{children:[(0,t.jsx)(U.ty,{asChild:!0,children:(0,t.jsxs)(n.$,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)(J.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Actions"})]})}),(0,t.jsxs)(U.SQ,{align:"end",children:[(0,t.jsxs)(U._2,{onClick:()=>i(e),children:[(0,t.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"View Details"]}),(0,t.jsx)(U.mB,{}),(0,t.jsxs)(U._2,{onClick:()=>{i(e)},children:[(0,t.jsx)(O.A,{className:"w-4 h-4 mr-2"}),"Rename"]}),!e.is_default&&(0,t.jsxs)(U._2,{onClick:()=>{i(e)},children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Set as Default"]}),(0,t.jsx)(U.mB,{}),(0,t.jsxs)(U._2,{className:"text-red-600",onClick:()=>{i(e)},children:[(0,t.jsx)($.A,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})}),(0,t.jsx)(c.Wu,{className:"pt-0",children:(0,t.jsxs)(n.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i(e),children:[(0,t.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})},e.profile_id))})})]}),(0,t.jsx)(I,{open:e,onOpenChange:s,onSuccess:()=>m()})]})}var es=a(31969);let ea={free:"bg-gray-100 text-gray-700",starter:"bg-blue-100 text-blue-700",professional:"bg-emerald-100 text-emerald-700",premium:"bg-violet-100 text-violet-700"},et={free:["Basic report generation","5 reports per month","Standard templates"],starter:["All Free features","50 reports per month","Priority support"],professional:["All Starter features","Unlimited reports","Custom formatting","Advanced templates","Team collaboration"],premium:["All Professional features","Dedicated support","Custom integrations","Advanced analytics","White-label option"]};function er(e){let{requiredTiers:s,currentTier:a,featureName:r,children:i,upgradeMessage:l}=e,d=(0,es.JO)(),o=null!=a?a:d;if(s.includes(o))return(0,t.jsx)(t.Fragment,{children:i});let m=s.includes("professional")?"professional":s.includes("premium")?"premium":s.includes("starter")?"starter":"free";return(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:(0,t.jsxs)(c.Zp,{className:"border-2 border-dashed border-gray-300 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[(0,t.jsxs)(c.aR,{className:"text-center pb-4",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-emerald-500 to-violet-500 flex items-center justify-center",children:(0,t.jsx)(Y.A,{className:"w-8 h-8 text-white"})})}),(0,t.jsxs)(c.ZB,{className:"text-3xl font-bold mb-2",children:["Unlock ",r]}),(0,t.jsx)(c.BT,{className:"text-base",children:l||"".concat(r," is available for ").concat("professional"===m?"Professional":"Premium"," tier users")}),(0,t.jsxs)("div",{className:"flex justify-center gap-2 mt-4",children:[(0,t.jsxs)(u.E,{className:ea[o],children:["Current: ",o.charAt(0).toUpperCase()+o.slice(1)]}),(0,t.jsxs)(u.E,{className:ea[m],children:[(0,t.jsx)(T.A,{className:"w-3 h-3 mr-1"}),"Required: ",m.charAt(0).toUpperCase()+m.slice(1)]})]})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm text-gray-600 uppercase tracking-wide",children:"Your Plan"}),(0,t.jsx)("div",{className:"space-y-2",children:et[o].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(q.A,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-gray-600",children:e})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm bg-gradient-to-r from-emerald-600 to-violet-600 bg-clip-text text-transparent uppercase tracking-wide",children:[m.charAt(0).toUpperCase()+m.slice(1)," Plan"]}),(0,t.jsx)("div",{className:"space-y-2",children:et[m].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(q.A,{className:"w-4 h-4 text-emerald-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e})]},s))})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[(0,t.jsxs)(n.$,{size:"lg",className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",onClick:()=>{window.location.href="/pricing"},children:[(0,t.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"Upgrade to ",m.charAt(0).toUpperCase()+m.slice(1)]}),(0,t.jsx)(n.$,{variant:"outline",size:"lg",onClick:()=>window.history.back(),children:"Go Back"})]}),(0,t.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["Questions about pricing?"," ",(0,t.jsx)("a",{href:"/contact",className:"text-emerald-600 hover:underline",children:"Contact us"})]})]})]})})})}var ei=a(87025),el=a(80549),en=a(25656);async function ec(){return await (0,en.yd)("/v1/subscriptions/sync",{})}var ed=a(78519),eo=a(55136),em=a(39068),ex=a(52508),eh=a(93499),eu=a(89559),ep=a(54485),ef=a(52619),ej=a.n(ef);function eg(){let{platform:e,storeName:s,shouldShowWebSubscriptions:a,shouldShowMobileSubscriptions:l,subscriptionManagementUrl:d,isReady:o}=(0,ei.Vj)(),{data:m,isLoading:x}=(0,es.NL)(),h=null==m?void 0:m.current_tier,f=(null==m?void 0:m.active_subscriptions)||[],{mutate:j,isPending:N}=function(e){let s=(0,i.jE)();return(0,el.n)({mutationFn:()=>ec(),onSuccess:a=>{var t;s.invalidateQueries({queryKey:["subscription"]}),null==e||null==(t=e.onSuccess)||t.call(e,a)},onError:null==e?void 0:e.onError})}({onSuccess:e=>{e.errors&&e.errors.length>0?g.oR.error("Synced ".concat(e.synced_count," subscriptions, but ").concat(e.errors.length," failed")):g.oR.success("Successfully synced ".concat(e.synced_count," subscription(s)"))},onError:e=>{g.oR.error("Failed to sync subscriptions: "+e.message)}}),[y,v]=(0,r.useState)(!1);if(!o||x)return(0,t.jsxs)(c.Zp,{className:"animate-pulse",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)("div",{className:"h-6 w-40 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 w-60 bg-muted rounded mt-2"})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"})]})})]});if(!h)return(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(ed.A,{className:"w-5 h-5"}),"Subscription"]}),(0,t.jsx)(c.BT,{children:"No active subscription found"})]}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"You don't have an active subscription yet."}),a&&(0,t.jsx)(n.$,{asChild:!0,children:(0,t.jsx)(ej(),{href:"/pricing",children:"View Plans"})}),l&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Subscribe through the ",s," to unlock premium features."]}),d&&(0,t.jsx)(n.$,{asChild:!0,children:(0,t.jsxs)("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(eo.A,{className:"w-4 h-4 mr-2"}),"Open ",s]})})]})]})]});let b=Math.min(100,h.reports_used/h.reports_limit*100),w=h.platform||e,_="web"===w,A="ios"===w||"android"===w,S=f.length>1;return(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[_?(0,t.jsx)(em.A,{className:"w-5 h-5"}):(0,t.jsx)(ex.A,{className:"w-5 h-5"}),"Subscription"]}),(0,t.jsx)(u.E,{variant:"active"===h.status?"default":"secondary",children:h.status})]}),(0,t.jsxs)(c.BT,{children:[h.tier_display_name||h.tier_name," Plan"]})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[A&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(eo.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Managed by"," ","ios"===w?"App Store":"Google Play"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Reports Used"}),(0,t.jsxs)("span",{className:"font-medium",children:[h.reports_used," / ",h.reports_limit]})]}),(0,t.jsx)(p.k,{value:b})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[h.expires_at&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:h.auto_renew?"Renews on":"Expires on"}),(0,t.jsx)("span",{className:"font-medium",children:new Date(h.expires_at).toLocaleDateString()})]}),void 0!==h.days_until_expiration&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Days Remaining"}),(0,t.jsx)("span",{className:"font-medium",children:h.days_until_expiration})]})]}),S&&(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["You have ",f.length," active subscriptions across different platforms. Showing your highest tier: ",h.tier_display_name||h.tier_name]})}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[a&&_&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsxs)(ej(),{href:"/pricing",children:[(0,t.jsx)(ed.A,{className:"w-4 h-4 mr-2"}),"Change Plan"]})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Manage your web subscription"})]}),l&&A&&(0,t.jsxs)("div",{className:"space-y-2",children:[d&&(0,t.jsx)(n.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsxs)("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(eo.A,{className:"w-4 h-4 mr-2"}),"Manage in ",s,(0,t.jsx)(eh.A,{className:"w-3 h-3 ml-auto"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>j(),disabled:N,className:"w-full",children:[(0,t.jsx)(eu.A,{className:"w-3 h-3 mr-1 ".concat(N?"animate-spin":"")}),"Sync"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{g.oR.info("Restore purchases will be available in the mobile app")},disabled:y,className:"w-full",children:[(0,t.jsx)(ep.A,{className:"w-3 h-3 mr-1"}),"Restore"]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Subscription managed through ",s]})]}),l&&_&&(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You have a web subscription. To use mobile app subscriptions, please subscribe through the ",s," on your mobile device."]})}),a&&A&&(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["You have a mobile subscription managed through ",s,". To change your plan, please use your device's app store."]})})]})]})]})}let eN="force-dynamic";function ey(){let{user:e}=(0,f.A)(),s=(0,i.jE)(),a=(0,es.JO)(),[m,U]=(0,r.useState)(""),[B,T]=(0,r.useState)(""),[E,J]=(0,r.useState)(!1),[O,$]=(0,r.useState)("checking"),[z,Z]=(0,r.useState)(!1),[I,L]=(0,r.useState)(!0),[W,q]=(0,r.useState)(!0),[G,V]=(0,r.useState)(!1),[X,K]=(0,r.useState)(!1),[Q,H]=(0,r.useState)(null),{data:ea}=(0,l.I)({queryKey:["profile",null==e?void 0:e.id],queryFn:async()=>e?{...await (0,j.Sk)(e.id),email:e.email||""}:null,enabled:!!e,...j.eU});(0,r.useEffect)(()=>{ea&&(U(ea.default_signature_name||""),T(ea.default_signature_date_format||"MM/DD/YYYY"),H(ea.updated_at?new Date(ea.updated_at):null))},[ea]);let et=(0,r.useCallback)(async function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){J(!0);try{await (0,j.b6)(e.id,{default_signature_name:m,default_signature_date_format:B}),await s.invalidateQueries({queryKey:["profile",e.id]}),H(new Date),Z(!1),a||g.oR.success("Settings saved successfully!")}catch(e){a||g.oR.error("Failed to save settings: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{J(!1)}}},[e,m,B,s]);return(0,r.useEffect)(()=>{if(!I||!z)return;let e=setTimeout(()=>{et(!0)},2e3);return()=>clearTimeout(e)},[m,B,I,z,et]),(0,r.useEffect)(()=>{Z(m!==((null==ea?void 0:ea.default_signature_name)||"")||B!==((null==ea?void 0:ea.default_signature_date_format)||"MM/DD/YYYY"))},[m,B,ea]),(0,r.useEffect)(()=>{(async()=>{try{let e="https://edge.radly.app";if(!e)return void $("error");(await fetch("".concat(e,"/health"),{headers:{"X-Request-Id":crypto.randomUUID(),"Content-Type":"application/json"}})).ok?$("connected"):$("error")}catch(e){$("error")}})()},[]),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-24 md:pb-8",children:[(0,t.jsxs)(N.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-50 via-white to-violet-50 p-8 border-2 border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(_.A,{className:"w-8 h-8 text-primary animate-pulse"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Configuration"})]}),(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:(0,t.jsx)("span",{className:"text-gradient-brand",children:"Smart Settings"})}),(0,t.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl",children:"Customize your Radly experience with intelligent defaults and preferences"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,t.jsx)(y.N,{children:z&&(0,t.jsxs)(N.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[(0,t.jsx)(b.A,{className:"w-4 h-4"}),"Unsaved changes"]})}),Q&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 text-emerald-500"}),"Last saved: ",Q.toLocaleTimeString()]})]})]}),(0,t.jsxs)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap gap-4",children:[(0,t.jsxs)(n.$,{onClick:()=>et(),disabled:E||!z,className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[(0,t.jsx)(A.A,{className:"w-4 h-4 mr-2"}),E?"Saving...":"Save Changes"]}),(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>K(!X),className:"border-2",children:[(0,t.jsx)(_.A,{className:"w-4 h-4 mr-2"}),X?"Hide":"Show"," Advanced"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(N.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15},children:(0,t.jsx)(eg,{})}),(0,t.jsx)(N.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,t.jsxs)(c.Zp,{className:"h-full border-2 border-gray-200 hover:border-emerald-500 transition-colors",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,t.jsx)(S.A,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{children:"Account Information"})]}),(0,t.jsx)(c.BT,{children:"Your account details and profile information"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium text-gray-600",children:"Email Address"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.p,{value:(null==e?void 0:e.email)||"",disabled:!0,className:"bg-gray-50"}),(0,t.jsx)(u.E,{variant:"secondary",className:"bg-emerald-100 text-emerald-700",children:"Verified"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium text-gray-600",children:"User ID"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.p,{value:(null==e?void 0:e.id)||"",disabled:!0,className:"bg-gray-50 font-mono text-sm"}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",children:(0,t.jsx)(C.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium text-gray-600",children:"Member Since"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(null==e?void 0:e.created_at)?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]})}),(0,t.jsx)(N.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,t.jsxs)(c.Zp,{className:"h-full border-2 border-gray-200 hover:border-violet-500 transition-colors",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center",children:(0,t.jsx)(k.A,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{children:"Preferences"})]}),(0,t.jsx)(c.BT,{children:"Customize your experience and interface"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium",children:"Auto-save Settings"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Automatically save changes after 2 seconds"})]}),(0,t.jsx)(x,{checked:I,onCheckedChange:L,className:"data-[state=checked]:bg-emerald-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium",children:"Notifications"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Receive updates about your reports"})]}),(0,t.jsx)(x,{checked:W,onCheckedChange:q,className:"data-[state=checked]:bg-emerald-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium",children:"Dark Mode"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Switch to dark theme (coming soon)"})]}),(0,t.jsx)(x,{checked:G,onCheckedChange:V,disabled:!0,className:"data-[state=checked]:bg-emerald-500"})]})]})]})}),(0,t.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,t.jsxs)(c.Zp,{className:"border-2 border-gray-200 hover:border-blue-500 transition-colors",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:(0,t.jsx)(_.A,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{children:"Report Defaults"})]}),(0,t.jsx)(c.BT,{children:"Set default values for new medical reports"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"default-signature-name",className:"text-sm font-medium",children:"Default Signature Name"}),(0,t.jsx)(d.p,{id:"default-signature-name",value:m,onChange:e=>U(e.target.value),placeholder:"Dr. Jane Smith",className:"border-2 focus:border-emerald-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"This will be pre-filled when creating new reports"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"default-date-format",className:"text-sm font-medium",children:"Default Date Format"}),(0,t.jsxs)(h.l6,{value:B,onValueChange:T,children:[(0,t.jsx)(h.bq,{className:"border-2 focus:border-emerald-500",children:(0,t.jsx)(h.yv,{placeholder:"Select date format"})}),(0,t.jsxs)(h.gC,{children:[(0,t.jsx)(h.eb,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (US Format)"}),(0,t.jsx)(h.eb,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (EU Format)"}),(0,t.jsx)(h.eb,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (ISO Format)"})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Choose your preferred date format for reports"})]})]})]})}),(0,t.jsx)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,t.jsxs)(c.Zp,{className:"border-2 border-gray-200 hover:border-orange-500 transition-colors",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center",children:(0,t.jsx)(D.A,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{children:"System Status"})]}),(0,t.jsx)(c.BT,{children:"Monitor system health and connectivity"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(P.A,{className:"w-5 h-5 text-gray-500"}),(0,t.jsx)("span",{className:"font-medium",children:"API Connectivity"})]}),(0,t.jsx)(u.E,{className:(e=>{switch(e){case"connected":return"text-emerald-600 bg-emerald-50";case"error":return"text-red-600 bg-red-50";default:return"text-yellow-600 bg-yellow-50"}})(O),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"connected":return(0,t.jsx)(v.A,{className:"w-4 h-4"});case"error":return(0,t.jsx)(b.A,{className:"w-4 h-4"});default:return(0,t.jsx)(w.A,{className:"w-4 h-4"})}})(O),O.charAt(0).toUpperCase()+O.slice(1)]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Response Time"}),(0,t.jsx)("span",{className:"font-medium",children:"connected"===O?"< 100ms":"N/A"})]}),(0,t.jsx)(p.k,{value:100*("connected"===O)})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Last Profile Update"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:(null==ea?void 0:ea.updated_at)?new Date(ea.updated_at).toLocaleString():"Never"})]})})]})]})})]}),(0,t.jsx)(y.N,{children:X&&(0,t.jsx)(N.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6",children:(0,t.jsxs)(c.Zp,{className:"border-2 border-gray-200",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gray-500 to-gray-700 flex items-center justify-center",children:(0,t.jsx)(Y.A,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("span",{children:"Advanced Settings"})]}),(0,t.jsx)(c.BT,{children:"Advanced configuration options for power users"})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Advanced Settings Overview"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"These settings are designed for power users who need additional control over their data and preferences."})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium",children:"Data Export"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Download your profile data, settings, and preferences as a JSON file for backup or migration purposes."}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>{let e=new Blob([JSON.stringify({profile:ea,settings:{defaultSignatureName:m,defaultDateFormat:B,autoSave:I,notifications:W,darkMode:G},exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="radly-settings-".concat(new Date().toISOString().split("T")[0],".json"),a.click(),URL.revokeObjectURL(s),g.oR.success("Settings exported successfully!")},children:[(0,t.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Export Profile Data"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium",children:"Data Import"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Import previously exported settings to restore your configuration or migrate from another account."}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{var s,a,t,r;let i=null==(s=e.target.files)?void 0:s[0];if(i)try{let e=await i.text(),s=JSON.parse(e);s.settings?(U(s.settings.defaultSignatureName||""),T(s.settings.defaultDateFormat||"MM/DD/YYYY"),L(null==(a=s.settings.autoSave)||a),q(null==(t=s.settings.notifications)||t),V(null!=(r=s.settings.darkMode)&&r),g.oR.success("Settings imported successfully!")):g.oR.error("Invalid settings file format")}catch(e){g.oR.error("Failed to parse settings file")}},e.click()},children:[(0,t.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Import Settings"]})]})]}),(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o.J,{className:"text-sm font-medium",children:"Reset to Defaults"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Reset all settings to their default values. This action cannot be undone."})]}),(0,t.jsx)(n.$,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to reset all settings to defaults? This action cannot be undone.")&&(U(""),T("MM/DD/YYYY"),L(!0),q(!0),V(!1),g.oR.success("Settings reset to defaults"))},children:"Reset All"})]})})]})]})})}),(0,t.jsxs)(N.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center",children:(0,t.jsx)(F.A,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Custom Report Formatting"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Upload and manage DOCX templates for custom report formatting"})]})]}),(0,t.jsx)(er,{requiredTiers:["professional","premium"],currentTier:a,featureName:"Custom Report Formatting",children:(0,t.jsx)(ee,{})})]})]})}},91162:(e,s,a)=>{"use strict";a.d(s,{Sk:()=>r,b6:()=>i,eU:()=>l});var t=a(62890);async function r(e){try{var s,a,r;let i=(0,t.A)(),{data:{user:l},error:n}=await i.auth.getUser();if(n||!l)throw Error("User not found");return{id:e,email:l.email||"",default_signature_name:(null==(s=l.user_metadata)?void 0:s.default_signature_name)||"",default_signature_date_format:(null==(a=l.user_metadata)?void 0:a.default_signature_date_format)||"MM/DD/YYYY",accepted_terms_at:null==(r=l.user_metadata)?void 0:r.accepted_terms_at,subscription:null,updated_at:l.updated_at||new Date().toISOString()}}catch(s){return{id:e,email:"",default_signature_name:"",default_signature_date_format:"MM/DD/YYYY",subscription:null,updated_at:new Date().toISOString()}}}async function i(e,s){try{let e=(0,t.A)(),{error:a}=await e.auth.updateUser({data:{default_signature_name:s.default_signature_name,default_signature_date_format:s.default_signature_date_format,accepted_terms_at:s.accepted_terms_at}});if(a)throw Error("Failed to update user data: ".concat(a.message))}catch(e){throw e}}let l={retry:(e,s)=>!(s.message.includes("401")||s.message.includes("403")||s.message.includes("404"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:3e5}}},e=>{e.O(0,[5707,2619,8727,4230,1733,6743,2149,2454,6692,1691,9920,3944,6876,4557,3881,8441,1255,7358],()=>e(e.s=21787)),_N_E=e.O()}]);