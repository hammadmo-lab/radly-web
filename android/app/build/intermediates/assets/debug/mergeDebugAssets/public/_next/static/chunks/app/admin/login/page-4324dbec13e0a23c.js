(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(95155),s=r(12115),l=r(32467),n=r(83101),i=r(64269);let d=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:s,size:n,className:r})),ref:t,...c})});o.displayName="Button"},6132:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},10489:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var a=r(12115),s=r(97602),l=r(95155),n=a.forwardRef((e,t)=>(0,l.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},17910:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},18332:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>c,XL:()=>o});var a=r(95155),s=r(12115),l=r(83101),n=r(64269);let i=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(i({variant:s}),r),...l})});d.displayName="Alert";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});o.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},37723:(e,t,r)=>{"use strict";r.d(t,{T:()=>i,b:()=>d});var a=r(95155),s=r(12115),l=r(18720);let n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[d,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("admin_key"),t=localStorage.getItem("api_key");e&&t&&(i(e),o(t))}catch(e){}finally{u(!0)}},[]);let m=(0,s.useCallback)(()=>{try{i(null),o(null),localStorage.removeItem("admin_key"),localStorage.removeItem("api_key"),l.oR.success("Logged out successfully")}catch(e){}},[]),f=!!(r&&d);return(0,a.jsx)(n.Provider,{value:{adminKey:r,apiKey:d,isAuthenticated:f,isInitialized:c,login:(e,t)=>{i(e),o(t);try{localStorage.setItem("admin_key",e),localStorage.setItem("api_key",t)}catch(e){}},logout:m},children:t})}function d(){let e=(0,s.useContext)(n);if(!e)throw Error("useAdminAuth must be used within AdminAuthProvider");return e}},56505:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),s=r(12115),l=r(20063),n=r(37723),i=r(3998),d=r(65142),o=r(76444),c=r(86948),u=r(18332),m=r(17910),f=r(6132),p=r(35299),x=r(18720);function h(){let e=(0,l.useRouter)(),{login:t}=(0,n.b)(),[r,h]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[y,b]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),[j,k]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=localStorage.getItem("admin_username");e&&(h(e),b(!0))},[]);let R=async a=>{if(a.preventDefault(),k(""),!r||!g)return void k("Please enter both username and password");w(!0);try{let a=await fetch("".concat("https://edge.radly.app","/v1/admin/auth/login"),{method:"POST",headers:{"Content-Type":"application/json","X-Request-Id":crypto.randomUUID()},body:JSON.stringify({username:r,password:g})});if(!a.ok){let e=await a.json().catch(()=>({detail:"Login failed"}));throw Error(e.detail||"Invalid credentials")}let s=await a.json();t(s.admin_key,s.api_key),y?localStorage.setItem("admin_username",r):localStorage.removeItem("admin_username"),x.oR.success("Login successful!"),e.push("/admin")}catch(t){let e=t instanceof Error?t.message:"Login failed";k(e),x.oR.error(e)}finally{w(!1)}};return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-muted/40 p-4",children:(0,a.jsxs)(c.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(c.aR,{className:"space-y-1",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-primary"})})}),(0,a.jsx)(c.ZB,{className:"text-2xl font-bold text-center",children:"Admin Login"}),(0,a.jsx)(c.BT,{className:"text-center",children:"Enter your credentials to access the admin dashboard"})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[j&&(0,a.jsxs)(u.Fc,{variant:"destructive",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)(u.TN,{children:j})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"username",children:"Username"}),(0,a.jsx)(d.p,{id:"username",type:"text",placeholder:"Enter your username",value:r,onChange:e=>h(e.target.value),disabled:N,autoComplete:"username",autoFocus:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(d.p,{id:"password",type:"password",placeholder:"Enter your password",value:g,onChange:e=>v(e.target.value),disabled:N,autoComplete:"current-password"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"remember",checked:y,onChange:e=>b(e.target.checked),className:"rounded","aria-label":"Remember username"}),(0,a.jsx)(o.J,{htmlFor:"remember",className:"text-sm font-normal",children:"Remember username"})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full",disabled:N,children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]}),(0,a.jsx)("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"Authorized personnel only"})})]})]})})}},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2821),s=r(75889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>d});var a=r(95155),s=r(12115),l=r(83101),n=r(64269);let i=(0,l.F)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),d=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)(i(),r),ref:t,...l})});d.displayName="Input"},76444:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(95155),s=r(12115),l=r(10489),n=r(83101),i=r(64269);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),r),...s})});o.displayName=l.b.displayName},78443:(e,t,r)=>{Promise.resolve().then(r.bind(r,56505))},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var a=r(95155),s=r(12115),l=r(64269);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},97602:(e,t,r)=>{"use strict";r.d(t,{hO:()=>d,sG:()=>i});var a=r(12115),s=r(47650),l=r(32467),n=r(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,l.TL)(`Primitive.${t}`),s=a.forwardRef((e,a)=>{let{asChild:s,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(s?r:t,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function d(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}}},e=>{e.O(0,[5707,4230,8441,1255,7358],()=>e(e.s=78443)),_N_E=e.O()}]);