(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},10489:(e,t,s)=>{"use strict";s.d(t,{b:()=>l});var a=s(12115),i=s(97602),r=s(95155),n=a.forwardRef((e,t)=>(0,r.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n},15870:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},18332:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>c,TN:()=>d,XL:()=>o});var a=s(95155),i=s(12115),r=s(83101),n=s(64269);let l=(0,r.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=i.forwardRef((e,t)=>{let{className:s,variant:i,...r}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(l({variant:i}),s),...r})});c.displayName="Alert";let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",s),...i})});o.displayName="AlertTitle";let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",s),...i})});d.displayName="AlertDescription"},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},35626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},38559:(e,t,s)=>{"use strict";s.d(t,{$:()=>l,s:()=>n});var a=s(74268),i=s(69781),r=s(93049),n=class extends i.k{#e;#t;#s;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#s.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#i({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=(0,r.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#i({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});let a="pending"===this.state.status,i=!this.#a.canStart();try{if(a)t();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#s.config.onMutate?.(e,this,s);let t=await this.options.onMutate?.(e,s);t!==this.state.context&&this.#i({type:"pending",context:t,variables:e,isPaused:i})}let r=await this.#a.start();return await this.#s.config.onSuccess?.(r,e,this.state.context,this,s),await this.options.onSuccess?.(r,e,this.state.context,s),await this.#s.config.onSettled?.(r,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(r,null,e,this.state.context,s),this.#i({type:"success",data:r}),r}catch(t){try{throw await this.#s.config.onError?.(t,e,this.state.context,this,s),await this.options.onError?.(t,e,this.state.context,s),await this.#s.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,t,e,this.state.context,s),t}finally{this.#i({type:"error",error:t})}}finally{this.#s.runNext(this)}}#i(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),a.jG.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},39834:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var a=s(95155),i=s(20063),r=s(12115),n=s(35626),l=s(84926),c=s(6132),o=s(75426),d=s(15870),h=s(71360),m=s(3998),u=s(86948),x=s(20243),p=s(18332),b=s(16041),g=s(51834),f=s(65142),j=s(76444),v=s(52056),y=s(8279);function N(e){let{isOpen:t,onClose:s,userId:i,userEmail:n}=e,[l,c]=(0,r.useState)(""),o=(0,y.iY)(),d=async()=>{if("DELETE"===l)try{await o.mutateAsync(i),s(),c("")}catch(e){}},h=()=>{c(""),s()},u="DELETE"===l;return(0,a.jsx)(g.lG,{open:t,onOpenChange:h,children:(0,a.jsxs)(g.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(g.c7,{children:[(0,a.jsxs)(g.L3,{className:"flex items-center gap-2 text-red-600",children:[(0,a.jsx)(v.A,{className:"w-5 h-5"}),"Delete User"]}),(0,a.jsx)(g.rr,{children:"This action cannot be undone. This will permanently delete the user and all associated data."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)(p.Fc,{variant:"destructive",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsxs)(p.TN,{children:[(0,a.jsx)("strong",{children:"Warning:"})," Deleting this user will remove:",(0,a.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,a.jsx)("li",{children:"User account and authentication"}),(0,a.jsx)("li",{children:"All subscriptions and payment history"}),(0,a.jsx)("li",{children:"All generated reports"}),(0,a.jsx)("li",{children:"All usage statistics"}),(0,a.jsx)("li",{children:"All audit log entries"})]})]})]}),n&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"User to delete:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-mono mt-1",children:n}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:["ID: ",i]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(j.J,{htmlFor:"confirm",children:["Type ",(0,a.jsx)("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm"]}),(0,a.jsx)(f.p,{id:"confirm",value:l,onChange:e=>c(e.target.value),placeholder:"DELETE",className:"font-mono",autoComplete:"off",disabled:o.isPending})]})]}),(0,a.jsxs)(g.Es,{children:[(0,a.jsx)(m.$,{variant:"outline",onClick:h,disabled:o.isPending,children:"Cancel"}),(0,a.jsx)(m.$,{variant:"destructive",onClick:d,disabled:!u||o.isPending,children:o.isPending?"Deleting...":"Delete User"})]})]})})}var w=s(11186),k=s(71847);let C=(0,k.A)("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),A=(0,k.A)("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),E=[{value:"free",label:"Free",limit:5},{value:"starter",label:"Starter",limit:50},{value:"professional",label:"Professional",limit:200},{value:"premium",label:"Premium",limit:1e3}],R=[{value:"egypt",label:"Egypt (EGP)"},{value:"international",label:"International (USD)"}];function M(e){var t;let{isOpen:s,onClose:i,userId:n,userEmail:l,currentTier:c="free"}=e,[o,d]=(0,r.useState)(c),[h,u]=(0,r.useState)("egypt"),x=(0,y.au)(),p=async()=>{if(o)try{await x.mutateAsync({userId:n,tierName:o,region:h}),i()}catch(e){}},b=()=>{d(c),u("egypt"),i()},f=E.find(e=>e.value===c),v=E.find(e=>e.value===o),N=E.findIndex(e=>e.value===o)>E.findIndex(e=>e.value===c);return(0,a.jsx)(g.lG,{open:s,onOpenChange:b,children:(0,a.jsxs)(g.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(g.c7,{children:[(0,a.jsxs)(g.L3,{className:"flex items-center gap-2",children:[N?(0,a.jsx)(C,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(A,{className:"w-5 h-5 text-orange-600"}),"Change User Tier"]}),(0,a.jsx)(g.rr,{children:"Update the subscription tier for this user. This will take effect immediately."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[l&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"User:"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-mono mt-1",children:l}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Current Tier: ",(0,a.jsx)("span",{className:"font-semibold",children:null==f?void 0:f.label})," (",null==f?void 0:f.limit," reports/month)"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"tier",children:"New Tier"}),(0,a.jsxs)(w.l6,{value:o,onValueChange:d,children:[(0,a.jsx)(w.bq,{id:"tier",children:(0,a.jsx)(w.yv,{placeholder:"Select tier"})}),(0,a.jsx)(w.gC,{children:E.map(e=>(0,a.jsxs)(w.eb,{value:e.value,children:[e.label," (",e.limit," reports/month)"]},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"region",children:"Region"}),(0,a.jsxs)(w.l6,{value:h,onValueChange:u,children:[(0,a.jsx)(w.bq,{id:"region",children:(0,a.jsx)(w.yv,{placeholder:"Select region"})}),(0,a.jsx)(w.gC,{children:R.map(e=>(0,a.jsx)(w.eb,{value:e.value,children:e.label},e.value))})]})]}),o!==c&&(0,a.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 dark:bg-blue-950 p-3",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[N?"Upgrade":"Downgrade"," Summary:"]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-blue-800 dark:text-blue-200",children:[(0,a.jsxs)("p",{children:["• From: ",(0,a.jsx)("span",{className:"font-semibold",children:null==f?void 0:f.label})," (",null==f?void 0:f.limit," reports)"]}),(0,a.jsxs)("p",{children:["• To: ",(0,a.jsx)("span",{className:"font-semibold",children:null==v?void 0:v.label})," (",null==v?void 0:v.limit," reports)"]}),(0,a.jsxs)("p",{children:["• Region: ",null==(t=R.find(e=>e.value===h))?void 0:t.label]}),(0,a.jsx)("p",{className:"mt-2 text-xs",children:"⚠️ The user's current usage counters will be reset to match the new tier limits."})]})]})]}),(0,a.jsxs)(g.Es,{children:[(0,a.jsx)(m.$,{variant:"outline",onClick:b,disabled:x.isPending,children:"Cancel"}),(0,a.jsx)(m.$,{onClick:p,disabled:o===c||x.isPending,children:x.isPending?"Changing...":"Change Tier"})]})]})})}var S=s(37723),D=s(40470),P=s(18720);function O(){var e;let t=(0,i.useSearchParams)(),s=(0,i.useRouter)(),{logout:g}=(0,S.b)(),[f,j]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),k=t.get("userId"),C=t.get("email");(0,r.useEffect)(()=>{k||s.push("/admin")},[k,s]);let{data:A,isLoading:E,error:R}=(0,y.Ag)(k||""),{data:O}=(0,D.I)(k?[k]:[]),T=C||(null==O?void 0:O[k||""]),U=()=>{s.push("/admin")},z=()=>{g(),s.push("/admin/login")};return k?E?(0,a.jsx)(b.f,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-[#0C0C0E]",children:[(0,a.jsx)("header",{className:"bg-[rgba(18,22,36,0.95)] backdrop-blur-sm border-b border-[rgba(255,255,255,0.12)] sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between h-14 sm:h-16",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-[rgba(255,255,255,0.08)] text-white flex-shrink-0",children:(0,a.jsx)(n.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg sm:text-2xl font-bold text-white truncate",children:"User Details"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] truncate",children:k})]})]})})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)(u.Zp,{className:"bg-[rgba(18,22,36,0.8)] border-[rgba(255,255,255,0.12)]",children:[(0,a.jsx)(u.aR,{children:(0,a.jsx)(x.E,{className:"h-6 w-32 bg-[rgba(255,255,255,0.1)]"})}),(0,a.jsx)(u.Wu,{children:(0,a.jsx)(x.E,{className:"h-20 w-full bg-[rgba(255,255,255,0.1)]"})})]},t))})})]})}):R?(0,a.jsx)(b.f,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-[#0C0C0E]",children:[(0,a.jsx)("header",{className:"bg-[rgba(18,22,36,0.95)] backdrop-blur-sm border-b border-[rgba(255,255,255,0.12)] sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-[rgba(255,255,255,0.08)] text-white flex-shrink-0",children:(0,a.jsx)(n.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg sm:text-2xl font-bold text-white truncate",children:"User Details"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] truncate",children:k})]})]}),(0,a.jsxs)(m.$,{variant:"outline",onClick:z,className:"hidden sm:flex items-center gap-2 border-[rgba(255,255,255,0.12)] text-white hover:bg-[rgba(255,255,255,0.08)]",size:"sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Logout"})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:(0,a.jsxs)(p.Fc,{variant:"destructive",className:"bg-[rgba(255,107,107,0.12)] border-[rgba(255,107,107,0.35)] text-white",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)(p.XL,{className:"text-white",children:"Error Loading User"}),(0,a.jsxs)(p.TN,{className:"text-[rgba(255,255,255,0.85)]",children:["Failed to load details for user ID: ",k,(0,a.jsx)("br",{}),R.message]})]})})]})}):(0,a.jsx)(b.f,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-[#0C0C0E]",children:[(0,a.jsx)("header",{className:"bg-[rgba(18,22,36,0.95)] backdrop-blur-sm border-b border-[rgba(255,255,255,0.12)] sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-[rgba(255,255,255,0.08)] text-white flex-shrink-0",children:(0,a.jsx)(n.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-lg sm:text-2xl font-bold text-white truncate",children:"User Details"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] truncate",children:k})]})]}),(0,a.jsxs)(m.$,{variant:"outline",onClick:z,className:"hidden sm:flex items-center gap-2 border-[rgba(255,255,255,0.12)] text-white hover:bg-[rgba(255,255,255,0.08)]",size:"sm",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Logout"})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-20",children:(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[(0,a.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>{k&&(navigator.clipboard.writeText(k),P.oR.success("User ID copied to clipboard"))},className:"border-[rgba(255,255,255,0.12)] text-white hover:bg-[rgba(255,255,255,0.08)] min-h-[44px]",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Copy ID"]}),(0,a.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>j(!0),disabled:!(null==A?void 0:A.subscription),className:"border-[rgba(255,255,255,0.12)] text-white hover:bg-[rgba(255,255,255,0.08)] disabled:opacity-40 min-h-[44px]",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Change Tier"]}),(0,a.jsxs)(m.$,{variant:"destructive",size:"sm",onClick:()=>w(!0),className:"bg-[rgba(255,107,107,0.18)] border border-[rgba(255,107,107,0.35)] text-white hover:bg-[rgba(255,107,107,0.28)] min-h-[44px]",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Delete User"]})]}),(0,a.jsxs)("div",{className:"border border-[rgba(255,255,255,0.12)] rounded-2xl p-4 sm:p-6 bg-[rgba(18,22,36,0.6)]",children:[(0,a.jsx)("h2",{className:"font-semibold mb-4 text-white text-base sm:text-lg",children:"User Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[T&&T.includes("@")&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-4",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)]",children:"Email:"}),(0,a.jsx)("span",{className:"font-medium text-sm sm:text-base text-white break-all",children:T})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-4",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)]",children:"User ID:"}),(0,a.jsx)("code",{className:"text-xs sm:text-sm bg-[rgba(255,255,255,0.08)] px-2 py-1 rounded font-mono text-white break-all",children:k})]})]})]}),(null==A?void 0:A.subscription)?(0,a.jsxs)("div",{className:"border border-[rgba(255,255,255,0.12)] rounded-2xl p-4 sm:p-6 bg-[rgba(18,22,36,0.6)]",children:[(0,a.jsx)("h2",{className:"font-semibold mb-4 text-white text-base sm:text-lg",children:"Subscription Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] block mb-1",children:"Tier"}),(0,a.jsx)("p",{className:"font-medium text-white text-sm sm:text-base",children:A.subscription.tier_display_name||A.subscription.tier_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] block mb-1",children:"Status"}),(0,a.jsx)("p",{className:"font-medium capitalize text-white text-sm sm:text-base",children:A.subscription.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] block mb-1",children:"Region"}),(0,a.jsx)("p",{className:"font-medium capitalize text-white text-sm sm:text-base",children:A.subscription.region})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] block mb-1",children:"Reports Used"}),(0,a.jsxs)("p",{className:"font-medium text-white text-sm sm:text-base",children:[A.subscription.reports_used_current_period," / ",A.subscription.reports_limit]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] block mb-1",children:"Price Paid"}),(0,a.jsxs)("p",{className:"font-medium text-white text-sm sm:text-base",children:[A.subscription.price_paid," ",A.subscription.currency]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-[rgba(207,207,207,0.65)] block mb-1",children:"Period End"}),(0,a.jsx)("p",{className:"font-medium text-white text-sm sm:text-base",children:new Date(A.subscription.period_end).toLocaleDateString()})]})]})]}):(0,a.jsxs)(p.Fc,{className:"bg-[rgba(75,142,255,0.12)] border-[rgba(75,142,255,0.35)] text-white",children:[(0,a.jsx)(p.XL,{className:"text-white",children:"No Active Subscription"}),(0,a.jsx)(p.TN,{className:"text-[rgba(207,207,207,0.85)]",children:"This user does not have an active subscription."})]})]})}),(0,a.jsx)(M,{isOpen:f,onClose:()=>j(!1),userId:k,userEmail:T,currentTier:null==A||null==(e=A.subscription)?void 0:e.tier_name}),(0,a.jsx)(N,{isOpen:v,onClose:()=>w(!1),userId:k,userEmail:T})]})}):(0,a.jsx)(b.f,{children:(0,a.jsx)("div",{className:"min-h-screen bg-[#0C0C0E] flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-white",children:"Loading..."})})})}},43104:(e,t,s)=>{Promise.resolve().then(s.bind(s,39834))},51834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>p,L3:()=>b,c7:()=>x,lG:()=>c,rr:()=>g,zM:()=>o});var a=s(95155),i=s(12115),r=s(89511),n=s(65229),l=s(64269);let c=r.bL,o=i.forwardRef((e,t)=>(0,a.jsx)(r.l9,{ref:t,...e}));o.displayName=r.l9.displayName;let d=r.ZL,h=i.forwardRef((e,t)=>(0,a.jsx)(r.bm,{ref:t,...e}));h.displayName=r.bm.displayName;let m=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(r.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...i})});m.displayName=r.hJ.displayName;let u=i.forwardRef((e,t)=>{let{className:s,children:i,...c}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[i,(0,a.jsxs)(h,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.UC.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="DialogFooter";let b=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(r.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...i})});b.displayName=r.hE.displayName;let g=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...i})});g.displayName=r.VY.displayName},52056:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},71360:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},75426:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},76444:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var a=s(95155),i=s(12115),r=s(10489),n=s(83101),l=s(64269);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(r.b,{ref:t,className:(0,l.cn)(c(),s),...i})});o.displayName=r.b.displayName},80549:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var a=s(12115),i=s(38559),r=s(74268),n=s(38445),l=s(34049),c=class extends n.Q{#e;#r=void 0;#n;#l;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#c()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.EN)(t.mutationKey)!==(0,l.EN)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#c(),this.#o(e)}getCurrentResult(){return this.#r}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#c(),this.#o()}mutate(e,t){return this.#l=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#c(){let e=this.#n?.state??(0,i.$)();this.#r={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#o(e){r.jG.batch(()=>{if(this.#l&&this.hasListeners()){let t=this.#r.variables,s=this.#r.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#l.onSuccess?.(e.data,t,s,a),this.#l.onSettled?.(e.data,null,t,s,a)):e?.type==="error"&&(this.#l.onError?.(e.error,t,s,a),this.#l.onSettled?.(void 0,e.error,t,s,a))}this.listeners.forEach(e=>{e(this.#r)})})}},o=s(99776);function d(e,t){let s=(0,o.jE)(t),[i]=a.useState(()=>new c(s,e));a.useEffect(()=>{i.setOptions(e)},[i,e]);let n=a.useSyncExternalStore(a.useCallback(e=>i.subscribe(r.jG.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=a.useCallback((e,t)=>{i.mutate(e,t).catch(l.lQ)},[i]);if(n.error&&(0,l.GU)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:d,mutateAsync:n.mutate}}},84926:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}},e=>{e.O(0,[5707,4230,6743,2149,2454,6692,1691,5280,8441,1255,7358],()=>e(e.s=43104)),_N_E=e.O()}]);