"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5280],{3998:(e,t,r)=>{r.d(t,{$:()=>d});var s=r(95155),a=r(12115),n=r(32467),i=r(83101),o=r(64269);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"button-primary-gradient",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"button-outline-glass",secondary:"button-secondary-soft",ghost:"text-foreground hover:bg-[rgba(255,255,255,0.08)] hover:text-foreground",link:"text-info underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},6834:(e,t,r)=>{r.d(t,{T:()=>s});class s{getHeaders(){return{"Content-Type":"application/json","x-admin-key":this.credentials.adminKey,Authorization:"Bearer ".concat(this.credentials.apiKey),"X-Request-Id":crypto.randomUUID()}}getErrorMessage(e,t){switch(e){case 401:return"Authentication failed. Please check your admin credentials.";case 403:return"Access forbidden. You do not have permission to perform this action.";case 404:return"Endpoint not found. The requested resource does not exist.";case 503:return"Service temporarily unavailable. Please try again later.";default:return"Request failed with status ".concat(e,": ").concat(t)}}async listSubscriptions(e){let t=new URLSearchParams;e.status&&t.set("status",e.status),e.tier&&t.set("tier",e.tier),e.region&&t.set("region",e.region),e.search&&t.set("search",e.search),e.limit&&t.set("limit",e.limit.toString()),e.offset&&t.set("offset",e.offset.toString()),e.sort_by&&t.set("sort_by",e.sort_by),e.sort_order&&t.set("sort_order",e.sort_order);let r=await fetch("".concat(this.baseUrl,"/v1/admin/subscriptions/list?").concat(t),{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!r.ok){let e=await r.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(r.status,e))}return r.json()}async getUserSubscription(e){let t=await fetch("".concat(this.baseUrl,"/v1/admin/subscriptions/user-id/").concat(e),{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!t.ok){let e=await t.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(t.status,e))}return t.json()}async activateSubscription(e){let t=await fetch("".concat(this.baseUrl,"/v1/admin/subscriptions/activate"),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(e),credentials:"include"});if(!t.ok){let e=await t.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(t.status,e))}return t.json()}async cancelSubscription(e){let t=await fetch("".concat(this.baseUrl,"/v1/admin/subscriptions/cancel"),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(e),credentials:"include"});if(!t.ok){let e=await t.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(t.status,e))}return t.json()}async getUsageAnalytics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=await fetch("".concat(this.baseUrl,"/v1/admin/analytics/usage?days=").concat(e),{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!t.ok){let e=await t.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(t.status,e))}return t.json()}async getRevenueAnalytics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=await fetch("".concat(this.baseUrl,"/v1/admin/analytics/revenue?days=").concat(e),{method:"GET",headers:this.getHeaders(),credentials:"include"});if(!t.ok){let e=await t.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(t.status,e))}return t.json()}async getUserEmails(e){if(!e||0===e.length)return{};try{let t=await fetch("".concat(this.baseUrl,"/v1/admin/users/emails"),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(e)});if(!t.ok)return{};return await t.json()}catch(e){return{}}}async deleteUser(e){let t=await fetch("".concat(this.baseUrl,"/v1/admin/users/").concat(e),{method:"DELETE",headers:this.getHeaders(),credentials:"include"});if(!t.ok){let e=await t.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(t.status,e))}return t.json()}async changeTier(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"egypt",s=await fetch("".concat(this.baseUrl,"/v1/admin/users/").concat(e,"/tier"),{method:"POST",headers:this.getHeaders(),body:JSON.stringify({tier_name:t,region:r}),credentials:"include"});if(!s.ok){let e=await s.text().catch(()=>"Unknown error");throw Error(this.getErrorMessage(s.status,e))}return s.json()}constructor(e){this.credentials=e,this.baseUrl="https://edge.radly.app"}}},8279:(e,t,r)=>{r.d(t,{Ag:()=>c,Q2:()=>d,au:()=>m,gj:()=>u,iY:()=>f});var s=r(22454),a=r(99776),n=r(80549),i=r(18720),o=r(37723),l=r(6834);function d(e){let{adminKey:t,apiKey:r}=(0,o.b)();return(0,s.I)({queryKey:["admin","subscriptions",e],queryFn:async()=>{if(!t||!r)throw Error("Admin credentials not available");return new l.T({adminKey:t,apiKey:r}).listSubscriptions(e)},enabled:!!(t&&r),staleTime:3e5,retry:(e,t)=>!(t.message.includes("401")||t.message.includes("403")||t.message.includes("404"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function c(e){let{adminKey:t,apiKey:r}=(0,o.b)();return(0,s.I)({queryKey:["admin","subscription","user-id",e],queryFn:async()=>{if(!t||!r)throw Error("Admin credentials not available");return new l.T({adminKey:t,apiKey:r}).getUserSubscription(e)},enabled:!!(t&&r&&e),staleTime:12e4,retry:(e,t)=>!(t.message.includes("401")||t.message.includes("403")||t.message.includes("404"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,{adminKey:t,apiKey:r}=(0,o.b)();return(0,s.I)({queryKey:["admin","analytics","revenue",e],queryFn:async()=>{if(!t||!r)throw Error("Admin credentials not available");return new l.T({adminKey:t,apiKey:r}).getRevenueAnalytics(e)},enabled:!!(t&&r),staleTime:6e5,refetchOnWindowFocus:!1,retry:(e,t)=>!(t.message.includes("401")||t.message.includes("403")||t.message.includes("404"))&&e<2,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function f(){let{adminKey:e,apiKey:t}=(0,o.b)(),r=(0,a.jE)();return(0,n.n)({mutationFn:async r=>{if(!e||!t)throw Error("Admin credentials not available");return new l.T({adminKey:e,apiKey:t}).deleteUser(r)},onSuccess:(e,t)=>{r.invalidateQueries({queryKey:["admin","subscriptions"]}),r.invalidateQueries({queryKey:["admin","subscription","user-id",t]}),i.oR.success("User deleted successfully")},onError:e=>{e.message.includes("401")?i.oR.error("Authentication failed. Please check your admin credentials."):e.message.includes("403")?i.oR.error("Access forbidden. You do not have permission to delete users."):e.message.includes("404")?i.oR.error("User not found."):i.oR.error("Failed to delete user: ".concat(e.message))},retry:!1})}function m(){let{adminKey:e,apiKey:t}=(0,o.b)(),r=(0,a.jE)();return(0,n.n)({mutationFn:async r=>{let{userId:s,tierName:a,region:n}=r;if(!e||!t)throw Error("Admin credentials not available");return new l.T({adminKey:e,apiKey:t}).changeTier(s,a,n)},onSuccess:(e,t)=>{r.invalidateQueries({queryKey:["admin","subscriptions"]}),r.invalidateQueries({queryKey:["admin","subscription","user-id",t.userId]}),i.oR.success("Tier changed to ".concat(t.tierName," successfully"))},onError:e=>{e.message.includes("401")?i.oR.error("Authentication failed. Please check your admin credentials."):e.message.includes("403")?i.oR.error("Access forbidden. You do not have permission to change tiers."):e.message.includes("404")?i.oR.error("User not found."):i.oR.error("Failed to change tier: ".concat(e.message))},retry:(e,t)=>!(t.message.includes("401")||t.message.includes("403")||t.message.includes("404"))&&e<2})}},11186:(e,t,r)=>{r.d(t,{bq:()=>f,eb:()=>y,gC:()=>g,l6:()=>c,yv:()=>u});var s=r(95155),a=r(12115),n=r(18261),i=r(24033),o=r(12108),l=r(5917),d=r(64269);let c=n.bL;n.YJ;let u=n.WT,f=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[a,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)("span",{children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})})]})});f.displayName=n.l9.displayName;let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});m.displayName=n.PP.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let g=a.forwardRef((e,t)=>{let{className:r,children:a,position:i="popper",...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...o,children:[(0,s.jsx)(m,{}),(0,s.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(h,{})]})})});g.displayName=n.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=n.JU.displayName;let y=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:a})]})});y.displayName=n.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=n.wv.displayName},16041:(e,t,r)=>{r.d(t,{f:()=>o});var s=r(95155),a=r(12115),n=r(20063),i=r(37723);function o(e){let{children:t}=e,{isAuthenticated:r,isInitialized:o}=(0,i.b)(),l=(0,n.useRouter)();return((0,a.useEffect)(()=>{o&&!r&&l.push("/admin/login")},[r,o,l]),o&&r)?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}},20243:(e,t,r)=>{r.d(t,{E:()=>n});var s=r(95155),a=r(64269);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...r})}},37723:(e,t,r)=>{r.d(t,{T:()=>o,b:()=>l});var s=r(95155),a=r(12115),n=r(18720);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("admin_key"),t=localStorage.getItem("api_key");e&&t&&(o(e),d(t))}catch(e){}finally{u(!0)}},[]);let f=(0,a.useCallback)(()=>{try{o(null),d(null),localStorage.removeItem("admin_key"),localStorage.removeItem("api_key"),n.oR.success("Logged out successfully")}catch(e){}},[]),m=!!(r&&l);return(0,s.jsx)(i.Provider,{value:{adminKey:r,apiKey:l,isAuthenticated:m,isInitialized:c,login:(e,t)=>{o(e),d(t);try{localStorage.setItem("admin_key",e),localStorage.setItem("api_key",t)}catch(e){}},logout:f},children:t})}function l(){let e=(0,a.useContext)(i);if(!e)throw Error("useAdminAuth must be used within AdminAuthProvider");return e}},40470:(e,t,r)=>{r.d(t,{I:()=>i});var s=r(22454),a=r(37723),n=r(6834);function i(e){let{adminKey:t,apiKey:r}=(0,a.b)();return(0,s.I)({queryKey:["admin","user-emails",e.sort().join(",")],queryFn:async()=>t&&r&&e.length?new n.T({adminKey:t,apiKey:r}).getUserEmails(e):{},enabled:!!(t&&r&&e.length>0),staleTime:3e5,retry:1})}},64269:(e,t,r)=>{r.d(t,{cn:()=>n});var s=r(2821),a=r(75889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},65142:(e,t,r)=>{r.d(t,{p:()=>l});var s=r(95155),a=r(12115),n=r(83101),i=r(64269);let o=(0,n.F)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),l=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)(o(),r),ref:t,...n})});l.displayName="Input"},86948:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o});var s=r(95155),a=r(12115),n=r(64269);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"}}]);